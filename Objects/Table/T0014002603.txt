OBJECT Table 14002603 Forecast Entry
{
  OBJECT-PROPERTIES
  {
    Date=12/15/17;
    Time=12:00:00 PM;
    Version List=UBP2.97;
  }
  PROPERTIES
  {
    OnInsert=BEGIN
               ForecastCust.GET("Customer No.");
               ForecastCust.TESTFIELD(Released,FALSE);

               CheckInvPeriod;
               RecordUser;
               "New Entry" := TRUE;
             END;

    OnModify=BEGIN
               ForecastCust.GET("Customer No.");
               ForecastCust.TESTFIELD(Released,FALSE);

               CheckInvPeriod;
               RecordUser;
             END;

    CaptionML=ENU=Forecast Entry;
    LookupPageID=Page14002605;
    DrillDownPageID=Page14002605;
  }
  FIELDS
  {
    { 1   ;   ;Entry No.           ;Integer       ;CaptionML=ENU=Entry No. }
    { 10  ;   ;Customer No.        ;Code20        ;TableRelation=Customer.No.;
                                                   CaptionML=ENU=Customer No. }
    { 11  ;   ;Location Code       ;Code10        ;TableRelation=Location.Code;
                                                   CaptionML=ENU=Location Code }
    { 12  ;   ;Item No.            ;Code50        ;TableRelation=Item.No.;
                                                   CaptionML=ENU=Item No. }
    { 13  ;   ;Variant Code        ;Code10        ;TableRelation="Item Variant".Code WHERE (Item No.=FIELD(Item No.));
                                                   CaptionML=ENU=Variant Code }
    { 14  ;   ;Starting Date       ;Date          ;TableRelation="Forecast Inventory Period"."Starting Date";
                                                   CaptionML=ENU=Starting Date }
    { 15  ;   ;Quantity            ;Decimal       ;CaptionML=ENU=Quantity }
    { 16  ;   ;Released            ;Boolean       ;CaptionML=ENU=Released }
    { 17  ;   ;User ID             ;Code60        ;CaptionML=ENU=User ID }
    { 18  ;   ;Date Created        ;Date          ;CaptionML=ENU=Date Created }
    { 19  ;   ;Time Created        ;Time          ;CaptionML=ENU=Time Created }
    { 20  ;   ;New Entry           ;Boolean       ;CaptionML=ENU=New Entry }
    { 21  ;   ;Unusual Demand Adjust;Boolean      ;CaptionML=ENU=Unusual Demand Adjust }
    { 22  ;   ;Unusual Demand Cust. No.;Code20    ;TableRelation=Customer.No.;
                                                   CaptionML=ENU=Unusual Demand Cust. No. }
  }
  KEYS
  {
    {    ;Entry No.                               ;Clustered=Yes }
    {    ;Customer No.,Location Code,Item No.,Variant Code,Starting Date;
                                                   SumIndexFields=Quantity }
    {    ;Location Code,Item No.,Variant Code,Starting Date,Released;
                                                   SumIndexFields=Quantity }
    {    ;Unusual Demand Adjust                   ;MaintainSQLIndex=No;
                                                   MaintainSIFTIndex=Yes }
  }
  FIELDGROUPS
  {
  }
  CODE
  {
    VAR
      ForecastCust@1240030002 : Record 14002601;
      LocInvPeriod@1240030000 : Record 14000553;
      Text000@1240030001 : TextConst 'ENU=Entries can not be changed in period %1 because it has been closed.';

    PROCEDURE CheckInvPeriod@1240030000();
    BEGIN
      LocInvPeriod.RESET;
      LocInvPeriod.SETRANGE("Location Code","Location Code");
      LocInvPeriod.SETFILTER("Starting Date",'..%1',"Starting Date");
      LocInvPeriod.FIND('+');
      IF LocInvPeriod."Period End Closed" THEN
        ERROR(Text000,LocInvPeriod."Starting Date");
    END;

    PROCEDURE RecordUser@1240030001();
    BEGIN
      "User ID" := USERID;
      "Date Created" := TODAY;
      "Time Created" := TIME;
    END;

    BEGIN
    END.
  }
}

