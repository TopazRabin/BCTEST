OBJECT Table 23044505 IWX License Plate Header
{
  OBJECT-PROPERTIES
  {
    Date=11/08/21;
    Time=[ 2:19:10 PM];
    Modified=Yes;
    Version List=IWX2.4.7684.0,TPZ3237,3187,3333;
  }
  PROPERTIES
  {
    DataCaptionFields=No.,Status;
    OnInsert=VAR
               lrecLPTestExistingHeader@1000000000 : Record 23044505;
               Loc@1000000001 : Record 14;
             BEGIN
               IF( "No." = '' ) THEN BEGIN
                 recLPSetup.GET;
                 REPEAT
                   "No." := cuNoSeries.GetNextNo(recLPSetup."License Plate Nos.", TODAY, TRUE);
                 UNTIL ( NOT lrecLPTestExistingHeader.GET("No." ) );
               END;

               VALIDATE("Created By", COPYSTR(USERID, 1, MAXSTRLEN("Created By")));
               VALIDATE("Created On", TODAY);
               //<TPZ2808>
               IF Loc.GET("Location Code") THEN BEGIN
                 "Phys. Inv. Journal Batch" :=  Loc."Phys. Inv. Journal Batch";
                 "Whse. Phys. Inv. Jnl. Batch" := Loc."Whse. Phys. Inv. Jnl. Batch";
                 "Whse. Phys. Inv. Jnl. Batch To" := Loc."Whse. Phys. Inv. Jnl. Batch To";
                 "Whse. Item Jnl. Batch To" := Loc."Whse. Item Jnl. Batch";
               END;
               //</TPZ2808>
             END;

    OnModify=BEGIN

               IF ("Permission Required" = "Permission Required"::Yes) THEN BEGIN
                 IF( NOT cuFunctionPerms.isAllowed('Manage License Plates') ) THEN BEGIN
                   IF ( NOT Rec.Locked AND xRec.Locked) OR (Rec.Locked) THEN
                     ERROR(tcIsLocked,"No.");
                 END;
               END;

               VALIDATE("Last Modified By", COPYSTR(USERID, 1, MAXSTRLEN("Last Modified By")));
               VALIDATE("Last Modified On",TODAY);
             END;

    OnDelete=VAR
               lrecLPLines@1000000000 : Record 23044506;
               lrecLPLineUsage@1000000001 : Record 23044507;
             BEGIN
               CALCFIELDS("Source Document");

               //<IW author="Howie Zhao" date="5/30/17" issue="TFS3145" >
               IF ("Permission Required" = "Permission Required"::Yes) THEN BEGIN
                 IF( NOT cuFunctionPerms.isAllowed('Manage License Plates') ) THEN BEGIN
                   TESTFIELD("Source Document","Source Document"::" ");
                   TESTFIELD("Source Document Type","Source Document Type"::" ");

                   IF ( NOT Rec.Locked AND xRec.Locked) THEN
                     ERROR(tcIsLocked,"No.");

                   IF( Status = Status::Unbuilt ) THEN
                     ERROR(tcCannotDelete,"No.",Status);
                 END;
               END;

               lrecLPLines.SETRANGE("License Plate No.","No.");
               lrecLPLines.DELETEALL();

               lrecLPLineUsage.SETRANGE("License Plate No.","No.");
               lrecLPLineUsage.DELETEALL;
             END;

    CaptionML=[ENU=License Plate Header;
               ESM=Jefe de la placa de la licencia;
               FRC=En-tàte de la plaque d'immatriculation;
               ENC=License Plate Header];
    LookupPageID=Page23044512;
    DrillDownPageID=Page23044512;
  }
  FIELDS
  {
    { 1   ;   ;No.                 ;Code20        ;CaptionML=[ENU=No.;
                                                              ESM=Nß;
                                                              FRC=N¯;
                                                              ENC=No.];
                                                   Editable=No }
    { 5   ;   ;Description         ;Text250       ;CaptionML=[ENU=Description;
                                                              ESM=Descripci¢n;
                                                              FRC=Description;
                                                              ENC=Description] }
    { 6   ;   ;Status              ;Option        ;OnValidate=VAR
                                                                ltcCannotChangeStatusFrom@1000000000 : TextConst 'ENC=The Status cannot be changed from: %1.';
                                                                ltcCannotChangeStatusTo@1000000001 : TextConst 'ENC=The Status cannot be changed to: %1.';
                                                              BEGIN
                                                                //<IW author="Howie Zhao" date="5/30/17" issue="TFS3145" >
                                                                IF ("Permission Required" = "Permission Required"::Yes) THEN BEGIN
                                                                  IF( NOT cuFunctionPerms.isAllowed('Manage License Plates') ) THEN BEGIN
                                                                    IF( NOT (Status IN[Status::" ",Status::Quarantined]) ) THEN BEGIN
                                                                      TESTFIELD("Source Document No.",'');
                                                                      CALCFIELDS("Parent License Plate No.");
                                                                      TESTFIELD("Parent License Plate No.",'');
                                                                    END;

                                                                    IF( xRec.Status = xRec.Status::Shipped ) THEN
                                                                      ERROR(ltcCannotChangeStatusFrom, xRec.Status);

                                                                    IF( Status = Status::Shipped ) THEN
                                                                      ERROR(ltcCannotChangeStatusTo,Status);
                                                                  END;
                                                                END;

                                                                cuLPCommon.RecurseUpdateLPHeaderStatus("No.", Status, FALSE);
                                                              END;

                                                   CaptionML=[ENU=Status;
                                                              ESM=Estado;
                                                              FRC=Statut;
                                                              ENC=Status];
                                                   OptionCaptionML=[ENU=" ,Quarantined,Unbuilt,Shipped";
                                                                    ENC=" ,Quarantined,Unbuilt,Shipped"];
                                                   OptionString=[ ,Quarantined,Unbuilt,Shipped] }
    { 7   ;   ;Insurance Amount    ;Decimal       ;CaptionML=[ENU=Insurance Amount ($);
                                                              ESM=Cantidad del seguro ($);
                                                              FRC=Montant de l'assurance ($);
                                                              ENC=Insurance Amount ($)];
                                                   Description=DynamicShip Insurance;
                                                   AutoFormatType=1 }
    { 8   ;   ;Permission Required ;Option        ;InitValue=Yes;
                                                   CaptionML=[ENU=Permission Required;
                                                              ESM=Permiso requerido;
                                                              FRC=Autorisation requise;
                                                              ENC=Permission Required];
                                                   OptionCaptionML=[ENU=Yes,No;
                                                                    ESM=s°,no;
                                                                    FRC=Oui,non;
                                                                    ENC=Yes,No];
                                                   OptionString=Yes,No }
    { 9   ;   ;Template Code       ;Code20        ;TableRelation="IWX License Plate Template";
                                                   CaptionML=[ENU=Template Code;
                                                              ESM=C¢digo de plantilla;
                                                              FRC=Code de modäle;
                                                              ENC=Template Code] }
    { 14  ;   ;Has Carrier Label   ;Boolean       ;CaptionML=[ENU=Has Carrier Label;
                                                              ESM=Tiene etiqueta de transportista;
                                                              FRC=A une Çtiquette de transporteur;
                                                              ENC=Has Carrier Label];
                                                   Description=DynamicShip Label flag }
    { 15  ;   ;Created By          ;Code80        ;CaptionML=[ENU=Created By;
                                                              ESM=Creado por;
                                                              FRC=CrÇÇ par;
                                                              ENC=Created By] }
    { 16  ;   ;Created On          ;Date          ;CaptionML=[ENU=Created On;
                                                              ESM=En Creada;
                                                              FRC=CrÇÇ le;
                                                              ENC=Created On] }
    { 17  ;   ;Last Modified By    ;Code80        ;CaptionML=[ENU=Last Modified By;
                                                              ESM=ltimo cambio realizado por;
                                                              FRC=Derniäre modification par;
                                                              ENC=Last Modified By] }
    { 18  ;   ;Last Modified On    ;Date          ;CaptionML=[ENU=Last Modified On;
                                                              ESM=ltima modificaci¢n;
                                                              FRC=Derniäre mise Ö jour;
                                                              ENC=Last Modified On] }
    { 19  ;   ;Total Line Usage Qty.;Decimal      ;FieldClass=FlowField;
                                                   CalcFormula=Sum("IWX License Plate Line Usage".Quantity WHERE (License Plate No.=FIELD(No.),
                                                                                                                  Posting Date=CONST()));
                                                   CaptionML=[ENU=Total Line Usage Qty.;
                                                              ESM=Cantidad total de l°neas usado;
                                                              FRC=QuantitÇ totale de lignes utilisÇes;
                                                              ENC=Total Line Usage Qty.];
                                                   Editable=No }
    { 20  ;   ;Item Quantity Count ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("IWX License Plate Line".Quantity WHERE (License Plate No.=FIELD(No.)));
                                                   CaptionML=[ENU=Item Quantity Count;
                                                              ESM=Recuento de inventario de art°culos;
                                                              FRC=compte de la quantitÇ d'article;
                                                              ENC=Item Quantity Count];
                                                   Editable=No }
    { 21  ;   ;Line Count          ;Integer       ;FieldClass=FlowField;
                                                   CalcFormula=Count("IWX License Plate Line" WHERE (License Plate No.=FIELD(No.)));
                                                   CaptionML=[ENU=Line Count;
                                                              ESM=N£mero de l°neas;
                                                              FRC=Nombre de lignes;
                                                              ENC=Line Count];
                                                   Editable=No }
    { 22  ;   ;Unbuild on Receipt  ;Boolean       ;CaptionML=[ENU=Unbuild on Receipt;
                                                              ESM=Quebrantar en el recibo;
                                                              FRC=dÇmonter lors de la rÇception;
                                                              ENC=Unbuild on Receipt] }
    { 23  ;   ;Shipment Length     ;Decimal       ;OnValidate=BEGIN
                                                                updateShipmentCubage();
                                                              END;

                                                   CaptionML=[ENU=Shipment Length;
                                                              ESM=longitud de env°o;
                                                              FRC=Longueur de transport;
                                                              ENC=Shipment Length] }
    { 24  ;   ;Shipment Width      ;Decimal       ;OnValidate=BEGIN
                                                                updateShipmentCubage();
                                                              END;

                                                   CaptionML=[ENU=Shipment Width;
                                                              ESM=Anchura de embalaje;
                                                              FRC=Largeur de la livraison;
                                                              ENC=Shipment Width] }
    { 25  ;   ;Shipment Height     ;Decimal       ;OnValidate=BEGIN
                                                                updateShipmentCubage();
                                                              END;

                                                   CaptionML=[ENU=Shipment Height;
                                                              ESM=altura de env°o;
                                                              FRC=Hauteur de la livraison;
                                                              ENC=Shipment Height] }
    { 26  ;   ;Shpt. Dim. Unit of Measure;Code20  ;TableRelation="IWX Unit Of Measure".Code WHERE (Category=CONST(Dimension));
                                                   OnValidate=BEGIN
                                                                updateShipmentCubage();
                                                              END;

                                                   CaptionML=[ENU=Shipment Dimensions Unit of Measure;
                                                              ESM=Dimensiones de env°o Unidad de medida;
                                                              FRC=Dimensions de l'envoi UnitÇ de mesure;
                                                              ENC=Shipment Dimensions Unit of Measure] }
    { 27  ;   ;Package Carrier Label;BLOB         ;OnValidate=BEGIN
                                                                "Has Carrier Label" := TRUE; //<IW author="R.Trudeau" date="05/10/17" issue="TFS2693" >
                                                              END;

                                                   CaptionML=[ENU=Package Carrier Label;
                                                              ESM=Etiqueta del portador del paquete;
                                                              FRC=êtiquette porte-paquet;
                                                              ENC=Package Carrier Label];
                                                   Description=DynamicShip Label;
                                                   SubType=Bitmap }
    { 28  ;   ;Package Order ID    ;Text100       ;CaptionML=[ENU=Package Order ID;
                                                              ESM=ID de pedido de paquete;
                                                              FRC=ID de commande de package;
                                                              ENC=Package Order ID];
                                                   Description=DynamicShip Order ID }
    { 29  ;   ;Package Tracker ID  ;Text100       ;CaptionML=[ENU=Package Tracker ID;
                                                              ESM=ID de seguimiento de paquete;
                                                              FRC=ID de suivi de colis;
                                                              ENC=Package Tracker ID];
                                                   Description=DynamicShip Tracker ID }
    { 30  ;   ;Source Document     ;Option        ;FieldClass=FlowField;
                                                   CalcFormula=Lookup("IWX License Plate Line Usage"."Source Document" WHERE (License Plate No.=FIELD(No.),
                                                                                                                              Posting Date=FILTER(='')));
                                                   CaptionML=[ENU=Source Document;
                                                              ESM=Documento Fuente;
                                                              FRC=Document Source;
                                                              ENC=Source Document];
                                                   OptionCaptionML=[ENU=" ,Purchase Order,Sales Order,Inbound Transfer,Outbound Transfer,Prod. Order,Put-away,Pick,Movement,Invt. Put-away,Invt. Pick,Receipt,Shipment,Reclass,Purchase Return Order,Assembly,Invt. Movement,Misc. Shipment";
                                                                    ENC=" ,Purchase Order,Sales Order,Inbound Transfer,Outbound Transfer,Prod. Order,Put-away,Pick,Movement,Invt. Put-away,Invt. Pick,Receipt,Shipment,Reclass,Purchase Return Order,Assembly,Invt. Movement,Misc. Shipment"];
                                                   OptionString=[ ,Purchase Order,Sales Order,Inbound Transfer,Outbound Transfer,Prod. Order,Put-away,Pick,Movement,Invt. Put-away,Invt. Pick,Receipt,Shipment,Reclass,Purchase Return Order,Assembly,Invt. Movement,Misc. Shipment];
                                                   Description=Indicates the current document type the LP is on;
                                                   Editable=No }
    { 31  ;   ;Source No.          ;Code20        ;FieldClass=FlowField;
                                                   CalcFormula=Lookup("IWX License Plate Line Usage"."Source No." WHERE (License Plate No.=FIELD(No.),
                                                                                                                         Posting Date=FILTER(='')));
                                                   OnLookup=BEGIN
                                                              CALCFIELDS("Source Company Name","Source Document","Source No.");
                                                              cuCommonBase.showSourceDocument("Source Company Name","Source Document","Source No.");
                                                            END;

                                                   CaptionML=[ENU=Source No.;
                                                              ESM=Fuente No.;
                                                              FRC=Source No.;
                                                              ENC=Source No.];
                                                   Description=Indicates the current document no. the LP is on;
                                                   Editable=No }
    { 32  ;   ;Source Company Name ;Text30        ;FieldClass=FlowField;
                                                   CalcFormula=Lookup("IWX License Plate Line Usage"."Source Company Name" WHERE (License Plate No.=FIELD(No.),
                                                                                                                                  Posting Date=FILTER(='')));
                                                   CaptionML=[ENU=Source Company Name;
                                                              ESM=Nombre de la Compa§°a Fuente;
                                                              FRC=Nom de la sociÇtÇ Source;
                                                              ENC=Source Company Name] }
    { 33  ;   ;Shipped Source Document;Option     ;CaptionML=[ENU=Shipped Source Document;
                                                              ESM=Enviado el Documento Original;
                                                              FRC=Document source ExpÇdiÇ;
                                                              ENC=Shipped Source Document];
                                                   OptionCaptionML=ENC=" ,Purchase Order,Sales Order,Inbound Transfer,Outbound Transfer,Prod. Order,Put-away,Pick,Movement,Invt. Put-away,Invt. Pick,Receipt,Shipment,Misc. Shipment";
                                                   OptionString=[ ,Purchase Order,Sales Order,Inbound Transfer,Outbound Transfer,Prod. Order,Put-away,Pick,Movement,Invt. Put-away,Invt. Pick,Receipt,Shipment,,,,,Misc. Shipment] }
    { 34  ;   ;Shipped Source No.  ;Code20        ;OnLookup=BEGIN
                                                              cuCommonBase.showSourceDocument("Shipped Company Name","Shipped Source Document","Shipped Source No.");
                                                            END;

                                                   CaptionML=[ENU=Shipped Source No.;
                                                              ESM=Fuente No. Enviado;
                                                              FRC=Source No. ExpÇdiÇ;
                                                              ENC=Shipped Source No.] }
    { 35  ;   ;Shipped Company Name;Text30        ;CaptionML=[ENU=Shipped Company Name;
                                                              ESM=Nombre de la empresa Enviado;
                                                              FRC=Nom de l'entreprise ExpÇdiÇ;
                                                              ENC=Shipped Company Name] }
    { 36  ;   ;Shipment No.        ;Code20        ;CaptionML=[ENU=Shipment No.;
                                                              ESM=Env°o No.;
                                                              FRC=Livraison No.;
                                                              ENC=Shipment No.];
                                                   Editable=No }
    { 37  ;   ;Customs No.         ;Code20        ;TableRelation="IWX License Plate Setup";
                                                   CaptionML=[ENU=Customs No.;
                                                              ESM=No. de aduana;
                                                              FRC=N ¯ de douane;
                                                              ENC=Customs No.] }
    { 38  ;   ;Tote                ;Option        ;CaptionML=[ENU=Tote;
                                                              ESM=Totalizador;
                                                              FRC=Fourre-tout;
                                                              ENC=Tote];
                                                   OptionCaptionML=[ENU=No,Yes;
                                                                    ESM=No,S°;
                                                                    FRC=Non,Oui;
                                                                    ENC=No,Yes];
                                                   OptionString=No,Yes }
    { 39  ;   ;Tote Whse. Document Type;Option    ;CaptionML=[ENU=Tote Whse. Document Type;
                                                              ESM=Totalizador Tipo documento almacÇn;
                                                              FRC=Fourre-tout Type document magasin;
                                                              ENC=Tote Whse. Document Type];
                                                   OptionCaptionML=[ENU=" ,Pick,Shipment";
                                                                    ESM=" ,Pick.,Env°o";
                                                                    FRC=" ,PrÇlävement,Livraison";
                                                                    ENC=" ,Pick,Shipment"];
                                                   OptionString=[ ,Pick,Shipment] }
    { 40  ;   ;Tote Whse. Document No.;Code20     ;CaptionML=[ENU=Tote Whse. Document No.;
                                                              ESM=Totalizador Nß documento almacÇn;
                                                              FRC=Fourre-tout N¯ document magasin;
                                                              ENC=Tote Whse. Document No.] }
    { 41  ;   ;Tote Source Type    ;Option        ;CaptionML=[ENU=Tote Source Type;
                                                              ESM=Totalizador Tipo procedencia mov.;
                                                              FRC=Fourre-tout Type origine;
                                                              ENC=Tote Source Type];
                                                   OptionCaptionML=[ENU=" ,Sales Order,,,Sales Return Order,Purchase Order,,,Purchase Return Order,Inbound Transfer,Outbound Transfer,Prod. Consumption,Prod. Output,,,,,,Service Order,,Assembly Consumption,Assembly Order";
                                                                    ESM=" ,Pedido venta,,,Devoluci¢n venta,Pedido compra,,,Devoluci¢n compra,Transferencia entrada,Transferencia salida,Consumo prod.,Salida prod.,,,,,,Pedido servicio,,Consumo ensamblado,Pedido ensamblado";
                                                                    FRC=" ,Document de vente,,,Retour vente,Bon de commande,,,Retour achat,Transfert entrant,Transfert sortant,Consommation Bon de production,Production Bon de production,,,,,,Commande service,,Consommation d'assemblage,Ordre d'assemblage";
                                                                    ENC=" ,Sales Order,,,Sales Return Order,Purchase Order,,,Purchase Return Order,Inbound Transfer,Outbound Transfer,Prod. Consumption,Prod. Output,,,,,,Service Order,,Assembly Consumption,Assembly Order"];
                                                   OptionString=[ ,Sales Order,,,Sales Return Order,Purchase Order,,,Purchase Return Order,Inbound Transfer,Outbound Transfer,Prod. Consumption,Prod. Output,,,,,,Service Order,,Assembly Consumption,Assembly Order] }
    { 42  ;   ;Tote Source No.     ;Code20        ;CaptionML=[ENU=Tote Source No.;
                                                              ESM=Totalizador C¢d. procedencia mov.;
                                                              FRC=Fourre-tout N¯ origine;
                                                              ENC=Tote Source No.] }
    { 43  ;   ;Source Document Type;Option        ;CaptionML=[ENU=Source Document Type;
                                                              ESM=Tipo de documento fuente;
                                                              FRC=Type de document source;
                                                              ENC=Source Document Type];
                                                   OptionCaptionML=[ENU=" ,Purchase Order,Sales Order,Inbound Transfer,Outbound Transfer,Prod. Order,Put-away,Pick,Movement,Invt. Put-away,Invt. Pick,Receipt,Shipment,Reclass,Purchase Return Order,Assembly,Invt. Movement,Misc. Shipment";
                                                                    ENC=" ,Purchase Order,Sales Order,Inbound Transfer,Outbound Transfer,Prod. Order,Put-away,Pick,Movement,Invt. Put-away,Invt. Pick,Receipt,Shipment,Reclass,Purchase Return Order,Assembly,Invt. Movement,Misc. Shipment"];
                                                   OptionString=[ ,Purchase Order,Sales Order,Inbound Transfer,Outbound Transfer,Prod. Order,Put-away,Pick,Movement,Invt. Put-away,Invt. Pick,Receipt,Shipment,Reclass,Purchase Return Order,Assembly,Invt. Movement,Misc. Shipment] }
    { 44  ;   ;Source Document No. ;Code20        ;OnLookup=BEGIN
                                                              cuCommonBase.showSourceDocument(COMPANYNAME,"Source Document Type","Source Document No.");  //<IW author="R.Trudeau" date="01/07/19" issue="TFS4388" />
                                                            END;

                                                   CaptionML=[ENU=Source Document No.;
                                                              ESM=Documento fuente no.;
                                                              FRC="Document source n ¯ ";
                                                              ENC=Source Document No.] }
    { 45  ;   ;Has License Plates  ;Boolean       ;FieldClass=FlowField;
                                                   CalcFormula=Exist("IWX License Plate Line" WHERE (License Plate No.=FIELD(No.),
                                                                                                     Type=CONST(License Plate)));
                                                   CaptionML=[ENU=Has License Plates;
                                                              ESM=Tiene matr°culas;
                                                              FRC=A des plaques d'immatriculation;
                                                              ENC=Has License Plates];
                                                   Editable=No }
    { 46  ;   ;Parent License Plate No.;Code20    ;FieldClass=FlowField;
                                                   CalcFormula=Lookup("IWX License Plate Line"."License Plate No." WHERE (Type=CONST(License Plate),
                                                                                                                          No.=FIELD(No.)));
                                                   CaptionML=[ENU=Parent License Plate No.;
                                                              ESM=Matr°cula de los padres No.;
                                                              FRC=NumÇro de plaque d'immatriculation parent;
                                                              ENC=Parent License Plate No.];
                                                   Editable=No }
    { 47  ;   ;No. of License Plates;Integer      ;FieldClass=FlowField;
                                                   CalcFormula=Count("IWX License Plate Line" WHERE (License Plate No.=FIELD(No.),
                                                                                                     Type=CONST(License Plate)));
                                                   CaptionML=[ENU=No. of License Plates;
                                                              ESM=Nß de matr°culas;
                                                              FRC=Nombre de plaques d'immatriculation;
                                                              ENC=No. of License Plates];
                                                   Editable=No }
    { 49  ;   ;Location Code       ;Code10        ;TableRelation=Location;
                                                   OnValidate=VAR
                                                                loc@1000000000 : Record 14;
                                                              BEGIN
                                                                CALCFIELDS("Parent License Plate No.");
                                                                TESTFIELD("Parent License Plate No.",'');

                                                                VALIDATE("Bin Code",'');
                                                                //<TPZ2808>
                                                                IF loc.GET("Location Code") THEN BEGIN
                                                                  "Phys. Inv. Journal Batch" :=  loc."Phys. Inv. Journal Batch";
                                                                  "Whse. Phys. Inv. Jnl. Batch" := loc."Whse. Phys. Inv. Jnl. Batch";
                                                                  "Whse. Phys. Inv. Jnl. Batch To" := loc."Whse. Phys. Inv. Jnl. Batch To";
                                                                  "Whse. Item Jnl. Batch To" := loc."Whse. Item Jnl. Batch";
                                                                END;
                                                                //</TPZ2808>
                                                              END;

                                                   CaptionML=[ENU=Location Code;
                                                              ESM=C¢d. almacÇn;
                                                              FRC=Code d'emplacement;
                                                              ENC=Location Code] }
    { 50  ;   ;Bin Code            ;Code20        ;TableRelation=Bin.Code WHERE (Location Code=FIELD(Location Code));
                                                   OnValidate=VAR
                                                                lrecLocation@1000000003 : Record 14;
                                                                lrecLPLines@1000000002 : Record 23044506;
                                                                lcodNewLocation@1000000000 : Code[20];
                                                                lcodNewBin@1000000001 : Code[20];
                                                                lcodTemplateName@1000000004 : Code[10];
                                                                lcodBatchName@1000000005 : Code[10];
                                                              BEGIN
                                                                //<IW author="Howie Zhao" date="5/30/17" issue="TFS3145" >
                                                                IF ("Permission Required" = "Permission Required"::Yes) THEN BEGIN
                                                                  IF( NOT cuFunctionPerms.isAllowed('Manage License Plates') ) THEN BEGIN
                                                                    TESTFIELD("Source Document Type","Source Document Type"::" ");
                                                                    IF( (Status = Status::Shipped) OR (Status = Status::Unbuilt) ) THEN
                                                                      ERROR(tc0001,"No.",Status);
                                                                  END;
                                                                END;

                                                                CALCFIELDS("Parent License Plate No.");
                                                                TESTFIELD("Parent License Plate No.",'');


                                                                //<IW author="t.dimsdale" date="03/25/14" issue="TFS1080" >
                                                                recLPSetup.GET();

                                                                // first note the values we are trying to change to
                                                                lcodNewLocation := Rec."Location Code";
                                                                lcodNewBin := Rec."Bin Code";

                                                                // set the current values for the changeBinOnLicensePlate
                                                                // note that it will set the location and bin if it's allowed
                                                                Rec."Location Code" := xRec."Location Code";
                                                                Rec."Bin Code" := xRec."Bin Code";

                                                                IF( lrecLocation.GET(Rec."Location Code") ) THEN BEGIN
                                                                  IF( lrecLocation."Directed Put-away and Pick" ) THEN BEGIN
                                                                    lcodTemplateName := cuCommonBase.getWhseTemplate(PAGE::"Whse. Reclassification Journal");
                                                                    lcodBatchName := recLPSetup."LP Bin Whse. Move Batch Name";
                                                                  END ELSE BEGIN
                                                                    lcodTemplateName := cuCommonBase.getTemplate(PAGE::"Item Reclass. Journal");
                                                                    lcodBatchName := recLPSetup."LP Bin Move Batch Name";
                                                                  END;
                                                                END;

                                                                cuLPCommon.changeBinOnLicensePlate(
                                                                  lcodTemplateName,
                                                                  lcodBatchName,
                                                                  Rec, // by reference
                                                                  lcodNewLocation, // new location
                                                                  lcodNewBin // new bin
                                                                  );
                                                              END;

                                                   CaptionML=[ENU=Bin Code;
                                                              ESM=C¢digo Bin;
                                                              FRC=Code Bin;
                                                              ENC=Bin Code] }
    { 51  ;   ;Shipped Transaction DateTime;DateTime;
                                                   CaptionML=[ENU=Shipped Transaction DateTime;
                                                              ESM=Fecha y hora de la transacci¢n enviados;
                                                              FRC=Date et Heure de la Transaction ExpÇdiÇ;
                                                              ENC=Shipped Transaction DateTime];
                                                   Editable=No }
    { 52  ;   ;Shipment Date       ;Date          ;CaptionML=[ENU=Shipment Date;
                                                              ESM=Fecha de env°o;
                                                              FRC=Date de Livraison;
                                                              ENC=Shipment Date];
                                                   Editable=No }
    { 53  ;   ;Shipment Tracking Number;Code100   ;CaptionML=[ENU=Shipment Tracking Number;
                                                              ESM=El n£mero de seguimiento del env°o;
                                                              FRC=NumÇro de suivi de la Livraison;
                                                              ENC=Shipment Tracking Number] }
    { 54  ;   ;Shipment Net Weight ;Decimal       ;CaptionML=[ENU=Shipment Net Weight;
                                                              ESM=Env°o Peso Neto;
                                                              FRC=Poids Net de le livraison;
                                                              ENC=Shipment Net Weight] }
    { 55  ;   ;Shipment Gross Weight;Decimal      ;CaptionML=[ENU=Shipment Gross Weight;
                                                              ESM=Env°o Peso bruto;
                                                              FRC=Poids Brut de la Livraison;
                                                              ENC=Shipment Gross Weight] }
    { 56  ;   ;Current Net Weight  ;Decimal       ;CaptionML=[ENU=Current Net Weight;
                                                              ESM=De peso neto actual;
                                                              FRC=Poids net courant;
                                                              ENC=Current Net Weight];
                                                   Editable=No }
    { 57  ;   ;Current Gross Weight;Decimal       ;CaptionML=[ENU=Current Gross Weight;
                                                              ESM=Peso bruto actual;
                                                              FRC=Poids Brut actuel;
                                                              ENC=Current Gross Weight];
                                                   Editable=No }
    { 58  ;   ;Maximum Weight      ;Decimal       ;CaptionML=[ENU=Maximum Weight;
                                                              ESM=Peso m†ximo;
                                                              FRC=Poids maximum;
                                                              ENC=Maximum Weight];
                                                   Editable=Yes }
    { 59  ;   ;Minimum Weight      ;Decimal       ;CaptionML=[ENU=Minimum Weight;
                                                              ESM=Peso m°nimo;
                                                              FRC=Poids Minimum;
                                                              ENC=Minimum Weight];
                                                   Editable=Yes }
    { 60  ;   ;Length              ;Decimal       ;OnValidate=BEGIN
                                                                cuLPCommon.updateCharacteristics( Rec, recLPLineNotUsed, FALSE,'');
                                                              END;

                                                   CaptionML=[ENU=Length;
                                                              ESM=Longitud;
                                                              FRC=Longueur;
                                                              ENC=Length] }
    { 61  ;   ;Width               ;Decimal       ;OnValidate=BEGIN
                                                                cuLPCommon.updateCharacteristics( Rec, recLPLineNotUsed, FALSE,'');
                                                              END;

                                                   CaptionML=[ENU=Width;
                                                              ESM=Anchura;
                                                              FRC=Largeur;
                                                              ENC=Width] }
    { 62  ;   ;Height              ;Decimal       ;OnValidate=BEGIN
                                                                cuLPCommon.updateCharacteristics( Rec, recLPLineNotUsed, FALSE,'');
                                                              END;

                                                   CaptionML=[ENU=Height;
                                                              ESM=Altura;
                                                              FRC=Hauteur;
                                                              ENC=Height] }
    { 66  ;   ;Current Cubage      ;Decimal       ;CaptionML=[ENU=Current Cubage;
                                                              ESM=Cubage actual;
                                                              FRC=Cubage actuel;
                                                              ENC=Current Cubage];
                                                   Editable=No }
    { 67  ;   ;Maximum Cubage      ;Decimal       ;CaptionML=[ENU=Maximum Cubage;
                                                              ESM=Cubage m†ximo;
                                                              FRC=Cubage Maximum;
                                                              ENC=Maximum Cubage];
                                                   Editable=Yes }
    { 68  ;   ;Minimum Cubage      ;Decimal       ;CaptionML=[ENU=Minimum Cubage;
                                                              ESM=Cubage m°nimo;
                                                              FRC=Cubage Minimum;
                                                              ENC=Minimum Cubage];
                                                   Editable=Yes }
    { 69  ;   ;Shipment Cubage     ;Decimal       ;CaptionML=[ENU=Shipment Cubage;
                                                              ESM=Cubage env°o;
                                                              FRC=Cubage de la Livraison;
                                                              ENC=Shipment Cubage];
                                                   Editable=No }
    { 70  ;   ;Current Item Count  ;Decimal       ;CaptionML=[ENU=Current Item Count;
                                                              ESM=N£mero de elementos de corriente;
                                                              FRC=Nombre d'ÇlÇments actuels;
                                                              ENC=Current Item Count];
                                                   Editable=No }
    { 71  ;   ;Shipped Item Count  ;Decimal       ;CaptionML=[ENU=Shipped Item Count;
                                                              ESM=N£mero de elementos enviados;
                                                              FRC=Nombre d'ÇlÇments ExpÇdiÇ;
                                                              ENC=Shipped Item Count] }
    { 72  ;   ;EDI Status          ;Option        ;OnValidate=BEGIN
                                                                IF ((Rec."EDI Status" = Rec."EDI Status"::Sent) AND (xRec."EDI Status" <> Rec."EDI Status"::Sent)) THEN BEGIN
                                                                  Rec."EDI Sent Date" := CURRENTDATETIME;
                                                                // END ELSE BEGIN
                                                                //  Rec."EDI Sent Date" := 0DT;
                                                                END; // IF Sent
                                                              END;

                                                   CaptionML=[ENU=EDI Status;
                                                              ESM=Estado EDI;
                                                              FRC=Statut EDI;
                                                              ENC=EDI Status];
                                                   OptionCaptionML=[ENU=" ,,,Not Ready To Send,,,Ready To Send,,,Sent";
                                                                    ENC=" ,,,Not Ready To Send,,,Ready To Send,,,Sent"];
                                                   OptionString=[ ,,,Not Ready To Send,,,Ready To Send,,,Sent] }
    { 73  ;   ;EDI Sent Date       ;DateTime      ;CaptionML=[ENU=EDI Sent Date;
                                                              ESM=Fecha de env°o EDI;
                                                              FRC=Date d'envoi EDI;
                                                              ENC=EDI Sent Date] }
    { 74  ;   ;Locked              ;Boolean       ;OnValidate=BEGIN
                                                                IF ("Permission Required" = "Permission Required"::Yes) THEN BEGIN
                                                                  IF( GUIALLOWED AND NOT cuFunctionPerms.isAllowed('Manage License Plates') ) THEN BEGIN
                                                                    IF ( NOT Rec.Locked AND xRec.Locked) THEN BEGIN
                                                                      //
                                                                      // If it was locked, and you're a user, and you don't have the ability to manage
                                                                      // license plates, and you're trying to unlock this, then you should get an error.
                                                                      //
                                                                      ERROR(tcIsLocked,"No.");
                                                                      //
                                                                      // Otherwise, if you're allowed to manage you can change it, or if the previous
                                                                      // version was unlocked (changing from unlocked to locked) that is also ok.
                                                                      //
                                                                    END;
                                                                  END;
                                                                END;
                                                              END;

                                                   CaptionML=[ENU=Locked;
                                                              ESM=bloqueado;
                                                              FRC=cadenassÇ;
                                                              ENC=Locked];
                                                   Editable=Yes }
    { 75  ;   ;Dim. Unit of Measure;Code20        ;TableRelation="IWX Unit Of Measure".Code WHERE (Category=CONST(Dimension));
                                                   OnValidate=BEGIN
                                                                cuLPCommon.updateCharacteristics( Rec, recLPLineNotUsed, FALSE,'');
                                                              END;

                                                   CaptionML=[ENU=Dimensions Unit of Measure;
                                                              ESM=Dimensiones Unidad de medida;
                                                              FRC=Dimensions UnitÇ de mesure;
                                                              ENC=Dimensions Unit of Measure] }
    { 76  ;   ;Cubage Unit of Measure;Code20      ;TableRelation="IWX Unit Of Measure".Code WHERE (Category=CONST(Capacity));
                                                   OnValidate=BEGIN
                                                                cuLPCommon.updateCharacteristics( Rec, recLPLineNotUsed, FALSE,'');
                                                              END;

                                                   CaptionML=[ENU=Cubage unit of measure;
                                                              ESM=Pieza Cubicaje de medida;
                                                              FRC=UnitÇ de mesure cubage;
                                                              ENC=Cubage unit of measure] }
    { 77  ;   ;Weight Unit of Measure;Code20      ;TableRelation="IWX Unit Of Measure".Code WHERE (Category=CONST(Weight));
                                                   CaptionML=[ENU=Weight Unit of Measure;
                                                              ESM=Peso de la unidad de medida;
                                                              FRC=UnitÇ de poids de mesure;
                                                              ENC=Weight Unit of Measure] }
    { 78  ;   ;Package Tracking Number;Code100    ;CaptionML=[ENU=Package Tracking Number;
                                                              ESM=El paquete del n£mero de seguimiento;
                                                              FRC=Package numÇro de suivi;
                                                              ENC=Package Tracking Number] }
    { 79  ;   ;Created by Device   ;Code20        ;CaptionML=[ENU=Created by Device;
                                                              ESM=Creado por Device;
                                                              FRC=CrÇÇ par Device;
                                                              ENC=Created by Device] }
    { 80  ;   ;Last Modified by Device;Code20     ;CaptionML=[ENU=Last Modified by Device;
                                                              ESM=Èltima modificaci¢n por Device;
                                                              FRC=Derniäre mise Ö jour par Device;
                                                              ENC=Last Modified by Device] }
    { 81  ;   ;Processing State    ;Option        ;CaptionML=[ENU=Processing State;
                                                              ESM=Estado de procesamiento;
                                                              FRC=êtat de traitement;
                                                              ENC=Processing State];
                                                   OptionCaptionML=[ENU=" ,Removing,Building";
                                                                    ESM=" ,Removiendo,Edificio";
                                                                    FRC=" ,Enlävement,BÉtiment";
                                                                    ENC=" ,Removing,Building"];
                                                   OptionString=[ ,Removing,Building] }
    { 82  ;   ;Shipment Tracking URL;Text150      ;CaptionML=[ENU=Shipment Tracking URL;
                                                              ESM=URL de seguimiento de env°o;
                                                              FRC=URL de suivi des envois;
                                                              ENC=Shipment Tracking URL] }
    { 83  ;   ;Insurance Value Handling;Option    ;CaptionML=[ENU=Insurance Value Handling;
                                                              ESM=Manejo del valor del seguro;
                                                              FRC=Gestion de la valeur d'assurance;
                                                              ENC=Insurance Value Handling];
                                                   OptionCaptionML=[ENU=Never,Content Cost,Content Price,Custom;
                                                                    ENC=Never,Content Cost,Content Price,Custom];
                                                   OptionString=Never,Content Cost,Content Price,Custom;
                                                   Description=TFS3801,TPZ2693 }
    { 84  ;   ;Manifest No.        ;Code20        ;CaptionML=[ENU=Manifest No.;
                                                              ESM=Manifiesto No.;
                                                              FRC=N ¯ de manifeste;
                                                              ENC=Manifest No.];
                                                   Description=TFS3647 }
    { 85  ;   ;SSCC                ;Code18         }
    { 50001;  ;SKID                ;Code20        ;Description=TPZ2101 }
    { 50002;  ;Phys. Inv. Journal Batch;Code10    ;TableRelation="Item Journal Batch".Name WHERE (Journal Template Name=CONST(PHYS. INVE));
                                                   DataClassification=ToBeClassified;
                                                   CaptionML=[ENU=Phys. Inv. Journal Batch;
                                                              ESM=Phys. Inv. Diario de lotes;
                                                              FRC=Lot de Journal d'Inv. Phys.;
                                                              ENC=Phys. Inv. Journal Batch];
                                                   Description=TPZ2808 }
    { 50003;  ;Whse. Phys. Inv. Jnl. Batch;Code10 ;TableRelation="Warehouse Journal Batch".Name WHERE (Journal Template Name=CONST(PHYSICAL I));
                                                   DataClassification=ToBeClassified;
                                                   CaptionML=[ENU=Whse. Phys. Inv. Jnl. Batch;
                                                              ESM=Dep¢sito Phys. Inv. Diario de lotes;
                                                              FRC=Entrepìt de Lot de Journal d'Inv. Phys.;
                                                              ENC=Whse. Phys. Inv. Jnl. Batch];
                                                   Description=TPZ2808 }
    { 50004;  ;Whse. Phys. Inv. Jnl. Batch To;Code10;
                                                   TableRelation="Warehouse Journal Batch".Name WHERE (Journal Template Name=CONST(PHYSICAL I));
                                                   DataClassification=ToBeClassified;
                                                   CaptionML=[ENU=Whse. Phys. Inv. Jnl. Batch To;
                                                              ESM=Reclasif. Diario de lotes;
                                                              FRC=Reclass. Journal lot;
                                                              ENC=Reclass. Journal Batch];
                                                   Description=TPZ2808 }
    { 50005;  ;Whse. Item Jnl. Batch To;Code10    ;TableRelation="Warehouse Journal Batch".Name WHERE (Journal Template Name=CONST(ITEM));
                                                   DataClassification=ToBeClassified;
                                                   CaptionML=[ENU=Whse. Item Jnl. Batch To;
                                                              ESM=Reclasif. Diario de lotes;
                                                              FRC=Reclass. Journal lot;
                                                              ENC=Reclass. Journal Batch];
                                                   Description=TPZ2808 }
    { 50006;  ;Phy Inv Jnl Posted  ;Boolean       ;DataClassification=ToBeClassified;
                                                   Description=TPZ2808 }
    { 50007;  ;Whse + PJnl  Posted ;Boolean       ;DataClassification=ToBeClassified;
                                                   Description=TPZ2808 }
    { 50008;  ;Whse - PJnl - Posted;Boolean       ;DataClassification=ToBeClassified;
                                                   Description=TPZ2808 }
    { 50009;  ;Whse Item Jnl Posted;Boolean       ;DataClassification=ToBeClassified;
                                                   Description=TPZ2808 }
    { 50010;  ;Order No.           ;Code20        ;DataClassification=ToBeClassified;
                                                   Description=TPZ3237 }
    { 50012;  ;BOL No.             ;Code20        ;DataClassification=ToBeClassified;
                                                   Description=3187 }
    { 50013;  ;Freight Cost        ;Decimal       ;DataClassification=ToBeClassified;
                                                   Description=3333 }
    { 50014;  ;EDI Trade Partner No.;Code10       ;DataClassification=ToBeClassified }
    { 50015;  ;Ship-to code        ;Code10        ;DataClassification=ToBeClassified }
    { 50016;  ;Shipping Agent Code ;Code10        ;DataClassification=ToBeClassified }
    { 50017;  ;Shipping Agent Service;Code20      ;DataClassification=ToBeClassified }
    { 50018;  ;Ship-to No.         ;Code10        ;DataClassification=ToBeClassified }
    { 50019;  ;Ship-to Country Code;Code10        ;DataClassification=ToBeClassified }
    { 50020;  ;Ship-from Country Code;Code10      ;DataClassification=ToBeClassified }
    { 50021;  ;EDI Internal Doc. No.;Code10       ;DataClassification=ToBeClassified }
    { 50022;  ;EDI ASN Generated   ;Boolean       ;DataClassification=ToBeClassified }
    { 50023;  ;EDI ASN Gen. Date   ;Date          ;DataClassification=ToBeClassified }
    { 50024;  ;Ship-to_Name        ;Text30        ;DataClassification=ToBeClassified }
    { 50025;  ;Ship-from_Address   ;Text30        ;DataClassification=ToBeClassified }
    { 50026;  ;Ship-from_Address_2 ;Text30        ;DataClassification=ToBeClassified }
    { 50027;  ;Ship-to_Address     ;Text30        ;DataClassification=ToBeClassified }
    { 50028;  ;Ship-to_Address_2   ;Text30        ;DataClassification=ToBeClassified }
    { 50029;  ;Ship-from_City      ;Text10        ;DataClassification=ToBeClassified }
    { 50030;  ;Ship-from_State     ;Text10        ;DataClassification=ToBeClassified }
    { 50031;  ;Ship-from_ZIP_Code  ;Text10        ;DataClassification=ToBeClassified }
    { 50032;  ;Ship-to_City        ;Text10        ;DataClassification=ToBeClassified }
    { 50033;  ;Ship-to_State       ;Text10        ;DataClassification=ToBeClassified }
    { 50034;  ;Ship-to_ZIP_Code    ;Text10        ;DataClassification=ToBeClassified }
    { 50035;  ;Ship-from Name      ;Text30        ;DataClassification=ToBeClassified }
    { 50036;  ;Ship-from Name 2    ;Text30        ;DataClassification=ToBeClassified }
    { 50037;  ;Ship-to Phone No.   ;Text30        ;DataClassification=ToBeClassified }
    { 50038;  ;Ship-from Phone No. ;Text30        ;DataClassification=ToBeClassified }
    { 50039;  ;Shipping Payment Type;Option       ;DataClassification=ToBeClassified;
                                                   OptionCaptionML=ENU=Prepaid,Third Party,Freight Collect,Consignee;
                                                   OptionString=Prepaid,Third Party,Freight Collect,Consignee }
  }
  KEYS
  {
    {    ;No.                                     ;Clustered=Yes }
    {    ;Location Code,Bin Code,Status            }
  }
  FIELDGROUPS
  {
  }
  CODE
  {
    VAR
      recLPLineNotUsed@1000000010 : Record 23044506;
      recLPSetup@1000000007 : Record 23044523;
      tcCannotDelete@1000000001 : TextConst 'ENU=License Plate No.: %1 cannot be deleted while the status is: %2.;FRC=No. de palette: %1 ne peut àtre supprimer pendant que le statut est: %2.;ENC=License Plate No.: %1 cannot be deleted while the status is: %2.';
      cuNoSeries@1000000003 : Codeunit 396;
      tcNotAssigned@1000000004 : TextConst 'ENU=License Plate: %1 is not currently assigned to anything.;FRC=Palette: %1 n''est pas actuellement assignÇe.;ENC=License Plate: %1 is not currently assigned to anything.';
      tc0001@1000000005 : TextConst 'ENU=License Plate ''%1'' bin location cannot be changed while the status is: %2.;FRC=Palette ''%1'' emplacement bin ne peut àtre changÇ lorsque le statut est: %2.';
      cuFunctionPerms@1000000006 : Codeunit 23044523;
      tcIsLocked@1000000008 : TextConst 'ENU=License Plate No.: %1 cannot be modified or deleted while it''s locked;FRC=No. Palette : %1 ne peut àtre modifiÇ ou supprimÇ lorsqu''il est vÇrouillÇ.;ENC=License Plate No.: %1 cannot be modified while it''s locked';
      tcUpdateLPReclass@1000000009 : TextConst 'ENU=Apply license plate lines,Apply based on selected journal lines;FRC=Appliquer les lignes de plaque d''immatriculation, Appliquer sur la base des lignes de revues s˘›lectionn˘›es;ENC=Apply license plate lines,Apply based on selected journal lines';
      cuCommonBase@1000000002 : Codeunit 23044519;
      cuLPCommon@1000000011 : Codeunit 23044541;

    PROCEDURE removeUsage@1000000000(pbShowErrors@1000000002 : Boolean);
    VAR
      lrecLPHeader@100000000 : Record 23044505;
      lrecLPLineUsage@1000000000 : Record 23044507;
      lcuRemoveLPUsage@1000000001 : Codeunit 23044521;
      ltcError@1000000003 : TextConst 'ENC=There was an error deleting the assignment.\Do you wish to delete the assignment anyway?\\License Plate No.: %1, Line No.: %2, Usage Line No.: %3\\The error was:\%4';
      lrecLPLineUsageToRemove@1000000004 : Record 23044507;
    BEGIN
      //////////////////////////////////////////////
      //<Summary>
      // Removes the LP usage.
      // Will cycle through all the lines and attempt to delete.
      //</Summary>
      //<Author>R.Trudeau</Author>
      //<Date>7/7/2011</Date>
      //<Issue>293</Issue>
      //<Version>IW1.0</Version>
      //////////////////////////////////////////////

      IF( "Source Document Type" = "Source Document Type"::" ") THEN BEGIN //<IW author="R.Trudeau" date="01/07/19" issue="TFS4388" />
        IF( pbShowErrors ) THEN
          ERROR(tcNotAssigned,"No.")
        ELSE
          EXIT;
      END;

      lrecLPLineUsage.SETRANGE("License Plate No.","No.");
      lrecLPLineUsage.SETRANGE("Posting Date", 0D );

      //
      // Changed behavior to delete the usage after the codeunit has been called.
      //
      IF( lrecLPLineUsage.FINDSET(FALSE) ) THEN BEGIN
        REPEAT
          lcuRemoveLPUsage.RUN(lrecLPLineUsage);
          lrecLPLineUsageToRemove := lrecLPLineUsage;
          IF ( lrecLPLineUsageToRemove.GET( lrecLPLineUsage."Entry No.") ) THEN BEGIN
            IF ( lrecLPLineUsageToRemove.DELETE(FALSE) ) THEN; // then nothing
          END;
        UNTIL(lrecLPLineUsage.NEXT=0);
      END;


      lrecLPLineUsage.DELETEALL;

      lrecLPHeader.GET("No.");
      lrecLPHeader."Source Document" := "Source Document"::" ";
      lrecLPHeader."Source No." := '';
      lrecLPHeader.MODIFY();



      lcuRemoveLPUsage.resetShippedStatus("No.");
    END;

    PROCEDURE undoLPShipment@1000000001();
    VAR
      lrecLPLineUsage@1000000000 : Record 23044507;
    BEGIN
      //////////////////////////////////////////////
      //<Summary>
      // Will take the License Plate usage and attempt to undo the sales shipment.
      //</Summary>
      //<Author>R.Trudeau</Author>
      //<Date>7/29/2011</Date>
      //<Issue>293</Issue>
      //<Version>IW1.0</Version>
      //////////////////////////////////////////////

      lrecLPLineUsage.SETRANGE("License Plate No.","No.");
      lrecLPLineUsage.SETFILTER("Posting Date",'<>%1',0D);
      lrecLPLineUsage.SETRANGE("Source Company Name","Shipped Company Name");
      lrecLPLineUsage.SETRANGE("Source No.","Shipped Source No.");
      lrecLPLineUsage.SETRANGE("Source Document","Shipped Source Document");

      IF( lrecLPLineUsage.FIND('-') ) THEN BEGIN
        REPEAT

        UNTIL(lrecLPLineUsage.NEXT=0);
      END;

      // update the header
      Status := Status::" ";
      "Shipped Company Name" := '';
      "Shipped Source Document" := "Shipped Source Document"::" ";
      "Shipped Source No." := '';
      MODIFY;
    END;

    PROCEDURE updateShipmentCubage@1000000003();
    BEGIN
      "Shipment Cubage" := "Shipment Length" * "Shipment Width" * "Shipment Height";
    END;

    BEGIN
    {
      ************************
      Copyright Notice
      This objects content is copyright of Insight Works 2011.  All rights reserved.
      Any redistribution or reproduction of part or all of the contents in any form is prohibited.
      ************************
      2017-12-07 TPZ2101 DKUMAR
        Field added SKID

      2019-11-13 TPZ2693 VAHAMAD
       Fields Added "Shipment Tracking URL","Insurance Value Handling","Manifest No."
      2020-05-07 TPZ2808 VAHMAD
        New Field added Phys. Inv. Journal Batch
        New Field added Whse. Phys. Inv. Jnl. Batch
        New Field added Whse. Phys. Inv. Jnl. Batch To
        New Field added Whse. Item Jnl. Batch
        New Field added Phy Inv Jnl Posted
        New Field added Whse + PJnl  Posted
        New Field added Whse - PJnl - Posted
        New Field added Whse Item Jnl Posted
      2020-07-01 TPZ2808 VAHAMAD
        Added code OnAfterGetRecord of Location Code
      001 2020-07-16 TPZ3237 VAH Flow order no into LP
      002 TPZ3187 10052021 VAH Added new field "BOL No."
      003 TPZ3333 PKS 08272021 Added Freight Cost Field
    }
    END.
  }
}

