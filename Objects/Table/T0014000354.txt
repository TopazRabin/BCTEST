OBJECT Table 14000354 EDI Segment
{
  OBJECT-PROPERTIES
  {
    Date=08/27/08;
    Time=12:00:00 PM;
    Version List=SE0.53.25;
  }
  PROPERTIES
  {
    DataPerCompany=Yes;
    OnInsert=BEGIN
               "Date Changed" := TODAY;
               "Changed By" := USERID;
             END;

    OnModify=BEGIN
               "Date Changed" := TODAY;
               "Changed By" := USERID;
             END;

    OnDelete=BEGIN
               EDISegment.RESET;
               EDISegment.SETRANGE(EDISegment."Trade Partner No.","Trade Partner No.");
               EDISegment.SETRANGE(EDISegment."Navision Document","Navision Document");
               EDISegment.SETRANGE(EDISegment."EDI Document No.","EDI Document No.");
               EDISegment.SETRANGE(EDISegment.Version,Version);
               EDISegment.SETRANGE(EDISegment.Type,Type);
               EDISegment.SETRANGE(EDISegment.Segment,Segment);
               IF EDISegment.COUNT = 1 THEN BEGIN
                 EDIElement.SETRANGE(EDIElement."Trade Partner No.","Trade Partner No.");
                 EDIElement.SETRANGE(EDIElement."Navision Document","Navision Document");
                 EDIElement.SETRANGE(EDIElement."EDI Document No.","EDI Document No.");
                 EDIElement.SETRANGE(EDIElement.Version,Version);
                 EDIElement.SETRANGE(EDIElement.Type,Type);
                 EDIElement.SETRANGE(EDIElement.Segment,Segment);
                 EDIElement.DELETEALL;
               END;
             END;

    IncludeDataInDesc=No;
    CaptionML=ENU=EDI Segment;
  }
  FIELDS
  {
    { 5   ;   ;Trade Partner No.   ;Code20        ;TableRelation="EDI Document"."Trade Partner No.";
                                                   CaptionML=ENU=Trade Partner No. }
    { 7   ;   ;Navision Document   ;Code10        ;TableRelation="EDI Document"."Navision Document" WHERE (Trade Partner No.=FIELD(Trade Partner No.));
                                                   CaptionML=ENU=Navision Document }
    { 10  ;   ;EDI Document No.    ;Code3         ;TableRelation="EDI Document"."EDI Document No." WHERE (Trade Partner No.=FIELD(Trade Partner No.),
                                                                                                          Navision Document=FIELD(Navision Document));
                                                   CaptionML=ENU=EDI Document No. }
    { 15  ;   ;Version             ;Code10        ;TableRelation="EDI Document".Version WHERE (Trade Partner No.=FIELD(Trade Partner No.),
                                                                                               Navision Document=FIELD(Navision Document),
                                                                                               EDI Document No.=FIELD(EDI Document No.));
                                                   CaptionML=ENU=Version }
    { 17  ;   ;Type                ;Option        ;TableRelation="EDI Document".Type WHERE (Trade Partner No.=FIELD(Trade Partner No.),
                                                                                            Navision Document=FIELD(Navision Document),
                                                                                            EDI Document No.=FIELD(EDI Document No.),
                                                                                            Version=FIELD(Version),
                                                                                            Type=FIELD(Type));
                                                   CaptionML=ENU=Type;
                                                   OptionCaptionML=ENU=" ,Import,Export";
                                                   OptionString=[ ,Import,Export] }
    { 20  ;   ;Proc Sequence       ;Integer       ;CaptionML=ENU=Proc Sequence }
    { 30  ;   ;Segment             ;Code15        ;OnValidate=BEGIN
                                                                IF ("Segment Type" = "Segment Type"::Command) AND
                                                                   ((Segment <> 'LINE BEGIN') AND
                                                                    (Segment <> 'LINE END') AND
                                                                    (Segment <> 'HL SHIP BEGIN') AND
                                                                    (Segment <> 'HL PO BEGIN') AND
                                                                    (Segment <> 'HL TARE BEGIN') AND
                                                                    (Segment <> 'HL PACK BEGIN') AND
                                                                    (Segment <> 'HL ITEM BEGIN') AND
                                                                    (Segment <> 'HL END')) THEN
                                                                  ERROR(
                                                                    Text001 +
                                                                    '\' +
                                                                    'LINE BEGIN\' +
                                                                    'LINE END\' +
                                                                    'HL SHIP BEGIN\' +
                                                                    'HL PO BEGIN\' +
                                                                    'HL TARE BEGIN\' +
                                                                    'HL PACK BEGIN\' +
                                                                    'HL ITEM BEGIN\' +
                                                                    'HL END');
                                                              END;

                                                   CaptionML=ENU=Segment }
    { 40  ;   ;Segment Name        ;Text40        ;CaptionML=ENU=Segment Name }
    { 50  ;   ;NAV Table No.       ;Integer       ;TableRelation="EDI NAV Tables"."NAV Table No.";
                                                   OnValidate=BEGIN
                                                                CALCFIELDS("NAV Table Name");
                                                              END;

                                                   CaptionML=ENU=NAV Table No. }
    { 60  ;   ;NAV Table Name      ;Text40        ;FieldClass=FlowField;
                                                   CalcFormula=Lookup("EDI NAV Tables"."NAV Table Name" WHERE (NAV Table No.=FIELD(NAV Table No.)));
                                                   CaptionML=ENU=NAV Table Name;
                                                   Editable=No }
    { 70  ;   ;Segment Type        ;Option        ;CaptionML=ENU=Segment Type;
                                                   OptionCaptionML=ENU=Segment,Command;
                                                   OptionString=Segment,Command }
    { 200 ;   ;Date Changed        ;Date          ;CaptionML=ENU=Date Changed }
    { 201 ;   ;Changed By          ;Code50        ;CaptionML=ENU=Changed By }
  }
  KEYS
  {
    {    ;Trade Partner No.,Navision Document,EDI Document No.,Version,Type,Proc Sequence,Segment;
                                                   Clustered=Yes }
  }
  FIELDGROUPS
  {
  }
  CODE
  {
    VAR
      EDISegment@1000000000 : Record 14000354;
      EDIElement@1000000001 : Record 14000355;
      Text001@1001 : TextConst 'ENU=If the Segment Type is set to Command then Valid segments are:\';

    BEGIN
    END.
  }
}

