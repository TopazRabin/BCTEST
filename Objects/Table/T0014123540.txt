OBJECT Table 14123540 ES Login Setup
{
  OBJECT-PROPERTIES
  {
    Date=05/04/16;
    Time=12:00:00 PM;
    Version List=ES1.41.18;
  }
  PROPERTIES
  {
    OnInsert=BEGIN
               TestEditFLADS(xRec."Edit Setup (FLADS)");

               Comment(1,STRSUBSTNO(Text003,TABLECAPTION,"User ID"));
             END;

    OnModify=BEGIN
               TestEditFLADS(xRec."Edit Setup (FLADS)");

               Comment(1,STRSUBSTNO(Text004,TABLECAPTION,"User ID"));
             END;

    OnDelete=BEGIN
               "Edit Setup (FLADS)" := FALSE;
               TestEditFLADS(xRec."Edit Setup (FLADS)");

               Comment(1,STRSUBSTNO(Text005,TABLECAPTION,"User ID"));
             END;

    OnRename=BEGIN
               ERROR(Text002);
             END;

    CaptionML=ENU=Login Setup;
    LookupPageID=Page14123530;
    DrillDownPageID=Page14123530;
  }
  FIELDS
  {
    { 1   ;   ;User ID             ;Code50        ;OnValidate=BEGIN
                                                                LoginMgt.ValidateUserID("User ID");
                                                              END;

                                                   OnLookup=BEGIN
                                                              LoginMgt.LookupUserID("User ID");
                                                            END;

                                                   CaptionML=ENU=User ID;
                                                   NotBlank=Yes }
    { 12  ;   ;Autostart Recording ;Boolean       ;CaptionML=ENU=Autostart Recording }
    { 14  ;   ;Autostart Recording Code;Code30    ;TableRelation="ES Recording";
                                                   CaptionML=ENU=Autostart Recording Code }
    { 15  ;   ;Limited Access Control Editing;Boolean;
                                                   CaptionML=ENU=Limited Access Control Editing }
    { 16  ;   ;Edit User Security Setup;Boolean   ;CaptionML=ENU=Edit User Security Setup }
    { 17  ;   ;Edit Field level Sec. Codes;Boolean;CaptionML=ENU=Edit Field level Security Codes }
    { 18  ;   ;Edit Data Security Codes;Boolean   ;CaptionML=ENU=Edit Data Security Codes }
    { 19  ;   ;Edit Group Members (FLADS);Boolean ;CaptionML=ENU=Edit Group Members (Field Level and Data Security) }
    { 20  ;   ;Edit Setup (FLADS)  ;Boolean       ;OnValidate=BEGIN
                                                                TestEditFLADS(xRec."Edit Setup (FLADS)");
                                                              END;

                                                   CaptionML=ENU=Edit Setup (Field Level and Data Security) }
    { 21  ;   ;Edit User Filters   ;Boolean       ;CaptionML=ENU=Edit User Filters }
    { 22  ;   ;Direct Login Integration;Boolean   ;CaptionML=ENU=Direct Login Integration }
    { 23  ;   ;Direct Role Integration;Boolean    ;CaptionML=ENU=Direct Permission Set Integration }
    { 24  ;   ;No SQL Details on Import Rec.;Boolean;
                                                   CaptionML=ENU=No SQL Details on Import Recording }
    { 25  ;   ;No Confirm on Import Recording;Boolean;
                                                   CaptionML=ENU=No Confirm on Import Recording }
    { 26  ;   ;Allow Modify Comments;Boolean      ;CaptionML=ENU=Allow Modify Comments }
    { 27  ;   ;Allow Delete Comments;Boolean      ;CaptionML=ENU=Allow Delete Comments }
  }
  KEYS
  {
    {    ;User ID                                 ;Clustered=Yes }
  }
  FIELDGROUPS
  {
  }
  CODE
  {
    VAR
      ESFLADSSetup@1240520001 : Record 14123801;
      ESLoginSetup@1240520002 : Record 14123540;
      LoginMgt@1240520008 : Codeunit 418;
      Text001@1001 : TextConst 'ENU=No other %1 exists with %2.';
      Text002@1240520003 : TextConst 'ENU=Rename not allowed.';
      Text003@1002 : TextConst 'ENU=Inserted %1 %2';
      Text004@1003 : TextConst 'ENU=Modified %1 %2';
      Text005@1004 : TextConst 'ENU=Deleted %1 %2';

    PROCEDURE TestEditFLADS@1240520001(xRecEditFLADSSetup@1240520001 : Boolean);
    BEGIN
      IF NOT ESFLADSSetup.GET('') THEN
        EXIT;
      IF NOT ESFLADSSetup."Use Login Setup" THEN
        EXIT;

      IF "Edit User Security Setup" OR "Edit Field level Sec. Codes" OR
         "Edit Data Security Codes" OR "Edit Group Members (FLADS)" OR
         "Edit Setup (FLADS)"
      THEN BEGIN
        ESLoginSetup.GET(USERID);
        ESLoginSetup.TESTFIELD("Edit Setup (FLADS)");
      END;

      IF xRecEditFLADSSetup AND NOT "Edit Setup (FLADS)" AND
         (UPPERCASE(USERID) = "User ID")
      THEN BEGIN
        ESLoginSetup.RESET;
        ESLoginSetup.SETRANGE("Edit Setup (FLADS)",TRUE);
        IF ESLoginSetup.FIND('-') THEN
          REPEAT
            IF ESLoginSetup."User ID" <> UPPERCASE(USERID) THEN
              EXIT;
          UNTIL ESLoginSetup.NEXT = 0;

        ERROR(
          Text001,
          ESLoginSetup.TABLECAPTION,ESLoginSetup.FIELDCAPTION("Edit Setup (FLADS)"));
      END;
    END;

    PROCEDURE Comment@1240520020(FunctionNo@1240520008 : ' ,Insert,Show,Exist,DeleteAll';NewText@1240520010 : Text[250]) : Boolean;
    VAR
      ESComment@1240520009 : Record 14123524;
    BEGIN
      ESComment.RESET;
      ESComment.SETRANGE("Table ID",DATABASE::"ES Login Setup");
      ESComment.SETRANGE("User ID","User ID");
      EXIT(ESComment.Functions(FunctionNo,NewText));
    END;

    BEGIN
    END.
  }
}

