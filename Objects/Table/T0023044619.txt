OBJECT Table 23044619 DSHIP Shipment Manifest Line
{
  OBJECT-PROPERTIES
  {
    Date=02/22/19;
    Time=12:55:30 PM;
    Version List=DSHIP2.2.2;
  }
  PROPERTIES
  {
    OnDelete=VAR
               lrecManifestHeader@1000000001 : Record 23044618;
               lrecLPHeader@1000000000 : Record 23044505;
               lrecSalesLine@1000000006 : Record 37;
               lrecUOMFrom@1000000005 : Record 23044525;
               lrecUOMTo@1000000004 : Record 23044525;
               lcuCommonBase@1000000003 : Codeunit 23044519;
               lcuManifestMgmt@1000000002 : Codeunit 23044607;
             BEGIN
               IF ( lrecManifestHeader.GET("Manifest No.") ) THEN BEGIN
                 IF ( lrecManifestHeader.Status   = lrecManifestHeader.Status::Released ) THEN
                   ERROR('You must reopen Manifest %1 before deleting lines.', "Manifest No.");

                 IF ( NOT lrecLPHeader.GET("License Plate No.") ) THEN
                   EXIT;

                 lrecLPHeader."Manifest No." := '';
                 lrecLPHeader.MODIFY;

                 // change weight, value, freight
                 //lrecManifestHeader."Total Value" -= lcuManifestMgmt.calcValue("License Plate No.");

                 IF ( lrecLPHeader."Weight Unit of Measure" <> '' ) THEN BEGIN
                   IF ( lrecManifestHeader."Weight Unit of Measure" <> lrecLPHeader."Weight Unit of Measure" ) THEN BEGIN
                     lrecUOMTo.GET(lrecManifestHeader."Weight Unit of Measure");
                     lrecUOMFrom.GET(lrecLPHeader."Weight Unit of Measure");
                     lrecManifestHeader."Total Weight" -= lcuCommonBase.ConvertUOMGeneric(lrecLPHeader."Shipment Gross Weight", lrecUOMFrom."Qty. per Unit of Measure", lrecUOMTo."Qty. per Unit of Measure");
                   END ELSE BEGIN
                     lrecManifestHeader."Total Weight" -= lrecLPHeader."Shipment Gross Weight";
                   END; // if weight uom <>
                 END;

                 lrecManifestHeader.MODIFY;
               END;
             END;

    CaptionML=ENU=Dynamic Ship Shipment Manifest Line;
  }
  FIELDS
  {
    { 1   ;   ;Manifest No.        ;Code20        ;TableRelation="DSHIP Shipment Manifest Header";
                                                   CaptionML=ENU=Manifest No. }
    { 2   ;   ;License Plate No.   ;Code20        ;TableRelation="IWX License Plate Header";
                                                   CaptionML=[ENU=License Plate No.;
                                                              ESM=Placa de matr¡cula N§;
                                                              FRC=Plaque d'immatriculation No.;
                                                              ENC=License Plate No.] }
    { 3   ;   ;Location Code       ;Code20        ;FieldClass=Normal;
                                                   TableRelation=Location;
                                                   CaptionML=ENU=Location Code }
    { 4   ;   ;Package Tracking Number;Code100    ;FieldClass=FlowField;
                                                   CalcFormula=Lookup("IWX License Plate Header"."Package Tracking Number" WHERE (No.=FIELD(License Plate No.)));
                                                   CaptionML=[ENU=Package Tracking Number;
                                                              ESM=El paquete del n£mero de seguimiento;
                                                              FRC=Package num‚ro de suivi;
                                                              ENC=Package Tracking Number] }
    { 5   ;   ;Shipped Source Document;Option     ;FieldClass=FlowField;
                                                   CalcFormula=Lookup("IWX License Plate Header"."Shipped Source Document" WHERE (No.=FIELD(License Plate No.)));
                                                   CaptionML=[ENU=Shipped Source Document;
                                                              ESM=Enviado el Documento Original;
                                                              FRC=Document source Exp‚di‚;
                                                              ENC=Shipped Source Document];
                                                   OptionCaptionML=ENC=" ,Purchase Order,Sales Order,Inbound Transfer,Outbound Transfer,Prod. Order,Put-away,Pick,Movement,Invt. Put-away,Invt. Pick,Receipt,Shipment";
                                                   OptionString=[ ,Purchase Order,Sales Order,Inbound Transfer,Outbound Transfer,Prod. Order,Put-away,Pick,Movement,Invt. Put-away,Invt. Pick,Receipt,Shipment];
                                                   Description=Copy of LP Header }
    { 6   ;   ;Shipped Source No.  ;Code20        ;FieldClass=FlowField;
                                                   CalcFormula=Lookup("IWX License Plate Header"."Shipped Source No." WHERE (No.=FIELD(License Plate No.)));
                                                   CaptionML=[ENU=Shipped Source No.;
                                                              ESM=Fuente No. Enviado;
                                                              FRC=Source No. Exp‚di‚;
                                                              ENC=Shipped Source No.] }
    { 7   ;   ;Shipped Company Name;Text30        ;FieldClass=FlowField;
                                                   CalcFormula=Lookup("IWX License Plate Header"."Shipped Company Name" WHERE (No.=FIELD(License Plate No.)));
                                                   CaptionML=[ENU=Shipped Company Name;
                                                              ESM=Nombre de la empresa Enviado;
                                                              FRC=Nom de l'entreprise Exp‚di‚;
                                                              ENC=Shipped Company Name] }
    { 8   ;   ;Shipment No.        ;Code20        ;FieldClass=FlowField;
                                                   CalcFormula=Lookup("IWX License Plate Header"."Shipment No." WHERE (No.=FIELD(License Plate No.)));
                                                   CaptionML=ENU=Shipment No. }
    { 9   ;   ;Shipment Length     ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Lookup("IWX License Plate Header"."Shipment Length" WHERE (No.=FIELD(License Plate No.)));
                                                   CaptionML=[ENU=Shipment Length;
                                                              ESM=longitud de env¡o;
                                                              FRC=Longueur de transport;
                                                              ENC=Shipment Length] }
    { 10  ;   ;Shipment Width      ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Lookup("IWX License Plate Header"."Shipment Width" WHERE (No.=FIELD(License Plate No.)));
                                                   CaptionML=[ENU=Shipment Width;
                                                              ESM=Anchura de embalaje;
                                                              FRC=Largeur de la livraison;
                                                              ENC=Shipment Width] }
    { 11  ;   ;Shipment Height     ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Lookup("IWX License Plate Header"."Shipment Height" WHERE (No.=FIELD(License Plate No.)));
                                                   CaptionML=[ENU=Shipment Height;
                                                              ESM=altura de env¡o;
                                                              FRC=Hauteur de la livraison;
                                                              ENC=Shipment Height] }
    { 12  ;   ;Shpt. Dim. Unit of Measure;Code20  ;FieldClass=FlowField;
                                                   CalcFormula=Lookup("IWX License Plate Header"."Shpt. Dim. Unit of Measure" WHERE (No.=FIELD(License Plate No.)));
                                                   TableRelation="IWX Unit Of Measure".Code WHERE (Category=CONST(Dimension));
                                                   CaptionML=[ENU=Shipment Dimensions Unit of Measure;
                                                              ESM=Dimensiones de env¡o Unidad de medida;
                                                              FRC=Dimensions de l'envoi Unit‚ de mesure;
                                                              ENC=Shipment Dimensions Unit of Measure] }
    { 13  ;   ;Shipment Gross Weight;Decimal      ;FieldClass=FlowField;
                                                   CalcFormula=Lookup("IWX License Plate Header"."Shipment Gross Weight" WHERE (No.=FIELD(License Plate No.)));
                                                   CaptionML=ENU=Shipment Gross Weight }
    { 14  ;   ;Weight Unit of Measure;Code20      ;FieldClass=FlowField;
                                                   CalcFormula=Lookup("IWX License Plate Header"."Weight Unit of Measure" WHERE (No.=FIELD(License Plate No.)));
                                                   TableRelation="IWX Unit Of Measure".Code WHERE (Category=CONST(Weight));
                                                   CaptionML=[ENU=Weight Unit of Measure;
                                                              ESM=Peso de la unidad de medida;
                                                              FRC=Unit‚ de poids de mesure;
                                                              ENC=Weight Unit of Measure] }
    { 15  ;   ;Value               ;Decimal       ;CaptionML=ENU=Value }
    { 16  ;   ;Shipping Agent Code ;Code20        ;CaptionML=ENU=Shipping Agent }
    { 17  ;   ;Shipping Agent Service Code;Code20 ;CaptionML=ENU=Shipping Agent Service }
    { 18  ;   ;Package Order ID    ;Text100       ;FieldClass=FlowField;
                                                   CalcFormula=Lookup("IWX License Plate Header"."Package Order ID" WHERE (No.=FIELD(License Plate No.)));
                                                   CaptionML=[ENU=Package Order ID;
                                                              ESM=ID de pedido de paquete;
                                                              FRC=ID de commande de package;
                                                              ENC=Package Order ID] }
    { 19  ;   ;Freight Cost        ;Decimal       ;CaptionML=ENU=Freight Cost }
  }
  KEYS
  {
    {    ;Manifest No.,License Plate No.          ;Clustered=Yes }
  }
  FIELDGROUPS
  {
  }
  CODE
  {

    BEGIN
    {
      ************************
      Copyright Notice
      This objects content is copyright of Insight Works 2011.  All rights reserved.
      Any redistribution or reproduction of part or all of the contents in any form is prohibited.
      ************************
    }
    END.
  }
}

