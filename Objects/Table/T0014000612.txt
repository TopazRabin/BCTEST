OBJECT Table 14000612 Receive Rule
{
  OBJECT-PROPERTIES
  {
    Date=06/28/17;
    Time=12:00:00 PM;
    Version List=SE0.50.32;
  }
  PROPERTIES
  {
    CaptionML=ENU=Receive Rule;
    LookupPageID=Page14000620;
  }
  FIELDS
  {
    { 1   ;   ;Code                ;Code10        ;CaptionML=ENU=Code;
                                                   NotBlank=Yes }
    { 11  ;   ;Description         ;Text30        ;CaptionML=ENU=Description }
    { 21  ;   ;Item Label Code     ;Code10        ;TableRelation="Label Header" WHERE (Label Usage=CONST(Receive Line));
                                                   CaptionML=ENU=Item Label Code }
    { 22  ;   ;Confirm Unit of Measure;Boolean    ;CaptionML=ENU=Confirm Unit of Measure }
    { 23  ;   ;No. of Labels       ;Option        ;CaptionML=ENU=No. of Labels;
                                                   OptionCaptionML=ENU=Quantity,Quantity (Base),One per Scan;
                                                   OptionString=Quantity,Quantity (Base),One per Scan }
    { 24  ;   ;Automatic Print Label;Boolean      ;OnValidate=BEGIN
                                                                IF "Automatic Print Label" THEN
                                                                  TESTFIELD("Item Label Code");
                                                              END;

                                                   CaptionML=ENU=Automatic Print Label }
    { 31  ;   ;Net Weight Mandatory;Boolean       ;OnValidate=BEGIN
                                                                IF "Net Weight Mandatory" THEN
                                                                  TESTFIELD("Net Weight Editable");
                                                              END;

                                                   CaptionML=ENU=Net Weight Mandatory }
    { 32  ;   ;Gross Weight Mandatory;Boolean     ;OnValidate=BEGIN
                                                                IF "Gross Weight Mandatory" THEN
                                                                  TESTFIELD("Gross Weight Editable");
                                                              END;

                                                   CaptionML=ENU=Gross Weight Mandatory }
    { 33  ;   ;Dimmed Weight Mandatory;Boolean    ;OnValidate=BEGIN
                                                                IF "Dimmed Weight Mandatory" THEN
                                                                  TESTFIELD("Dimmed Weight Editable");
                                                              END;

                                                   CaptionML=ENU=Dimmed Weight Mandatory }
    { 34  ;   ;Unit Volume Mandatory;Boolean      ;OnValidate=BEGIN
                                                                IF "Unit Volume Mandatory" THEN
                                                                  TESTFIELD("Unit Volume Editable");
                                                              END;

                                                   CaptionML=ENU=Unit Volume Mandatory }
    { 35  ;   ;Item UPC/EAN No. Mandatory;Boolean ;OnValidate=BEGIN
                                                                IF "Item UPC/EAN No. Mandatory" THEN
                                                                  TESTFIELD("Item UPC/EAN No. Editable");
                                                              END;

                                                   CaptionML=ENU=Item UPC/EAN No. Mandatory }
    { 36  ;   ;Barcode Conversion Mandatory;Boolean;
                                                   OnValidate=BEGIN
                                                                IF "Item UPC/EAN No. Mandatory" THEN
                                                                  TESTFIELD("Item UPC/EAN No. Editable");
                                                              END;

                                                   CaptionML=ENU=Barcode Conversion Mandatory }
    { 37  ;   ;Item Cross Reference Mandatory;Boolean;
                                                   OnValidate=BEGIN
                                                                IF "Item UPC/EAN No. Mandatory" THEN
                                                                  TESTFIELD("Item UPC/EAN No. Editable");
                                                              END;

                                                   CaptionML=ENU=Item Cross Reference Mandatory }
    { 41  ;   ;Net Weight Confirm  ;Boolean       ;OnValidate=BEGIN
                                                                IF "Net Weight Confirm" THEN
                                                                  TESTFIELD("Net Weight Editable");
                                                              END;

                                                   CaptionML=ENU=Net Weight Confirm }
    { 42  ;   ;Gross Weight Confirm;Boolean       ;OnValidate=BEGIN
                                                                IF "Gross Weight Confirm" THEN
                                                                  TESTFIELD("Gross Weight Editable");
                                                              END;

                                                   CaptionML=ENU=Gross Weight Confirm }
    { 43  ;   ;Dimmed Weight Confirm;Boolean      ;OnValidate=BEGIN
                                                                IF "Dimmed Weight Confirm" THEN
                                                                  TESTFIELD("Dimmed Weight Editable");
                                                              END;

                                                   CaptionML=ENU=Dimmed Weight Confirm }
    { 44  ;   ;Unit Volume Confirm ;Boolean       ;OnValidate=BEGIN
                                                                IF "Unit Volume Confirm" THEN
                                                                  TESTFIELD("Unit Volume Editable");
                                                              END;

                                                   CaptionML=ENU=Unit Volume Confirm }
    { 45  ;   ;Item UPC/EAN No. Confirm;Boolean   ;OnValidate=BEGIN
                                                                IF "Item UPC/EAN No. Confirm" THEN
                                                                  TESTFIELD("Item UPC/EAN No. Editable");
                                                              END;

                                                   CaptionML=ENU=Item UPC/EAN No. Confirm }
    { 51  ;   ;Net Weight Editable ;Boolean       ;OnValidate=BEGIN
                                                                IF NOT "Net Weight Editable" THEN BEGIN
                                                                  "Net Weight Mandatory" := FALSE;
                                                                  "Net Weight Confirm" := FALSE;
                                                                END;
                                                              END;

                                                   CaptionML=ENU=Net Weight Editable }
    { 52  ;   ;Gross Weight Editable;Boolean      ;OnValidate=BEGIN
                                                                IF NOT "Gross Weight Editable" THEN BEGIN
                                                                  "Gross Weight Mandatory" := FALSE;
                                                                  "Gross Weight Confirm" := FALSE;
                                                                END;
                                                              END;

                                                   CaptionML=ENU=Gross Weight Editable }
    { 53  ;   ;Dimmed Weight Editable;Boolean     ;OnValidate=BEGIN
                                                                IF NOT "Dimmed Weight Editable" THEN BEGIN
                                                                  "Dimmed Weight Mandatory" := FALSE;
                                                                  "Dimmed Weight Confirm" := FALSE;
                                                                END;
                                                              END;

                                                   CaptionML=ENU=Dimmed Weight Editable }
    { 54  ;   ;Unit Volume Editable;Boolean       ;OnValidate=BEGIN
                                                                IF NOT "Unit Volume Editable" THEN BEGIN
                                                                  "Unit Volume Mandatory" := FALSE;
                                                                  "Unit Volume Confirm" := FALSE;
                                                                END;
                                                              END;

                                                   CaptionML=ENU=Unit Volume Editable }
    { 55  ;   ;Item UPC/EAN No. Editable;Boolean  ;OnValidate=BEGIN
                                                                IF NOT "Item UPC/EAN No. Editable" THEN BEGIN
                                                                  "Item UPC/EAN No. Mandatory" := FALSE;
                                                                  "Item UPC/EAN No. Confirm" := FALSE;
                                                                END;
                                                              END;

                                                   CaptionML=ENU=Item UPC/EAN No. Editable }
  }
  KEYS
  {
    {    ;Code                                    ;Clustered=Yes }
  }
  FIELDGROUPS
  {
  }
  CODE
  {
    VAR
      ReceiveSetup@1240030000 : Record 14000607;
      LastNumber@1240030001 : Code[20];

    PROCEDURE GetReceiveRule@1(Number@1240030000 : Code[20]);
    VAR
      Item@1240030001 : Record 27;
    BEGIN
      IF (Number = LastNumber) AND (Number <> '') THEN
        EXIT;

      IF Number <> '' THEN BEGIN
        IF Item."No." <> Number THEN
          Item.GET(Number);
      END ELSE
        CLEAR(Item);

      IF Item."Receive Rule Code" <> '' THEN
        GET(Item."Receive Rule Code");

      IF Code = '' THEN BEGIN
        ReceiveSetup.GET;
        IF ReceiveSetup."Default Item Receive Rule Code" <> '' THEN
          GET(ReceiveSetup."Default Item Receive Rule Code");
      END;

      LastNumber := Number;
    END;

    PROCEDURE ActionRequired@2(Item@1240030000 : Record 27) : Boolean;
    VAR
      BarcodeConversion@1240030001 : Record 14000733;
    BEGIN
      IF "Net Weight Mandatory" AND (Item."Net Weight" = 0) THEN
        EXIT(TRUE);

      IF "Gross Weight Mandatory" AND (Item."Gross Weight" = 0) THEN
        EXIT(TRUE);

      IF "Dimmed Weight Mandatory" AND (Item."Dimmed Weight" = 0) THEN
        EXIT(TRUE);

      IF "Unit Volume Mandatory" AND (Item."Unit Volume" = 0) THEN
        EXIT(TRUE);

      IF "Item UPC/EAN No. Mandatory" AND (Item."Item UPC/EAN Number" = '') THEN
        EXIT(TRUE);

      IF "Barcode Conversion Mandatory" THEN BEGIN
        BarcodeConversion.RESET;
        BarcodeConversion.SETRANGE("Item No.",Item."No.");
        IF NOT BarcodeConversion.FIND('-') THEN
          EXIT(TRUE);
      END;

      // IF "Item Cross Reference Mandatory" THEN BEGIN
      //   ItemCrossReference.RESET;
      //   ItemCrossReference.SETRANGE("Item No.",Item."No.");
      //   ItemCrossReference.SETRANGE(Type,ItemCrossReference.Type::"Bar Code");
      //   IF NOT ItemCrossReference.FIND('-') THEN
      //     EXIT(TRUE);
      // END;

      EXIT(FALSE);
    END;

    BEGIN
    END.
  }
}

