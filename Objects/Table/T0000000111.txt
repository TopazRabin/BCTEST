OBJECT Table 111 Sales Shipment Line
{
  OBJECT-PROPERTIES
  {
    Date=12/16/20;
    Time=[ 8:45:40 AM];
    Modified=Yes;
    Version List=NAVW111.00.00.40505,NAVNA11.00.00.40505,SE0.60.18,TOP030A,140,050,100A,030B,NAVEVENT,TPZ2829,TPZ2970;
  }
  PROPERTIES
  {
    Permissions=TableData 32=r,
                TableData 5802=r;
    OnDelete=VAR
               ServItem@1000 : Record 5940;
               SalesDocLineComments@1001 : Record 44;
             BEGIN
               ServItem.RESET;
               ServItem.SETCURRENTKEY("Sales/Serv. Shpt. Document No.","Sales/Serv. Shpt. Line No.");
               ServItem.SETRANGE("Sales/Serv. Shpt. Document No.","Document No.");
               ServItem.SETRANGE("Sales/Serv. Shpt. Line No.","Line No.");
               ServItem.SETRANGE("Shipment Type",ServItem."Shipment Type"::Sales);
               IF ServItem.FIND('-') THEN
                 REPEAT
                   ServItem.VALIDATE("Sales/Serv. Shpt. Document No.",'');
                   ServItem.VALIDATE("Sales/Serv. Shpt. Line No.",0);
                   ServItem.MODIFY(TRUE);
                 UNTIL ServItem.NEXT = 0;

               SalesDocLineComments.SETRANGE("Document Type",SalesDocLineComments."Document Type"::Shipment);
               SalesDocLineComments.SETRANGE("No.","Document No.");
               SalesDocLineComments.SETRANGE("Document Line No.","Line No.");
               IF NOT SalesDocLineComments.ISEMPTY THEN
                 SalesDocLineComments.DELETEALL;

               PostedATOLink.DeleteAsmFromSalesShptLine(Rec);
             END;

    CaptionML=[ENU=Sales Shipment Line;
               ESM=Hist¢rico l°neas env°o venta;
               FRC=Ligne livraison ventes;
               ENC=Sales Shipment Line];
    LookupPageID=Page525;
    DrillDownPageID=Page525;
  }
  FIELDS
  {
    { 2   ;   ;Sell-to Customer No.;Code20        ;TableRelation=Customer;
                                                   CaptionML=[ENU=Sell-to Customer No.;
                                                              ESM=Venta a-Nß cliente;
                                                              FRC=N¯ client (dÇbiteur);
                                                              ENC=Sell-to Customer No.];
                                                   Editable=No }
    { 3   ;   ;Document No.        ;Code20        ;TableRelation="Sales Shipment Header";
                                                   CaptionML=[ENU=Document No.;
                                                              ESM=Nß documento;
                                                              FRC=N¯ de document;
                                                              ENC=Document No.] }
    { 4   ;   ;Line No.            ;Integer       ;CaptionML=[ENU=Line No.;
                                                              ESM=Nß l°nea;
                                                              FRC=N¯ ligne;
                                                              ENC=Line No.] }
    { 5   ;   ;Type                ;Option        ;CaptionML=[ENU=Type;
                                                              ESM=Tipo;
                                                              FRC=Type;
                                                              ENC=Type];
                                                   OptionCaptionML=[ENU=" ,G/L Account,Item,Resource,Fixed Asset,Charge (Item)";
                                                                    ESM=" ,Cuenta,Producto,Recurso,Activo fijo,Cargo (prod.)";
                                                                    FRC=" ,Compte (GL),Article,Ressource,Immobilisation,Frais annexes";
                                                                    ENC=" ,G/L Account,Item,Resource,Fixed Asset,Charge (Item)"];
                                                   OptionString=[ ,G/L Account,Item,Resource,Fixed Asset,Charge (Item)] }
    { 6   ;   ;No.                 ;Code20        ;TableRelation=IF (Type=CONST(G/L Account)) "G/L Account"
                                                                 ELSE IF (Type=CONST(Item)) Item
                                                                 ELSE IF (Type=CONST(Resource)) Resource
                                                                 ELSE IF (Type=CONST(Fixed Asset)) "Fixed Asset"
                                                                 ELSE IF (Type=CONST("Charge (Item)")) "Item Charge";
                                                   CaptionML=[ENU=No.;
                                                              ESM=Nß;
                                                              FRC=N¯;
                                                              ENC=No.];
                                                   CaptionClass=GetCaptionClass(FIELDNO("No.")) }
    { 7   ;   ;Location Code       ;Code10        ;TableRelation=Location WHERE (Use As In-Transit=CONST(No));
                                                   CaptionML=[ENU=Location Code;
                                                              ESM=C¢d. almacÇn;
                                                              FRC=Code d'emplacement;
                                                              ENC=Location Code] }
    { 8   ;   ;Posting Group       ;Code20        ;TableRelation=IF (Type=CONST(Item)) "Inventory Posting Group"
                                                                 ELSE IF (Type=CONST(Fixed Asset)) "FA Posting Group";
                                                   CaptionML=[ENU=Posting Group;
                                                              ESM=Grupo contable;
                                                              FRC=Paramätre report;
                                                              ENC=Posting Group];
                                                   Editable=No }
    { 10  ;   ;Shipment Date       ;Date          ;CaptionML=[ENU=Shipment Date;
                                                              ESM=Fecha env°o;
                                                              FRC=Date de livraison;
                                                              ENC=Shipment Date] }
    { 11  ;   ;Description         ;Text50        ;CaptionML=[ENU=Description;
                                                              ESM=Descripci¢n;
                                                              FRC=Description;
                                                              ENC=Description] }
    { 12  ;   ;Description 2       ;Text50        ;CaptionML=[ENU=Description 2;
                                                              ESM=Descripci¢n 2;
                                                              FRC=Description 2;
                                                              ENC=Description 2] }
    { 13  ;   ;Unit of Measure     ;Text10        ;CaptionML=[ENU=Unit of Measure;
                                                              ESM=Unidad medida;
                                                              FRC=UnitÇ de mesure;
                                                              ENC=Unit of Measure] }
    { 15  ;   ;Quantity            ;Decimal       ;CaptionML=[ENU=Quantity;
                                                              ESM=Cantidad;
                                                              FRC=QuantitÇ;
                                                              ENC=Quantity];
                                                   DecimalPlaces=0:5 }
    { 22  ;   ;Unit Price          ;Decimal       ;CaptionML=[ENU=Unit Price;
                                                              ESM=Precio unitario;
                                                              FRC=Prix unitaire;
                                                              ENC=Unit Price];
                                                   AutoFormatType=2;
                                                   AutoFormatExpr=GetCurrencyCode }
    { 23  ;   ;Unit Cost (LCY)     ;Decimal       ;CaptionML=[ENU=Unit Cost ($);
                                                              ESM=Costo unitario ($);
                                                              FRC=Coñt unitaire ($);
                                                              ENC=Unit Cost ($)];
                                                   AutoFormatType=2 }
    { 25  ;   ;VAT %               ;Decimal       ;CaptionML=[ENU=Tax %;
                                                              ESM=% IVA;
                                                              FRC=% TVA;
                                                              ENC=Tax %];
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 27  ;   ;Line Discount %     ;Decimal       ;CaptionML=[ENU=Line Discount %;
                                                              ESM=% Descuento l°nea;
                                                              FRC=Ligne % escompte;
                                                              ENC=Line Discount %];
                                                   DecimalPlaces=0:5;
                                                   MinValue=0;
                                                   MaxValue=100 }
    { 32  ;   ;Allow Invoice Disc. ;Boolean       ;InitValue=Yes;
                                                   CaptionML=[ENU=Allow Invoice Disc.;
                                                              ESM=Permitir dto. factura;
                                                              FRC=Escompte de facture permis;
                                                              ENC=Allow Invoice Disc.] }
    { 34  ;   ;Gross Weight        ;Decimal       ;CaptionML=[ENU=Gross Weight;
                                                              ESM=Peso bruto;
                                                              FRC=Poids brut;
                                                              ENC=Gross Weight];
                                                   DecimalPlaces=0:5 }
    { 35  ;   ;Net Weight          ;Decimal       ;CaptionML=[ENU=Net Weight;
                                                              ESM=Peso neto;
                                                              FRC=Poids net;
                                                              ENC=Net Weight];
                                                   DecimalPlaces=0:5 }
    { 36  ;   ;Units per Parcel    ;Decimal       ;CaptionML=[ENU=Units per Parcel;
                                                              ESM=Unidades por lote;
                                                              FRC=UnitÇs par colis;
                                                              ENC=Units per Parcel];
                                                   DecimalPlaces=0:5 }
    { 37  ;   ;Unit Volume         ;Decimal       ;CaptionML=[ENU=Unit Volume;
                                                              ESM=Volumen;
                                                              FRC=Volume unitaire;
                                                              ENC=Unit Volume];
                                                   DecimalPlaces=0:5 }
    { 38  ;   ;Appl.-to Item Entry ;Integer       ;AccessByPermission=TableData 27=R;
                                                   CaptionML=[ENU=Appl.-to Item Entry;
                                                              ESM=Liq. por nß orden producto;
                                                              FRC=êcr. article Ö affecter;
                                                              ENC=Appl.-to Item Entry] }
    { 39  ;   ;Item Shpt. Entry No.;Integer       ;CaptionML=[ENU=Item Shpt. Entry No.;
                                                              ESM=Nß orden mov. producto asoc.;
                                                              FRC=N¯ Çcriture livr. article;
                                                              ENC=Item Shpt. Entry No.] }
    { 40  ;   ;Shortcut Dimension 1 Code;Code20   ;TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(1));
                                                   CaptionML=[ENU=Shortcut Dimension 1 Code;
                                                              ESM=C¢d. dim. acceso dir. 1;
                                                              FRC=Code raccourci de dimension 1;
                                                              ENC=Shortcut Dimension 1 Code];
                                                   CaptionClass='1,2,1' }
    { 41  ;   ;Shortcut Dimension 2 Code;Code20   ;TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(2));
                                                   CaptionML=[ENU=Shortcut Dimension 2 Code;
                                                              ESM=C¢d. dim. acceso dir. 2;
                                                              FRC=Code raccourci de dimension 2;
                                                              ENC=Shortcut Dimension 2 Code];
                                                   CaptionClass='1,2,2' }
    { 42  ;   ;Customer Price Group;Code10        ;TableRelation="Customer Price Group";
                                                   CaptionML=[ENU=Customer Price Group;
                                                              ESM=Grupo precio cliente;
                                                              FRC=Groupe de prix du client;
                                                              ENC=Customer Price Group] }
    { 45  ;   ;Job No.             ;Code20        ;TableRelation=Job;
                                                   CaptionML=[ENU=Job No.;
                                                              ESM=Nß proyecto;
                                                              FRC=N¯ projet;
                                                              ENC=Job No.] }
    { 52  ;   ;Work Type Code      ;Code10        ;TableRelation="Work Type";
                                                   CaptionML=[ENU=Work Type Code;
                                                              ESM=C¢d. tipo trabajo;
                                                              FRC=Code type travail;
                                                              ENC=Work Type Code] }
    { 58  ;   ;Qty. Shipped Not Invoiced;Decimal  ;AccessByPermission=TableData 110=R;
                                                   CaptionML=[ENU=Qty. Shipped Not Invoiced;
                                                              ESM=Cantidad enviada no facturada;
                                                              FRC=QuantitÇ livrÇe non facturÇe;
                                                              ENC=Qty. Shipped Not Invoiced];
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 61  ;   ;Quantity Invoiced   ;Decimal       ;CaptionML=[ENU=Quantity Invoiced;
                                                              ESM=Cantidad facturada;
                                                              FRC=QuantitÇ facturÇe;
                                                              ENC=Quantity Invoiced];
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 65  ;   ;Order No.           ;Code20        ;CaptionML=[ENU=Order No.;
                                                              ESM=Nß pedido;
                                                              FRC=N¯ commande;
                                                              ENC=Order No.] }
    { 66  ;   ;Order Line No.      ;Integer       ;CaptionML=[ENU=Order Line No.;
                                                              ESM=Nß l°nea pedido;
                                                              FRC=N¯ ligne commande;
                                                              ENC=Order Line No.] }
    { 68  ;   ;Bill-to Customer No.;Code20        ;TableRelation=Customer;
                                                   CaptionML=[ENU=Bill-to Customer No.;
                                                              ESM=Factura-a Nß cliente;
                                                              FRC=Nß client facturÇ;
                                                              ENC=Bill-to Customer No.];
                                                   Editable=No }
    { 71  ;   ;Purchase Order No.  ;Code20        ;CaptionML=[ENU=Purchase Order No.;
                                                              ESM=Nß pedido compra;
                                                              FRC=N¯ bon de commande;
                                                              ENC=Purchase Order No.] }
    { 72  ;   ;Purch. Order Line No.;Integer      ;CaptionML=[ENU=Purch. Order Line No.;
                                                              ESM=Nß l°nea pedido compra;
                                                              FRC=N¯ ligne bon de commande;
                                                              ENC=Purch. Order Line No.] }
    { 73  ;   ;Drop Shipment       ;Boolean       ;AccessByPermission=TableData 223=R;
                                                   CaptionML=[ENU=Drop Shipment;
                                                              ESM=Env°o directo;
                                                              FRC=Livraison directe;
                                                              ENC=Drop Shipment] }
    { 74  ;   ;Gen. Bus. Posting Group;Code20     ;TableRelation="Gen. Business Posting Group";
                                                   CaptionML=[ENU=Gen. Bus. Posting Group;
                                                              ESM=Grupo contable negocio;
                                                              FRC=Groupe de report de marchÇ;
                                                              ENC=Gen. Bus. Posting Group] }
    { 75  ;   ;Gen. Prod. Posting Group;Code20    ;TableRelation="Gen. Product Posting Group";
                                                   CaptionML=[ENU=Gen. Prod. Posting Group;
                                                              ESM=Grupo contable producto;
                                                              FRC=Groupe de report de produit;
                                                              ENC=Gen. Prod. Posting Group] }
    { 77  ;   ;VAT Calculation Type;Option        ;CaptionML=[ENU=VAT Calculation Type;
                                                              ESM=Tipo c†lculo IVA;
                                                              FRC=Type de calcul taxe;
                                                              ENC=Tax Calculation Type];
                                                   OptionCaptionML=[ENU=Normal VAT,Reverse Charge Tax,Full VAT,Sales Tax;
                                                                    ESM=Normal,Reversi¢n,Total,Impto. venta;
                                                                    FRC=TVA normale,Frais renversÇs TVA,TVA compläte,Taxe de vente;
                                                                    ENC=Normal VAT,Reverse Charge VAT,Full VAT,Sales Tax];
                                                   OptionString=Normal VAT,Reverse Charge VAT,Full VAT,Sales Tax }
    { 78  ;   ;Transaction Type    ;Code10        ;TableRelation="Transaction Type";
                                                   CaptionML=[ENU=Transaction Type;
                                                              ESM=Naturaleza transacci¢n;
                                                              FRC=Type de transaction;
                                                              ENC=Transaction Type] }
    { 79  ;   ;Transport Method    ;Code10        ;TableRelation="Transport Method";
                                                   CaptionML=[ENU=Transport Method;
                                                              ESM=Modo transporte;
                                                              FRC=Mode de transport;
                                                              ENC=Transport Method] }
    { 80  ;   ;Attached to Line No.;Integer       ;TableRelation="Sales Shipment Line"."Line No." WHERE (Document No.=FIELD(Document No.));
                                                   CaptionML=[ENU=Attached to Line No.;
                                                              ESM=Nß l°nea texto adicional;
                                                              FRC=ReliÇ Ö la ligne nß;
                                                              ENC=Attached to Line No.] }
    { 81  ;   ;Exit Point          ;Code10        ;TableRelation="Entry/Exit Point";
                                                   CaptionML=[ENU=Exit Point;
                                                              ESM=Puerto/Aerop. carga;
                                                              FRC=Pays destination;
                                                              ENC=Exit Point] }
    { 82  ;   ;Area                ;Code10        ;TableRelation=Area;
                                                   CaptionML=[ENU=Area;
                                                              ESM=C¢d. provincia;
                                                              FRC=Zone;
                                                              ENC=Area] }
    { 83  ;   ;Transaction Specification;Code10   ;TableRelation="Transaction Specification";
                                                   CaptionML=[ENU=Transaction Specification;
                                                              ESM=Especificaci¢n transacci¢n;
                                                              FRC=SpÇcification transaction;
                                                              ENC=Transaction Specification] }
    { 85  ;   ;Tax Area Code       ;Code20        ;TableRelation="Tax Area";
                                                   CaptionML=[ENU=Tax Area Code;
                                                              ESM=C¢d. †rea impuesto;
                                                              FRC=Code de rÇgion fiscale;
                                                              ENC=Tax Area Code] }
    { 86  ;   ;Tax Liable          ;Boolean       ;CaptionML=[ENU=Tax Liable;
                                                              ESM=Sujeto a impuesto;
                                                              FRC=Imposable;
                                                              ENC=Tax Liable] }
    { 87  ;   ;Tax Group Code      ;Code20        ;TableRelation="Tax Group";
                                                   CaptionML=[ENU=Tax Group Code;
                                                              ESM=C¢d. grupo impuesto;
                                                              FRC=Code groupe fiscal;
                                                              ENC=Tax Group Code] }
    { 89  ;   ;VAT Bus. Posting Group;Code20      ;TableRelation="VAT Business Posting Group";
                                                   CaptionML=[ENU=Tax Bus. Posting Group;
                                                              ESM=Grupo registro IVA neg.;
                                                              FRC=Groupe de reports de taxe sur la valeur ajoutÇe de l'entreprise;
                                                              ENC=Tax Bus. Posting Group] }
    { 90  ;   ;VAT Prod. Posting Group;Code20     ;TableRelation="VAT Product Posting Group";
                                                   CaptionML=[ENU=Tax Prod. Posting Group;
                                                              ESM=Grupo registro IVA prod.;
                                                              FRC=Groupe de report de produit taxe;
                                                              ENC=Tax Prod. Posting Group] }
    { 91  ;   ;Currency Code       ;Code10        ;FieldClass=FlowField;
                                                   CalcFormula=Lookup("Sales Shipment Header"."Currency Code" WHERE (No.=FIELD(Document No.)));
                                                   CaptionML=[ENU=Currency Code;
                                                              ESM=C¢d. divisa;
                                                              FRC=Code devise;
                                                              ENC=Currency Code];
                                                   Editable=No }
    { 97  ;   ;Blanket Order No.   ;Code20        ;TableRelation="Sales Header".No. WHERE (Document Type=CONST(Blanket Order));
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Blanket Order No.;
                                                              ESM=Nß pedido abierto;
                                                              FRC=N¯ de commande permanente;
                                                              ENC=Blanket Order No.] }
    { 98  ;   ;Blanket Order Line No.;Integer     ;TableRelation="Sales Line"."Line No." WHERE (Document Type=CONST(Blanket Order),
                                                                                                Document No.=FIELD(Blanket Order No.));
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Blanket Order Line No.;
                                                              ESM=Nß l°n. pedido abierto;
                                                              FRC=N¯ ligne commande permanente;
                                                              ENC=Blanket Order Line No.] }
    { 99  ;   ;VAT Base Amount     ;Decimal       ;CaptionML=[ENU=Tax Base Amount;
                                                              ESM=Importe base IVA;
                                                              FRC=Montant de base de la taxe;
                                                              ENC=Tax Base Amount];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr=GetCurrencyCode }
    { 100 ;   ;Unit Cost           ;Decimal       ;CaptionML=[ENU=Unit Cost;
                                                              ESM=Costo unitario;
                                                              FRC=Coñt unitaire;
                                                              ENC=Unit Cost];
                                                   Editable=No;
                                                   AutoFormatType=2;
                                                   AutoFormatExpr=GetCurrencyCode }
    { 107 ;   ;IC Partner Ref. Type;Option        ;DataClassification=CustomerContent;
                                                   CaptionML=[ENU=IC Partner Ref. Type;
                                                              ESM=Tipo referencia socio IC;
                                                              FRC=Type de rÇf. du partenaire IC;
                                                              ENC=IC Partner Ref. Type];
                                                   OptionCaptionML=[ENU=" ,G/L Account,Item,,,Charge (Item),Cross reference,Common Item No.";
                                                                    ESM=" ,Cuenta,Producto,,,Cargo (prod.),Referencia cruzada,Nß producto com£n";
                                                                    FRC=" ,compte du grand livre,Article,,,Frais annexes,RÇfÇrence externe,N¯ article commun";
                                                                    ENC=" ,G/L Account,Item,,,Charge (Item),Cross reference,Common Item No."];
                                                   OptionString=[ ,G/L Account,Item,,,Charge (Item),Cross reference,Common Item No.] }
    { 108 ;   ;IC Partner Reference;Code20        ;DataClassification=CustomerContent;
                                                   CaptionML=[ENU=IC Partner Reference;
                                                              ESM=Referencia socio IC;
                                                              FRC=RÇfÇrence du partenaire IC;
                                                              ENC=IC Partner Reference] }
    { 131 ;   ;Posting Date        ;Date          ;CaptionML=[ENU=Posting Date;
                                                              ESM=Fecha registro;
                                                              FRC=Date de report;
                                                              ENC=Posting Date] }
    { 480 ;   ;Dimension Set ID    ;Integer       ;TableRelation="Dimension Set Entry";
                                                   OnLookup=BEGIN
                                                              ShowDimensions;
                                                            END;

                                                   CaptionML=[ENU=Dimension Set ID;
                                                              ESM=Id. grupo dimensiones;
                                                              FRC=Code ensemble de dimensions;
                                                              ENC=Dimension Set ID];
                                                   Editable=No }
    { 826 ;   ;Authorized for Credit Card;Boolean ;CaptionML=[ENU=Authorized for Credit Card;
                                                              ESM=Tarjeta de crÇdito autorizada;
                                                              FRC=AutorisÇ pour la carte de crÇdit;
                                                              ENC=Authorized for Credit Card] }
    { 1001;   ;Job Task No.        ;Code20        ;TableRelation="Job Task"."Job Task No." WHERE (Job No.=FIELD(Job No.));
                                                   CaptionML=[ENU=Job Task No.;
                                                              ESM=Nß tarea proyecto;
                                                              FRC=N¯ tÉche de projet;
                                                              ENC=Job Task No.];
                                                   Editable=No }
    { 1002;   ;Job Contract Entry No.;Integer     ;CaptionML=[ENU=Job Contract Entry No.;
                                                              ESM=Nß mov. contrato proyecto;
                                                              FRC=N¯ Çcriture contrat de projet;
                                                              ENC=Job Contract Entry No.];
                                                   Editable=No }
    { 5402;   ;Variant Code        ;Code10        ;TableRelation=IF (Type=CONST(Item)) "Item Variant".Code WHERE (Item No.=FIELD(No.));
                                                   CaptionML=[ENU=Variant Code;
                                                              ESM=C¢d. variante;
                                                              FRC=Code variante;
                                                              ENC=Variant Code] }
    { 5403;   ;Bin Code            ;Code20        ;TableRelation=Bin.Code WHERE (Location Code=FIELD(Location Code),
                                                                                 Item Filter=FIELD(No.),
                                                                                 Variant Filter=FIELD(Variant Code));
                                                   CaptionML=[ENU=Bin Code;
                                                              ESM=C¢d. ubicaci¢n;
                                                              FRC=Code de zone;
                                                              ENC=Bin Code] }
    { 5404;   ;Qty. per Unit of Measure;Decimal   ;CaptionML=[ENU=Qty. per Unit of Measure;
                                                              ESM=Cdad. por unidad medida;
                                                              FRC=QuantitÇ par unitÇ de mesure;
                                                              ENC=Qty. per Unit of Measure];
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 5407;   ;Unit of Measure Code;Code10        ;TableRelation=IF (Type=CONST(Item)) "Item Unit of Measure".Code WHERE (Item No.=FIELD(No.))
                                                                 ELSE "Unit of Measure";
                                                   CaptionML=[ENU=Unit of Measure Code;
                                                              ESM=C¢d. unidad medida;
                                                              FRC=Code unitÇ de mesure;
                                                              ENC=Unit of Measure Code] }
    { 5415;   ;Quantity (Base)     ;Decimal       ;CaptionML=[ENU=Quantity (Base);
                                                              ESM=Cantidad (base);
                                                              FRC=QuantitÇ (base);
                                                              ENC=Quantity (Base)];
                                                   DecimalPlaces=0:5 }
    { 5461;   ;Qty. Invoiced (Base);Decimal       ;CaptionML=[ENU=Qty. Invoiced (Base);
                                                              ESM=Cdad. facturada (base);
                                                              FRC=QuantitÇ facturÇe (base);
                                                              ENC=Qty. Invoiced (Base)];
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 5600;   ;FA Posting Date     ;Date          ;CaptionML=[ENU=FA Posting Date;
                                                              ESM=A/F Fecha registro;
                                                              FRC=Date report immo.;
                                                              ENC=FA Posting Date] }
    { 5602;   ;Depreciation Book Code;Code10      ;TableRelation="Depreciation Book";
                                                   CaptionML=[ENU=Depreciation Book Code;
                                                              ESM=C¢d. libro amortizaci¢n;
                                                              FRC=Code registre amortissement;
                                                              ENC=Depreciation Book Code] }
    { 5605;   ;Depr. until FA Posting Date;Boolean;CaptionML=[ENU=Depr. until FA Posting Date;
                                                              ESM=A/F Amort. hasta fecha reg.;
                                                              FRC=Amort. jusqu'Ö date report;
                                                              ENC=Depr. until FA Posting Date] }
    { 5612;   ;Duplicate in Depreciation Book;Code10;
                                                   TableRelation="Depreciation Book";
                                                   CaptionML=[ENU=Duplicate in Depreciation Book;
                                                              ESM=Duplicado en libro amort.;
                                                              FRC=Registre amortiss. en double;
                                                              ENC=Duplicate in Depreciation Book] }
    { 5613;   ;Use Duplication List;Boolean       ;CaptionML=[ENU=Use Duplication List;
                                                              ESM=Utilizar lista duplicados;
                                                              FRC=Utiliser liste duplication;
                                                              ENC=Use Duplication List] }
    { 5700;   ;Responsibility Center;Code10       ;TableRelation="Responsibility Center";
                                                   CaptionML=[ENU=Responsibility Center;
                                                              ESM=Centro responsabilidad;
                                                              FRC=Centre de gestion;
                                                              ENC=Responsibility Centre] }
    { 5705;   ;Cross-Reference No. ;Code20        ;AccessByPermission=TableData 5717=R;
                                                   CaptionML=[ENU=Cross-Reference No.;
                                                              ESM=Nß referencia cruzada;
                                                              FRC=RÇfÇrence externe;
                                                              ENC=Cross-Reference No.] }
    { 5706;   ;Unit of Measure (Cross Ref.);Code10;TableRelation=IF (Type=CONST(Item)) "Item Unit of Measure".Code WHERE (Item No.=FIELD(No.));
                                                   CaptionML=[ENU=Unit of Measure (Cross Ref.);
                                                              ESM=Unidad de medida (ref.cruz.);
                                                              FRC=UnitÇ de mesure (rÇfÇrence croisÇe);
                                                              ENC=Unit of Measure (Cross Ref.)] }
    { 5707;   ;Cross-Reference Type;Option        ;CaptionML=[ENU=Cross-Reference Type;
                                                              ESM=Tipo referencia cruzada;
                                                              FRC=Type rÇfÇrence externe;
                                                              ENC=Cross-Reference Type];
                                                   OptionCaptionML=[ENU=" ,Customer,Vendor,Bar Code";
                                                                    ESM=" ,Cliente,Prov.,C¢d. barra";
                                                                    FRC=" ,Client,Fournisseur,Code Ö barres";
                                                                    ENC=" ,Customer,Vendor,Bar Code"];
                                                   OptionString=[ ,Customer,Vendor,Bar Code] }
    { 5708;   ;Cross-Reference Type No.;Code30    ;CaptionML=[ENU=Cross-Reference Type No.;
                                                              ESM=Nß tipo referencia cruzada;
                                                              FRC=N¯ type rÇfÇrence externe;
                                                              ENC=Cross-Reference Type No.] }
    { 5709;   ;Item Category Code  ;Code20        ;TableRelation=IF (Type=CONST(Item)) "Item Category";
                                                   CaptionML=[ENU=Item Category Code;
                                                              ESM=C¢d. categor°a producto;
                                                              FRC=Code catÇgorie;
                                                              ENC=Item Category Code] }
    { 5710;   ;Nonstock            ;Boolean       ;CaptionML=[ENU=Nonstock;
                                                              ESM=Prod. no inventariable;
                                                              FRC=Non stockÇ;
                                                              ENC=Nonstock] }
    { 5711;   ;Purchasing Code     ;Code10        ;TableRelation=Purchasing;
                                                   CaptionML=[ENU=Purchasing Code;
                                                              ESM=C¢d. compra;
                                                              FRC=Code achat;
                                                              ENC=Purchasing Code] }
    { 5712;   ;Product Group Code  ;Code10        ;TableRelation="Product Group".Code WHERE (Item Category Code=FIELD(Item Category Code));
                                                   ValidateTableRelation=No;
                                                   ObsoleteState=Pending;
                                                   ObsoleteReason=Product Groups became first level children of Item Categories.;
                                                   CaptionML=[ENU=Product Group Code;
                                                              ESM=C¢d. grupo producto;
                                                              FRC=Code groupe produits;
                                                              ENC=Product Group Code] }
    { 5790;   ;Requested Delivery Date;Date       ;AccessByPermission=TableData 99000880=R;
                                                   CaptionML=[ENU=Requested Delivery Date;
                                                              ESM=Fecha entrega requerida;
                                                              FRC=Date livraison demandÇe;
                                                              ENC=Requested Delivery Date];
                                                   Editable=No }
    { 5791;   ;Promised Delivery Date;Date        ;CaptionML=[ENU=Promised Delivery Date;
                                                              ESM=Fecha entrega prometida;
                                                              FRC=Date livraison confirmÇe;
                                                              ENC=Promised Delivery Date];
                                                   Editable=No }
    { 5792;   ;Shipping Time       ;DateFormula   ;AccessByPermission=TableData 5790=R;
                                                   CaptionML=[ENU=Shipping Time;
                                                              ESM=Tiempo env°o;
                                                              FRC=DÇlai de livraison;
                                                              ENC=Shipping Time] }
    { 5793;   ;Outbound Whse. Handling Time;DateFormula;
                                                   AccessByPermission=TableData 14=R;
                                                   CaptionML=[ENU=Outbound Whse. Handling Time;
                                                              ESM=Tiempo manip. alm. salida;
                                                              FRC=DÇlai dÇsenlogement;
                                                              ENC=Outbound Whse. Handling Time] }
    { 5794;   ;Planned Delivery Date;Date         ;CaptionML=[ENU=Planned Delivery Date;
                                                              ESM=Fecha entrega planificada;
                                                              FRC=Date livraison planifiÇe;
                                                              ENC=Planned Delivery Date];
                                                   Editable=No }
    { 5795;   ;Planned Shipment Date;Date         ;CaptionML=[ENU=Planned Shipment Date;
                                                              ESM=Fecha env°o planificada;
                                                              FRC=Date de livraison planifiÇe;
                                                              ENC=Planned Shipment Date];
                                                   Editable=No }
    { 5811;   ;Appl.-from Item Entry;Integer      ;AccessByPermission=TableData 27=R;
                                                   CaptionML=[ENU=Appl.-from Item Entry;
                                                              ESM=Liq. mov. prod.;
                                                              FRC=êcriture article Ö affecter;
                                                              ENC=Appl.-from Item Entry];
                                                   MinValue=0 }
    { 5812;   ;Item Charge Base Amount;Decimal    ;CaptionML=[ENU=Item Charge Base Amount;
                                                              ESM=Importe base cargos prod.;
                                                              FRC=Montant base frais annexes;
                                                              ENC=Item Charge Base Amount];
                                                   AutoFormatType=1;
                                                   AutoFormatExpr=GetCurrencyCode }
    { 5817;   ;Correction          ;Boolean       ;CaptionML=[ENU=Correction;
                                                              ESM=Correcci¢n;
                                                              FRC=Correction;
                                                              ENC=Correction];
                                                   Editable=No }
    { 6608;   ;Return Reason Code  ;Code10        ;TableRelation="Return Reason";
                                                   CaptionML=[ENU=Return Reason Code;
                                                              ESM=C¢d. auditor°a dev.;
                                                              FRC=Code motif retour;
                                                              ENC=Return Reason Code] }
    { 7001;   ;Allow Line Disc.    ;Boolean       ;InitValue=Yes;
                                                   CaptionML=[ENU=Allow Line Disc.;
                                                              ESM=Permite dto. l°nea;
                                                              FRC=Autoriser remise ligne;
                                                              ENC=Allow Line Disc.] }
    { 7002;   ;Customer Disc. Group;Code20        ;TableRelation="Customer Discount Group";
                                                   CaptionML=[ENU=Customer Disc. Group;
                                                              ESM=Grupo dto. cliente;
                                                              FRC=Groupe d'escompte du client;
                                                              ENC=Customer Disc. Group] }
    { 10000;  ;Package Tracking No.;Text30        ;CaptionML=[ENU=Package Tracking No.;
                                                              ESM=Nß seguimiento bulto;
                                                              FRC=N¯ de traáabilitÇ;
                                                              ENC=Package Tracking No.] }
    { 50000;  ;Gross Margin %      ;Decimal       ;DecimalPlaces=0:5;
                                                   Description=TOP230;
                                                   Editable=No }
    { 50001;  ;Lost Opportunity Description;Text50;Description=TOP230 }
    { 50014;  ;Pricing Logic       ;Option        ;OptionCaptionML=ENU=" ,Sales Price,Hot Sheet,Sales Line Multiplier,Customer Base Multiplier";
                                                   OptionString=[ ,Sales Price,Hot Sheet,Sales Line Multiplier,Customer Base Multiplier];
                                                   Description=TOP230 }
    { 50027;  ;Reason Code         ;Code10        ;TableRelation="Reason Code";
                                                   OnValidate=VAR
                                                                ab_ReasonCode@1000000000 : Record 231;
                                                              BEGIN
                                                              END;

                                                   Description=TOP030B }
    { 50028;  ;Reason Code Comment ;Text60        ;Description=TOP030B }
    { 50030;  ;Special Price       ;Boolean       ;DataClassification=ToBeClassified;
                                                   Description=TPZ2970 }
    { 50051;  ;Sample              ;Boolean       ;Description=TPZ1682;
                                                   Editable=No }
    { 50100;  ;Mfr. Rep. Code      ;Code20        ;TableRelation="Mfr. Rep.";
                                                   Description=TOP110 }
    { 50101;  ;ISR Code            ;Code10        ;TableRelation=Salesperson/Purchaser;
                                                   Description=TOP110 }
    { 50102;  ;CSR Code            ;Code10        ;TableRelation=Salesperson/Purchaser;
                                                   Description=TOP110 }
    { 50103;  ;Comment             ;Boolean       ;FieldClass=FlowField;
                                                   CalcFormula=Exist("Sales Comment Line" WHERE (Document Type=CONST(Shipment),
                                                                                                 No.=FIELD(Document No.),
                                                                                                 Document Line No.=FIELD(Line No.)));
                                                   CaptionML=[ENU=Comment;
                                                              ESM=Comentario;
                                                              FRC=Commentaire;
                                                              ENC=Comment];
                                                   Description=TOP170;
                                                   Editable=No }
    { 50200;  ;Shortcut Dimension 5 Code;Code20   ;OnLookup=BEGIN
                                                              //LookupShortcutDimCode(5,"Shortcut Dimension 5 Code"); //TOP140 KT ABCSI Modification to Payment Terms 01222015
                                                              Table21EventSubscriber.Tb_ShortCut5Code_onlookup(5,"Shortcut Dimension 5 Code","Dimension Set ID"); //<TPZ2829>Event convert
                                                            END;

                                                   CaptionML=[ENU=Shortcut Dimension 5 Code;
                                                              ESM=C¢d. dim. acceso dir. 2;
                                                              FRC=Code raccourci de dimension 2;
                                                              ENC=Shortcut Dimension 2 Code];
                                                   Description=TOP140;
                                                   CaptionClass='1,2,5' }
    { 50201;  ;Multiplier          ;Decimal       ;DecimalPlaces=3:3;
                                                   MinValue=0;
                                                   MaxValue=1;
                                                   Description=TOP100A }
    { 50202;  ;Recomm. Unit Price  ;Decimal       ;Description=TOP100A;
                                                   AutoFormatType=2;
                                                   AutoFormatExpr=GetCurrencyCode }
    { 50203;  ;Actual Unit Price   ;Decimal       ;Description=TOP100A;
                                                   AutoFormatType=2;
                                                   AutoFormatExpr=GetCurrencyCode }
    { 50204;  ;Alt. UOM Recomm. Unit Price;Decimal;Description=TOP100A;
                                                   AutoFormatType=2;
                                                   AutoFormatExpr=GetCurrencyCode }
    { 50205;  ;Alt. UOM Actual Unit Price;Decimal ;Description=TOP100A;
                                                   AutoFormatType=2;
                                                   AutoFormatExpr=GetCurrencyCode }
    { 50206;  ;Recomm. Multiplier  ;Decimal       ;DecimalPlaces=3:3;
                                                   MinValue=0;
                                                   MaxValue=1;
                                                   Description=TOP100A }
    { 50500;  ;Alt. UOM Code       ;Code10        ;TableRelation=IF (Type=CONST(Item)) "Item Unit of Measure".Code WHERE (Item No.=FIELD(No.));
                                                   Description=TOP050 }
    { 50501;  ;Alt. Unit of Measure;Text10        ;Description=TOP050 }
    { 50502;  ;Alt. UOM Quantity   ;Decimal       ;DecimalPlaces=0:5;
                                                   Description=TOP050 }
    { 50503;  ;Alt. UOM Unit Price ;Decimal       ;Description=TOP050;
                                                   AutoFormatType=2;
                                                   AutoFormatExpr=GetCurrencyCode }
    { 50504;  ;Qty. per Alt. UOM   ;Decimal       ;DecimalPlaces=0:5;
                                                   Description=TOP050 }
    { 51082;  ;Quote No.           ;Code20        ;TableRelation="Sales Header".No. WHERE (Document Type=CONST(Quote));
                                                   CaptionML=ENU=Quote No.;
                                                   Description=TOP030A }
    { 51084;  ;Quote Line No.      ;Integer       ;TableRelation="Sales Line"."Line No." WHERE (Document Type=CONST(Quote),
                                                                                                Document No.=FIELD(Quote No.));
                                                   CaptionML=ENU=Quote Line No.;
                                                   Description=TOP030A }
    { 51091;  ;External Document Line No.;Code10  ;CaptionML=ENU=Customer PO Line No.;
                                                   Description=TPZ1312 Changed type from Integer to Code }
    { 55041;  ;Promo               ;Boolean       ;Description=TPZ2368;
                                                   Editable=No }
    { 60000;  ;Order Quantity      ;Decimal       ;Description=TPZ698 }
    { 60001;  ;Order Quantity (Base);Decimal      ;Description=TPZ698 }
    { 14000351;;EDI Item Cross Ref.;Code40        ;CaptionML=ENU=EDI Item Cross Ref. }
    { 14000352;;EDI Unit of Measure;Code10        ;CaptionML=ENU=EDI Unit of Measure }
    { 14000353;;EDI Unit Price     ;Decimal       ;CaptionML=ENU=EDI Unit Price }
    { 14000354;;EDI Price Discrepancy;Boolean     ;CaptionML=ENU=EDI Price Discrepancy }
    { 14000355;;EDI Segment Group  ;Integer       ;CaptionML=ENU=EDI Segment Group;
                                                   Editable=No }
    { 14000356;;EDI Original Qty.  ;Decimal       ;CaptionML=ENU=EDI Original Qty.;
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 14000357;;EDI Status Pending ;Boolean       ;CaptionML=ENU=EDI Status Pending;
                                                   Editable=No }
    { 14000358;;EDI Release No.    ;Code20        ;CaptionML=ENU=EDI Release No. }
    { 14000359;;EDI Ship Req. Date ;Date          ;CaptionML=ENU=EDI Ship Req. Date }
    { 14000360;;EDI Kanban No.     ;Code20        ;CaptionML=ENU=EDI Kanban No. }
    { 14000361;;EDI Line Type      ;Option        ;CaptionML=ENU=EDI Line Type;
                                                   OptionCaptionML=ENU=" ,Forecast,Release,Change,Forecast & Release";
                                                   OptionString=[ ,Forecast,Release,Change,Forecast & Release] }
    { 14000362;;EDI Line Status    ;Option        ;CaptionML=ENU=EDI Line Status;
                                                   OptionCaptionML=ENU=" ,New,Order Exists,Shipment Exists,Release Created,Change Made,Cancellation,Add Item";
                                                   OptionString=[ ,New,Order Exists,Shipment Exists,Release Created,Change Made,Cancellation,Add Item] }
    { 14000363;;EDI Cumulative Quantity;Decimal   ;CaptionML=ENU=EDI Cumulative Quantity }
    { 14000364;;EDI Forecast Begin Date;Date      ;CaptionML=ENU=EDI Forecast Begin Date }
    { 14000365;;EDI Forecast End Date;Date        ;CaptionML=ENU=EDI Forecast End Date }
    { 14000366;;EDI Code           ;Code35        ;CaptionML=ENU=EDI Code }
    { 14000367;;EDI ID             ;Code20        ;CaptionML=ENU=EDI ID }
    { 14000368;;EDI Variant Code   ;Code40        ;CaptionML=ENU=EDI Variant Code }
    { 14000370;;EDI Time           ;Time          ;CaptionML=ENU=EDI Time }
    { 14000371;;EDI DateTime       ;DateTime      ;CaptionML=ENU=EDI DateTime }
    { 14000701;;Shipping Charge    ;Boolean       ;CaptionML=ENU=Shipping Charge }
    { 14000702;;Qty. Packed (Base) ;Decimal       ;CaptionML=ENU=Qty. Packed (Base);
                                                   Editable=No }
    { 14000703;;Pack               ;Boolean       ;CaptionML=ENU=Pack;
                                                   Editable=No }
    { 14000704;;Rate Quoted        ;Boolean       ;CaptionML=ENU=Rate Quoted }
    { 14000705;;Std. Package Unit of Meas Code;Code10;
                                                   TableRelation=IF (Type=CONST(Item)) "Item Unit of Measure".Code WHERE (Item No.=FIELD(No.));
                                                   CaptionML=ENU=Std. Package Unit of Meas Code }
    { 14000706;;Std. Package Quantity;Decimal     ;CaptionML=ENU=Std. Package Quantity;
                                                   DecimalPlaces=0:5;
                                                   BlankZero=Yes;
                                                   Editable=No }
    { 14000707;;Qty. per Std. Package;Decimal     ;CaptionML=ENU=Qty. per Std. Package;
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 14000708;;Std. Package Qty. to Ship;Decimal ;CaptionML=ENU=Std. Package Qty. to Ship;
                                                   DecimalPlaces=0:5;
                                                   BlankZero=Yes;
                                                   Editable=No }
    { 14000709;;Std. Packs per Package;Integer    ;CaptionML=ENU=Std. Packs per Package }
    { 14000710;;Package Quantity   ;Decimal       ;CaptionML=ENU=Package Quantity;
                                                   DecimalPlaces=0:5;
                                                   BlankZero=Yes;
                                                   Editable=No }
    { 14000711;;Package Qty. to Ship;Decimal      ;CaptionML=ENU=Package Qty. to Ship;
                                                   DecimalPlaces=0:5;
                                                   BlankZero=Yes;
                                                   Editable=No }
    { 14000712;;E-Ship Whse. Outst. Qty (Base);Decimal;
                                                   CaptionML=ENU=E-Ship Whse. Outst. Qty (Base);
                                                   Editable=No }
    { 14000713;;Shipping Charge BOL No.;Code20    ;TableRelation="Bill of Lading";
                                                   CaptionML=ENU=Shipping Charge BOL No. }
    { 14000715;;Required Shipping Agent Code;Code10;
                                                   TableRelation="Shipping Agent";
                                                   CaptionML=ENU=Required Shipping Agent Code }
    { 14000716;;Required E-Ship Agent Service;Code30;
                                                   TableRelation="E-Ship Agent Service".Code WHERE (Shipping Agent Code=FIELD(Required Shipping Agent Code));
                                                   CaptionML=ENU=Required E-Ship Agent Service }
    { 14000717;;Allow Other Ship. Agent/Serv.;Boolean;
                                                   CaptionML=ENU=Allow Other Ship. Agent/Serv. }
    { 14000720;;E-Ship Agent Code  ;Code10        ;TableRelation="Shipping Agent";
                                                   CaptionML=ENU=E-Ship Agent Code }
    { 14000721;;E-Ship Agent Service;Code30       ;CaptionML=ENU=E-Ship Agent Service }
    { 14000722;;Shipping Payment Type;Option      ;CaptionML=ENU=Shipping Payment Type;
                                                   OptionCaptionML=ENU=Prepaid,Third Party,Freight Collect,Consignee;
                                                   OptionString=Prepaid,Third Party,Freight Collect,Consignee }
    { 14000723;;Third Party Ship. Account No.;Code20;
                                                   CaptionML=ENU=Third Party Ship. Account No. }
    { 14000724;;Shipping Insurance ;Option        ;CaptionML=ENU=Shipping Insurance;
                                                   OptionCaptionML=ENU=" ,Never,Always";
                                                   OptionString=[ ,Never,Always] }
  }
  KEYS
  {
    {    ;Document No.,Line No.                   ;Clustered=Yes }
    {    ;Order No.,Order Line No.                 }
    {    ;Blanket Order No.,Blanket Order Line No.;SumIndexFields=Quantity;
                                                   MaintainSIFTIndex=No }
    {    ;Item Shpt. Entry No.                     }
    {    ;Sell-to Customer No.                     }
    {    ;Bill-to Customer No.                     }
    {    ;Document No.,Package Tracking No.        }
    {    ;Sell-to Customer No.,No.,EDI Release No.,EDI Ship Req. Date;
                                                   KeyGroups=SE-EDI }
    {    ;Quote No.,Quote Line No.                ;SumIndexFields=Quantity,Quantity (Base) }
    {    ;Type,No.,Variant Code,Location Code,Shipment Date;
                                                   SumIndexFields=Quantity (Base) }
  }
  FIELDGROUPS
  {
    { 1   ;DropDown            ;Document No.,Line No.,Sell-to Customer No.,Type,No.,Shipment Date }
  }
  CODE
  {
    VAR
      Text000@1000 : TextConst 'ENU=Shipment No. %1:;ESM=Nß remisi¢n %1:;FRC=N¯ livraison %1:;ENC=Shipment No. %1:';
      Text001@1001 : TextConst 'ENU=The program cannot find this Sales line.;ESM=El prog. no puede encontrar esta l°n. vta.;FRC=Le programme ne trouve pas cette ligne vente.;ENC=The program cannot find this Sales line.';
      Currency@1002 : Record 4;
      SalesShptHeader@1005 : Record 110;
      PostedATOLink@1006 : Record 914;
      DimMgt@1003 : Codeunit 408;
      CurrencyRead@1004 : Boolean;
      ItemNoFieldCaptionTxt@1007 : TextConst 'ENU=Item No.;ESM=Nß producto;FRC=N¯ article;ENC=Item No.';
      Table21EventPublisher@1000000000 : Codeunit 51405;
      Table21EventSubscriber@1000000001 : Codeunit 51404;

    [External]
    PROCEDURE GetCurrencyCode@1() : Code[10];
    BEGIN
      IF "Document No." = SalesShptHeader."No." THEN
        EXIT(SalesShptHeader."Currency Code");
      IF SalesShptHeader.GET("Document No.") THEN
        EXIT(SalesShptHeader."Currency Code");
      EXIT('');
    END;

    [External]
    PROCEDURE ShowDimensions@25();
    BEGIN
      DimMgt.ShowDimensionSet("Dimension Set ID",STRSUBSTNO('%1 %2 %3',TABLECAPTION,"Document No.","Line No."));
    END;

    [External]
    PROCEDURE ShowItemTrackingLines@6500();
    VAR
      ItemTrackingDocMgt@1000 : Codeunit 6503;
    BEGIN
      ItemTrackingDocMgt.ShowItemTrackingForShptRcptLine(DATABASE::"Sales Shipment Line",0,"Document No.",'',0,"Line No.");
    END;

    PROCEDURE InsertInvLineFromShptLine@2(VAR SalesLine@1000 : Record 37);
    VAR
      SalesInvHeader@1011 : Record 36;
      SalesOrderHeader@1008 : Record 36;
      SalesOrderLine@1005 : Record 37;
      TempSalesLine@1002 : TEMPORARY Record 37;
      TransferOldExtLines@1007 : Codeunit 379;
      ItemTrackingMgt@1009 : Codeunit 6500;
      LanguageManagement@1010 : Codeunit 43;
      ExtTextLine@1006 : Boolean;
      NextLineNo@1001 : Integer;
      Handled@1003 : Boolean;
    BEGIN
      SETRANGE("Document No.","Document No.");

      TempSalesLine := SalesLine;
      IF SalesLine.FIND('+') THEN
        NextLineNo := SalesLine."Line No." + 10000
      ELSE
        NextLineNo := 10000;

      IF SalesInvHeader."No." <> TempSalesLine."Document No." THEN
        SalesInvHeader.GET(TempSalesLine."Document Type",TempSalesLine."Document No.");

      IF SalesLine."Shipment No." <> "Document No." THEN BEGIN
        SalesLine.INIT;
        SalesLine."Line No." := NextLineNo;
        SalesLine."Document Type" := TempSalesLine."Document Type";
        SalesLine."Document No." := TempSalesLine."Document No.";
        LanguageManagement.SetGlobalLanguageByCode(SalesInvHeader."Language Code");
        SalesLine.Description := STRSUBSTNO(Text000,"Document No.");
        LanguageManagement.RestoreGlobalLanguage;
        OnBeforeInsertInvLineFromShptLineBeforeInsertTextLine(Rec,SalesLine,NextLineNo,Handled);
        IF NOT Handled THEN BEGIN
          SalesLine.INSERT;
          NextLineNo := NextLineNo + 10000;
        END;
      END;

      TransferOldExtLines.ClearLineNumbers;

      REPEAT
        ExtTextLine := (TransferOldExtLines.GetNewLineNumber("Attached to Line No.") <> 0);

        IF (Type <> Type::" ") AND SalesOrderLine.GET(SalesOrderLine."Document Type"::Order,"Order No.","Order Line No.")
        THEN BEGIN
          IF (SalesOrderHeader."Document Type" <> SalesOrderLine."Document Type"::Order) OR
             (SalesOrderHeader."No." <> SalesOrderLine."Document No.")
          THEN
            SalesOrderHeader.GET(SalesOrderLine."Document Type"::Order,"Order No.");

          InitCurrency("Currency Code");

          IF SalesInvHeader."Prices Including VAT" THEN BEGIN
            IF NOT SalesOrderHeader."Prices Including VAT" THEN
              SalesOrderLine."Unit Price" :=
                ROUND(
                  SalesOrderLine."Unit Price" * (1 + SalesOrderLine."VAT %" / 100),
                  Currency."Unit-Amount Rounding Precision");
          END ELSE BEGIN
            IF SalesOrderHeader."Prices Including VAT" THEN
              SalesOrderLine."Unit Price" :=
                ROUND(
                  SalesOrderLine."Unit Price" / (1 + SalesOrderLine."VAT %" / 100),
                  Currency."Unit-Amount Rounding Precision");
          END;
        END ELSE BEGIN
          SalesOrderHeader.INIT;
          IF ExtTextLine OR (Type = Type::" ") THEN BEGIN
            SalesOrderLine.INIT;
            SalesOrderLine."Line No." := "Order Line No.";
            SalesOrderLine.Description := Description;
            SalesOrderLine."Description 2" := "Description 2";
          END ELSE
            ERROR(Text001);
        END;

        SalesLine := SalesOrderLine;
        SalesLine."Line No." := NextLineNo;
        SalesLine."Document Type" := TempSalesLine."Document Type";
        SalesLine."Document No." := TempSalesLine."Document No.";
        SalesLine."Variant Code" := "Variant Code";
        SalesLine."Location Code" := "Location Code";
        SalesLine."Quantity (Base)" := 0;
        SalesLine.Quantity := 0;
        SalesLine."Outstanding Qty. (Base)" := 0;
        SalesLine."Outstanding Quantity" := 0;
        SalesLine."Quantity Shipped" := 0;
        SalesLine."Qty. Shipped (Base)" := 0;
        SalesLine."Quantity Invoiced" := 0;
        SalesLine."Qty. Invoiced (Base)" := 0;
        SalesLine.Amount := 0;
        SalesLine."Amount Including VAT" := 0;
        SalesLine."Purchase Order No." := '';
        SalesLine."Purch. Order Line No." := 0;
        SalesLine."Drop Shipment" := "Drop Shipment";
        SalesLine."Special Order Purchase No." := '';
        SalesLine."Special Order Purch. Line No." := 0;
        SalesLine."Special Order" := FALSE;
        SalesLine."Shipment No." := "Document No.";
        SalesLine."Shipment Line No." := "Line No.";
        SalesLine."Appl.-to Item Entry" := 0;
        SalesLine."Appl.-from Item Entry" := 0;
        IF NOT ExtTextLine AND (SalesLine.Type <> 0) THEN BEGIN
          SalesLine.VALIDATE(Quantity,Quantity - "Quantity Invoiced");
          CalcBaseQuantities(SalesLine,"Quantity (Base)" / Quantity);
          SalesLine.VALIDATE("Unit Price",SalesOrderLine."Unit Price");
          SalesLine."Allow Line Disc." := SalesOrderLine."Allow Line Disc.";
          SalesLine."Allow Invoice Disc." := SalesOrderLine."Allow Invoice Disc.";
          SalesOrderLine."Line Discount Amount" :=
            ROUND(
              SalesOrderLine."Line Discount Amount" * SalesLine.Quantity / SalesOrderLine.Quantity,
              Currency."Amount Rounding Precision");
          IF SalesInvHeader."Prices Including VAT" THEN BEGIN
            IF NOT SalesOrderHeader."Prices Including VAT" THEN
              SalesOrderLine."Line Discount Amount" :=
                ROUND(
                  SalesOrderLine."Line Discount Amount" *
                  (1 + SalesOrderLine."VAT %" / 100),Currency."Amount Rounding Precision");
          END ELSE BEGIN
            IF SalesOrderHeader."Prices Including VAT" THEN
              SalesOrderLine."Line Discount Amount" :=
                ROUND(
                  SalesOrderLine."Line Discount Amount" /
                  (1 + SalesOrderLine."VAT %" / 100),Currency."Amount Rounding Precision");
          END;
          SalesLine.VALIDATE("Line Discount Amount",SalesOrderLine."Line Discount Amount");
          SalesLine."Line Discount %" := SalesOrderLine."Line Discount %";
          SalesLine.UpdatePrePaymentAmounts;
          IF SalesOrderLine.Quantity = 0 THEN
            SalesLine.VALIDATE("Inv. Discount Amount",0)
          ELSE
            SalesLine.VALIDATE(
              "Inv. Discount Amount",
              ROUND(
                SalesOrderLine."Inv. Discount Amount" * SalesLine.Quantity / SalesOrderLine.Quantity,
                Currency."Amount Rounding Precision"));
        END;

        SalesLine."Attached to Line No." :=
          TransferOldExtLines.TransferExtendedText(
            SalesOrderLine."Line No.",
            NextLineNo,
            "Attached to Line No.");
        SalesLine."Shortcut Dimension 1 Code" := "Shortcut Dimension 1 Code";
        SalesLine."Shortcut Dimension 2 Code" := "Shortcut Dimension 2 Code";
        SalesLine."Dimension Set ID" := "Dimension Set ID";
        OnBeforeInsertInvLineFromShptLine(Rec,SalesLine);
        SalesLine.INSERT;
        OnAfterInsertInvLineFromShptLine(SalesLine);

        ItemTrackingMgt.CopyHandledItemTrkgToInvLine(SalesOrderLine,SalesLine);

        NextLineNo := NextLineNo + 10000;
        IF "Attached to Line No." = 0 THEN
          SETRANGE("Attached to Line No.","Line No.");
      UNTIL (NEXT = 0) OR ("Attached to Line No." = 0);

      IF SalesOrderHeader.GET(SalesOrderHeader."Document Type"::Order,"Order No.") THEN BEGIN
        SalesOrderHeader."Get Shipment Used" := TRUE;
        SalesOrderHeader.MODIFY;
      END;
    END;

    LOCAL PROCEDURE GetSalesInvLines@4(VAR TempSalesInvLine@1000 : TEMPORARY Record 113);
    VAR
      SalesInvLine@1003 : Record 113;
      ItemLedgEntry@1002 : Record 32;
      ValueEntry@1001 : Record 5802;
    BEGIN
      TempSalesInvLine.RESET;
      TempSalesInvLine.DELETEALL;

      IF Type <> Type::Item THEN
        EXIT;

      FilterPstdDocLnItemLedgEntries(ItemLedgEntry);
      ItemLedgEntry.SETFILTER("Invoiced Quantity",'<>0');
      IF ItemLedgEntry.FINDSET THEN BEGIN
        ValueEntry.SETCURRENTKEY("Item Ledger Entry No.","Entry Type");
        ValueEntry.SETRANGE("Entry Type",ValueEntry."Entry Type"::"Direct Cost");
        ValueEntry.SETFILTER("Invoiced Quantity",'<>0');
        REPEAT
          ValueEntry.SETRANGE("Item Ledger Entry No.",ItemLedgEntry."Entry No.");
          IF ValueEntry.FINDSET THEN
            REPEAT
              IF ValueEntry."Document Type" = ValueEntry."Document Type"::"Sales Invoice" THEN
                IF SalesInvLine.GET(ValueEntry."Document No.",ValueEntry."Document Line No.") THEN BEGIN
                  TempSalesInvLine.INIT;
                  TempSalesInvLine := SalesInvLine;
                  IF TempSalesInvLine.INSERT THEN;
                END;
            UNTIL ValueEntry.NEXT = 0;
        UNTIL ItemLedgEntry.NEXT = 0;
      END;
    END;

    [External]
    PROCEDURE CalcShippedSaleNotReturned@3(VAR ShippedQtyNotReturned@1003 : Decimal;VAR RevUnitCostLCY@1005 : Decimal;ExactCostReverse@1006 : Boolean);
    VAR
      ItemLedgEntry@1000 : Record 32;
      TotalCostLCY@1007 : Decimal;
      TotalQtyBase@1002 : Decimal;
    BEGIN
      ShippedQtyNotReturned := 0;
      IF (Type <> Type::Item) OR (Quantity <= 0) THEN BEGIN
        RevUnitCostLCY := "Unit Cost (LCY)";
        EXIT;
      END;

      RevUnitCostLCY := 0;
      FilterPstdDocLnItemLedgEntries(ItemLedgEntry);
      IF ItemLedgEntry.FINDSET THEN
        REPEAT
          ShippedQtyNotReturned := ShippedQtyNotReturned - ItemLedgEntry."Shipped Qty. Not Returned";
          IF ExactCostReverse THEN BEGIN
            ItemLedgEntry.CALCFIELDS("Cost Amount (Expected)","Cost Amount (Actual)");
            TotalCostLCY :=
              TotalCostLCY + ItemLedgEntry."Cost Amount (Expected)" + ItemLedgEntry."Cost Amount (Actual)";
            TotalQtyBase := TotalQtyBase + ItemLedgEntry.Quantity;
          END;
        UNTIL ItemLedgEntry.NEXT = 0;

      IF ExactCostReverse AND (ShippedQtyNotReturned <> 0) AND (TotalQtyBase <> 0) THEN
        RevUnitCostLCY := ABS(TotalCostLCY / TotalQtyBase) * "Qty. per Unit of Measure"
      ELSE
        RevUnitCostLCY := "Unit Cost (LCY)";

      ShippedQtyNotReturned := CalcQty(ShippedQtyNotReturned);
    END;

    LOCAL PROCEDURE CalcQty@9(QtyBase@1000 : Decimal) : Decimal;
    BEGIN
      IF "Qty. per Unit of Measure" = 0 THEN
        EXIT(QtyBase);
      EXIT(ROUND(QtyBase / "Qty. per Unit of Measure",0.00001));
    END;

    [External]
    PROCEDURE FilterPstdDocLnItemLedgEntries@5(VAR ItemLedgEntry@1000 : Record 32);
    BEGIN
      ItemLedgEntry.RESET;
      ItemLedgEntry.SETCURRENTKEY("Document No.");
      ItemLedgEntry.SETRANGE("Document No.","Document No.");
      ItemLedgEntry.SETRANGE("Document Type",ItemLedgEntry."Document Type"::"Sales Shipment");
      ItemLedgEntry.SETRANGE("Document Line No.","Line No.");
    END;

    [External]
    PROCEDURE ShowItemSalesInvLines@8();
    VAR
      TempSalesInvLine@1001 : TEMPORARY Record 113;
    BEGIN
      IF Type = Type::Item THEN BEGIN
        GetSalesInvLines(TempSalesInvLine);
        PAGE.RUNMODAL(PAGE::"Posted Sales Invoice Lines",TempSalesInvLine);
      END;
    END;

    LOCAL PROCEDURE InitCurrency@6(CurrencyCode@1001 : Code[10]);
    BEGIN
      IF (Currency.Code = CurrencyCode) AND CurrencyRead THEN
        EXIT;

      IF CurrencyCode <> '' THEN
        Currency.GET(CurrencyCode)
      ELSE
        Currency.InitRoundingPrecision;
      CurrencyRead := TRUE;
    END;

    [External]
    PROCEDURE StartTrackingSite@10000();
    BEGIN
      SalesShptHeader.GET("Document No.");
      SalesShptHeader.StartTrackingSite("Package Tracking No.");
    END;

    [External]
    PROCEDURE ShowLineComments@10();
    VAR
      SalesCommentLine@1000 : Record 44;
    BEGIN
      SalesCommentLine.ShowComments(SalesCommentLine."Document Type"::Shipment,"Document No.","Line No.");
    END;

    [External]
    PROCEDURE ShowAsmToOrder@11();
    BEGIN
      PostedATOLink.ShowPostedAsm(Rec);
    END;

    [External]
    PROCEDURE AsmToShipmentExists@72(VAR PostedAsmHeader@1000 : Record 910) : Boolean;
    VAR
      PostedAssembleToOrderLink@1001 : Record 914;
    BEGIN
      IF NOT PostedAssembleToOrderLink.AsmExistsForPostedShipmentLine(Rec) THEN
        EXIT(FALSE);
      EXIT(PostedAsmHeader.GET(PostedAssembleToOrderLink."Assembly Document No."));
    END;

    [External]
    PROCEDURE InitFromSalesLine@12(SalesShptHeader@1001 : Record 110;SalesLine@1002 : Record 37);
    BEGIN
      INIT;
      TRANSFERFIELDS(SalesLine);
      IF ("No." = '') AND (Type IN [Type::"G/L Account"..Type::"Charge (Item)"]) THEN
        Type := Type::" ";
      "Posting Date" := SalesShptHeader."Posting Date";
      "Document No." := SalesShptHeader."No.";
      Quantity := SalesLine."Qty. to Ship";
      "Quantity (Base)" := SalesLine."Qty. to Ship (Base)";
      IF ABS(SalesLine."Qty. to Invoice") > ABS(SalesLine."Qty. to Ship") THEN BEGIN
        "Quantity Invoiced" := SalesLine."Qty. to Ship";
        "Qty. Invoiced (Base)" := SalesLine."Qty. to Ship (Base)";
      END ELSE BEGIN
        "Quantity Invoiced" := SalesLine."Qty. to Invoice";
        "Qty. Invoiced (Base)" := SalesLine."Qty. to Invoice (Base)";
      END;
      "Qty. Shipped Not Invoiced" := Quantity - "Quantity Invoiced";
      IF SalesLine."Document Type" = SalesLine."Document Type"::Order THEN BEGIN
        "Order No." := SalesLine."Document No.";
        "Order Line No." := SalesLine."Line No.";
      END;

      OnAfterInitFromSalesLine(SalesShptHeader,SalesLine,Rec);
    END;

    PROCEDURE FormatType@144() : Text;
    VAR
      SalesLine@1000 : Record 37;
    BEGIN
      IF Type = Type::" " THEN
        EXIT(SalesLine.FormatType);

      EXIT(FORMAT(Type));
    END;

    LOCAL PROCEDURE CalcBaseQuantities@13(VAR SalesLine@1000 : Record 37;QtyFactor@1001 : Decimal);
    BEGIN
      SalesLine."Quantity (Base)" := ROUND(SalesLine.Quantity * QtyFactor,0.00001);
      SalesLine."Qty. to Asm. to Order (Base)" := ROUND(SalesLine."Qty. to Assemble to Order" * QtyFactor,0.00001);
      SalesLine."Outstanding Qty. (Base)" := ROUND(SalesLine."Outstanding Quantity" * QtyFactor,0.00001);
      SalesLine."Qty. to Ship (Base)" := ROUND(SalesLine."Qty. to Ship" * QtyFactor,0.00001);
      SalesLine."Qty. Shipped (Base)" := ROUND(SalesLine."Quantity Shipped" * QtyFactor,0.00001);
      SalesLine."Qty. Shipped Not Invd. (Base)" := ROUND(SalesLine."Qty. Shipped Not Invoiced" * QtyFactor,0.00001);
      SalesLine."Qty. to Invoice (Base)" := ROUND(SalesLine."Qty. to Invoice" * QtyFactor,0.00001);
      SalesLine."Qty. Invoiced (Base)" := ROUND(SalesLine."Quantity Invoiced" * QtyFactor,0.00001);
      SalesLine."Return Qty. to Receive (Base)" := ROUND(SalesLine."Return Qty. to Receive" * QtyFactor,0.00001);
      SalesLine."Return Qty. Received (Base)" := ROUND(SalesLine."Return Qty. Received" * QtyFactor,0.00001);
      SalesLine."Ret. Qty. Rcd. Not Invd.(Base)" := ROUND(SalesLine."Return Qty. Rcd. Not Invd." * QtyFactor,0.00001);
    END;

    LOCAL PROCEDURE GetFieldCaption@31(FieldNumber@1000 : Integer) : Text[100];
    VAR
      Field@1001 : Record 2000000041;
    BEGIN
      Field.GET(DATABASE::"Sales Shipment Line",FieldNumber);
      EXIT(Field."Field Caption");
    END;

    [External]
    PROCEDURE GetCaptionClass@34(FieldNumber@1000 : Integer) : Text[80];
    BEGIN
      CASE FieldNumber OF
        FIELDNO("No."):
          EXIT(STRSUBSTNO('3,%1',GetFieldCaption(FieldNumber)));
      END;
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterInitFromSalesLine@7(SalesShptHeader@1000 : Record 110;SalesLine@1001 : Record 37;VAR SalesShptLine@1002 : Record 111);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterInsertInvLineFromShptLine@18(SalesLine@1000 : Record 37);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnBeforeInsertInvLineFromShptLine@17(VAR SalesShptLine@1000 : Record 111;VAR SalesLine@1001 : Record 37);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnBeforeInsertInvLineFromShptLineBeforeInsertTextLine@14(VAR SalesShptLine@1000 : Record 111;VAR SalesLine@1001 : Record 37;NextLineNo@1002 : Integer;VAR Handled@1003 : Boolean);
    BEGIN
    END;

    BEGIN
    {
      TOP140 KT ABCSI Modification to Payment Terms 01162015
       - Added field # 50200 "Shortcut Dimension 5 Code"
       - Added manual lookup for "Shortcut Dimension 5 Code" and added functions ValidateShortcutDimCode( ) and LookupShortcutDimCode( )

      TOP050 KT ABCSI Modification to Item Cards 01202015
       - Added below field
          50500 Alt. UOM Code
          50501 Alt. Unit of Measure
          50502 Alt. UOM Quantity
          50503 Alt. UOM Unit Price
          50504 Qty. per Alt. UOM

      TOP030A KT ABCSI Sales Quotes 02132015
       - Added fields
        # 51082 Quote No.
        # 51084 Quote Line No.

      TOP100A KT ABCSI Multipliers 02172015
        - Added fields
          50201  Multiplier
          50202  Recomm. Unit Price
          50203  Actual Unit Price
          50204  Alt. UOM Recomm. Unit Price
          50205  Alt. UOM Actual Unit Price
          50206  Recomm. Multiplier
        - Changed the caption of the fields
          Allow Line Disc. --> Allow Line Multiplier
          Customer Disc. Group --> Customer Multiplier Group

      TOP030B KT ABCSI Lost Opportunities 03092015
       - Added fields
        # 50027 Reason Code
        # 50028 Reason Code Comment

      TOP110 KT ABCSI Salesperson 03302015
        - Added new fields 50100 Mfr. Rep. Code, 50101 ISR Code, 50102 CSR Code

      TOP170 KT ABCSI Sales Order Updates 04012015
        - Added field 50103 Comment

      TOP230 KT ABCSI CRP 2 Fixes 05012015
        - Added field # 50000 "Gross Margin %"
        - Added new field 50014 Pricing Logic
        - Added a new field Lost Opportunity Description
        - Modified the DecimalPlaces property and AutoFormatType property for all the custom fields with Quantity, Price and Amounts

      2015-06-22 TPZ428 VCHERNYA
        Customer PO Line No. (External Document Line No.) field has been created
      2015-10-12 TPZ1065 VCHERNYA
        Table relations have been set for Quote and Quote Line No. fields
      2015-12-22 TPZ1382 TAKHMETO
        Key Quote No.,Quote Line No. has been added
      2016-10-19 TPZ1682
        Added Field: 50051 "Sample" Added

      2018-03-21 UCHOUHAN TPZ2243
        Added Key Quote No.,Quote Line No. and Type,No.,Variant Code,Location Code,Shipment Date  which are missing while merging.
      2018-07-31 UCHOUHAN TPZ2368
        Added "Promo" Field
      001 TPZ2970 VAH 11252020 Added New Field : Special Price
    }
    END.
  }
}

