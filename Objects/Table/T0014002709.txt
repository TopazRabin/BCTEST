OBJECT Table 14002709 AFP Alert Line
{
  OBJECT-PROPERTIES
  {
    Date=03/01/20;
    Time=12:00:00 PM;
    Version List=UBP3.02;
  }
  PROPERTIES
  {
    CaptionML=ENU=DP Alert Line;
    LookupPageID=Page14002718;
    DrillDownPageID=Page14002718;
  }
  FIELDS
  {
    { 1   ;   ;Item No.            ;Code50        ;TableRelation=Item.No.;
                                                   CaptionML=ENU=Item No.;
                                                   Editable=No }
    { 2   ;   ;Location Code       ;Code10        ;TableRelation=Location.Code;
                                                   CaptionML=ENU=Location Code;
                                                   Editable=No }
    { 3   ;   ;Variant Code        ;Code10        ;TableRelation="Item Variant".Code WHERE (Item No.=FIELD(Item No.));
                                                   CaptionML=ENU=Variant Code;
                                                   Editable=No }
    { 4   ;   ;Source No.          ;Code20        ;CaptionML=ENU=Source No.;
                                                   Editable=No }
    { 5   ;   ;Line No.            ;Integer       ;CaptionML=ENU=Line No.;
                                                   Editable=No }
    { 11  ;   ;Alert Type          ;Option        ;CaptionML=ENU=Alert Type;
                                                   OptionCaptionML=ENU=,Exp. Stock Out,Late Purch. Order,,Surp. With Open PO,Auto FC Adj.;
                                                   OptionString=,Exp. Stock Out,Late Purch. Order,,Surp. With Open PO,Auto FC Adj.;
                                                   Editable=No }
    { 12  ;   ;Alert Date          ;Date          ;CaptionML=ENU=Alert Date;
                                                   Editable=No }
    { 13  ;   ;Quantity (Base)     ;Decimal       ;CaptionML=ENU=Quantity (Base);
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 14  ;   ;Unit of Measure Code;Code10        ;CaptionML=ENU=Unit of Measure Code;
                                                   Editable=No }
    { 15  ;   ;Action Taken        ;Option        ;OnValidate=BEGIN
                                                                IF ("Action Taken" <> "Action Taken"::Snoozed) THEN BEGIN
                                                                  "Snooze Days" := 0;
                                                                  "Snooze Date" := 0D;
                                                                END;
                                                              END;

                                                   CaptionML=ENU=Action Taken;
                                                   OptionCaptionML=ENU=None,Handled,Snoozed;
                                                   OptionString=None,Handled,Snoozed }
    { 16  ;   ;Snooze Days         ;Integer       ;OnValidate=BEGIN
                                                                IF "Snooze Days" = 0 THEN BEGIN
                                                                  "Snooze Date" := 0D;
                                                                  "Action Taken" := "Action Taken"::None;
                                                                END ELSE BEGIN
                                                                  "Snooze Date" := CALCDATE(STRSUBSTNO('<+%1D>',"Snooze Days"),WORKDATE);
                                                                  "Action Taken" := "Action Taken"::Snoozed;
                                                                END;
                                                              END;

                                                   CaptionML=ENU=Snooze Days }
    { 17  ;   ;Purchaser Code      ;Code20        ;CaptionML=ENU=Purchaser Code;
                                                   Editable=No }
    { 18  ;   ;Vendor Code         ;Code20        ;CaptionML=ENU=Vendor Code;
                                                   Editable=No }
    { 19  ;   ;Comment             ;Text250       ;CaptionML=ENU=Comment }
    { 20  ;   ;Snooze Date         ;Date          ;CaptionML=ENU=Snooze Date;
                                                   Editable=No }
    { 21  ;   ;Replenishment Source Type;Option   ;CaptionML=ENU=Replenishment Source Type;
                                                   OptionCaptionML=ENU=" ,Location,Vendor,Production,Assembly";
                                                   OptionString=[ ,Location,Vendor,Production,Assembly];
                                                   Editable=No }
    { 22  ;   ;Replenishment Source Code;Code20   ;TableRelation=IF (Replenishment Source Type=CONST(Location)) Location.Code
                                                                 ELSE IF (Replenishment Source Type=CONST(Vendor)) Vendor.No.
                                                                 ELSE IF (Replenishment Source Type=CONST(Production)) "Production Item Group".Code;
                                                   CaptionML=ENU=Replenishment Source Code;
                                                   Editable=No }
    { 23  ;   ;Inside Lead Time    ;Boolean       ;CaptionML=ENU=Inside Lead Time;
                                                   Editable=No }
    { 24  ;   ;Stockout Increments ;Integer       ;CaptionML=ENU=Stockout Increments;
                                                   Editable=No }
    { 25  ;   ;Item Class          ;Text30        ;CaptionML=ENU=Item Class }
    { 26  ;   ;Item Ranking        ;Code10        ;CaptionML=ENU=Item Ranking }
    { 27  ;   ;Periods With Sales  ;Integer       ;CaptionML=ENU=Periods With Sales }
    { 28  ;   ;Quantity On Purch. Order;Decimal   ;CaptionML=ENU=Quantity On Purch. Order }
    { 29  ;   ;Multiple Order Lines;Boolean       ;CaptionML=ENU=Multiple Order Lines }
    { 30  ;   ;Item Description    ;Text50        ;FieldClass=FlowField;
                                                   CalcFormula=Lookup(Item.Description WHERE (No.=FIELD(Item No.)));
                                                   CaptionML=ENU=Item Description;
                                                   Editable=No }
    { 31  ;   ;Unit Cost (LCY)     ;Decimal       ;OnValidate=VAR
                                                                IndirectCostPercent@1000 : Decimal;
                                                              BEGIN
                                                              END;

                                                   CaptionML=ENU=Unit Cost ($);
                                                   Editable=No;
                                                   AutoFormatType=2 }
    { 32  ;   ;Extended Cost (LCY) ;Decimal       ;CaptionML=ENU=Extended Cost ($);
                                                   Editable=No }
    { 33  ;   ;Expected Date       ;Date          ;CaptionML=ENU=Expected Date;
                                                   Editable=No }
    { 34  ;   ;Vendor Name         ;Text100       ;FieldClass=FlowField;
                                                   CalcFormula=Lookup(Vendor.Name WHERE (No.=FIELD(Vendor Code)));
                                                   CaptionML=ENU=Vendor Name;
                                                   Editable=No }
  }
  KEYS
  {
    {    ;Item No.,Location Code,Variant Code,Alert Type,Source No.,Line No.;
                                                   Clustered=Yes }
    {    ;Location Code,Item No.,Variant Code,Source No. }
    {    ;Alert Type,Snooze Date                   }
  }
  FIELDGROUPS
  {
  }
  CODE
  {
    VAR
      PurchLines@1240030000 : Record 39;

    PROCEDURE ShowDocument@1240030000();
    BEGIN
      CASE "Alert Type" OF
        "Alert Type"::"Late Purch. Order":
          BEGIN
            PurchLines.RESET;
            PurchLines.SETRANGE("Document Type",PurchLines."Document Type"::Order);
            PurchLines.SETRANGE("Document No.","Source No.");
            PurchLines.SETRANGE("Line No.","Line No.");
            PAGE.RUNMODAL(PAGE::"Open Purchase Lines",PurchLines);
          END;
        "Alert Type"::"Surp. With Open PO":
          BEGIN
            PurchLines.RESET;
            PurchLines.SETCURRENTKEY("Document Type",Type,"No.","Variant Code","Drop Shipment","Location Code");
            PurchLines.SETRANGE("Document Type",PurchLines."Document Type"::Order);
            PurchLines.SETRANGE(Type,PurchLines.Type::Item);
            PurchLines.SETRANGE("No.","Item No.");
            PurchLines.SETRANGE("Variant Code","Variant Code");
            PurchLines.SETRANGE("Location Code","Location Code");
            PAGE.RUNMODAL(PAGE::"Open Purchase Lines",PurchLines);
          END;
      END;
    END;

    BEGIN
    END.
  }
}

