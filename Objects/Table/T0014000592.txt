OBJECT Table 14000592 Suggested Transfer Header
{
  OBJECT-PROPERTIES
  {
    Date=03/01/20;
    Time=12:00:00 PM;
    Version List=UBP3.02;
  }
  PROPERTIES
  {
    OnInsert=BEGIN
               GetInvMgtSetup;
               InvMgtSetup.TESTFIELD("Suggested Transfer No. Series");
               IF "No." = '' THEN
                 NoSeriesMgt.InitSeries(
                   InvMgtSetup."Suggested Transfer No. Series",xRec."No. Series","Creation Date","No.","No. Series");
               IF "Creation Date" = 0D THEN
                 "Creation Date" := WORKDATE;
             END;

    OnDelete=VAR
               SurplusEntry@1240020000 : Record 14002668;
               SuggestedTransferLine@1240020002 : Record 14000593;
               SuggestedTransferCalcLine@1240020001 : Record 14000594;
             BEGIN
               SuggestedTransferLine.SETRANGE("Document Type","Document Type");
               SuggestedTransferLine.SETRANGE("Suggested Transfer No.","No.");
               SuggestedTransferLine.DELETEALL(TRUE);

               SurplusEntry.SETRANGE("Location Code", "Transfer-from Code");
               CASE "Document Type" OF
                "Document Type"::"Repl. Path":
                 BEGIN
                   SurplusEntry.SETRANGE("Source Type", SurplusEntry."Source Type"::"Sug. Inv. Repl.");
                 END;
                "Document Type"::"Inv. Balancing":
                  BEGIN
                    SurplusEntry.SETRANGE("Source Type", SurplusEntry."Source Type"::"Sug. Inv. Bal.");
                  END;
               END;
               SurplusEntry.SETRANGE("Source No.", "No.");
               SurplusEntry.DELETEALL(TRUE);

               SuggestedTransferCalcLine.RESET;
               SuggestedTransferCalcLine.SETRANGE("Document Type","Document Type");
               SuggestedTransferCalcLine.SETRANGE("Suggested Transfer No.","No.");
               SuggestedTransferCalcLine.DELETEALL(TRUE);
             END;

    CaptionML=ENU=Suggested Transfer Header;
    LookupPageID=Page14000548;
    DrillDownPageID=Page14000548;
  }
  FIELDS
  {
    { 1   ;   ;No.                 ;Code20        ;CaptionML=ENU=No. }
    { 2   ;   ;Document Type       ;Option        ;CaptionML=ENU=Document Type;
                                                   OptionCaptionML=ENU=Repl. Path,Inv. Balancing;
                                                   OptionString=Repl. Path,Inv. Balancing;
                                                   Editable=No }
    { 10  ;   ;Transfer-from Code  ;Code10        ;TableRelation=Location.Code WHERE (Use As In-Transit=CONST(No));
                                                   CaptionML=ENU=Transfer-from Code;
                                                   Editable=No }
    { 11  ;   ;Transfer-to Code    ;Code10        ;TableRelation=Location.Code WHERE (Use As In-Transit=CONST(No));
                                                   CaptionML=ENU=Transfer-to Code;
                                                   Editable=No }
    { 12  ;   ;In-Transit Code     ;Code10        ;TableRelation=Location.Code WHERE (Use As In-Transit=CONST(Yes));
                                                   CaptionML=ENU=In-Transit Code;
                                                   Editable=No }
    { 13  ;   ;Transfer-from Name  ;Text50        ;FieldClass=FlowField;
                                                   CalcFormula=Lookup(Location.Name WHERE (Code=FIELD(Transfer-from Code)));
                                                   CaptionML=ENU=Transfer-from Name;
                                                   Editable=No }
    { 14  ;   ;Transfer-to Name    ;Text50        ;FieldClass=FlowField;
                                                   CalcFormula=Lookup(Location.Name WHERE (Code=FIELD(Transfer-to Code)));
                                                   CaptionML=ENU=Transfer-to Name;
                                                   Editable=No }
    { 15  ;   ;In-Transit Name     ;Text50        ;FieldClass=FlowField;
                                                   CalcFormula=Lookup(Location.Name WHERE (Code=FIELD(In-Transit Code)));
                                                   CaptionML=ENU=In-Transit Name;
                                                   Editable=No }
    { 16  ;   ;Creation Date       ;Date          ;CaptionML=ENU=Creation Date;
                                                   Editable=No }
    { 17  ;   ;Transfer Date       ;Date          ;CaptionML=ENU=Transfer Date }
    { 18  ;   ;Shipping Advice     ;Option        ;CaptionML=ENU=Shipping Advice;
                                                   OptionCaptionML=ENU=Partial,Complete;
                                                   OptionString=Partial,Complete }
    { 19  ;   ;No. Series          ;Code10        ;CaptionML=ENU=No. Series }
    { 20  ;   ;Net Weight          ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Suggested Transfer Line"."Net Weight" WHERE (Suggested Transfer No.=FIELD(No.)));
                                                   CaptionML=ENU=Net Weight;
                                                   Editable=No }
    { 21  ;   ;Gross Weight        ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Suggested Transfer Line"."Gross Weight" WHERE (Suggested Transfer No.=FIELD(No.)));
                                                   CaptionML=ENU=Gross Weight;
                                                   Editable=No }
    { 22  ;   ;Volume              ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Suggested Transfer Line".Volume WHERE (Suggested Transfer No.=FIELD(No.)));
                                                   CaptionML=ENU=Volume;
                                                   Editable=No }
    { 23  ;   ;Transfer To Priority;Integer       ;CaptionML=ENU=Transfer To Priority;
                                                   Editable=No }
    { 24  ;   ;Transfer From Priority;Integer     ;CaptionML=ENU=Transfer From Priority }
    { 25  ;   ;Transfer Cost       ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Suggested Transfer Line"."Line Amount" WHERE (Suggested Transfer No.=FIELD(No.)));
                                                   CaptionML=ENU=Transfer Cost;
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 26  ;   ;Piece Count         ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Suggested Transfer Line"."Transfer Quantity" WHERE (Suggested Transfer No.=FIELD(No.)));
                                                   CaptionML=ENU=Piece Count per UOM;
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 27  ;   ;Line Count          ;Integer       ;FieldClass=FlowField;
                                                   CalcFormula=Count("Suggested Transfer Line" WHERE (Suggested Transfer No.=FIELD(No.)));
                                                   CaptionML=ENU=Line Count;
                                                   Editable=No;
                                                   AutoFormatType=1 }
  }
  KEYS
  {
    {    ;Document Type,No.                       ;Clustered=Yes }
    {    ;Transfer-from Code                       }
    {    ;Transfer-to Code                         }
    {    ;In-Transit Code                          }
  }
  FIELDGROUPS
  {
  }
  CODE
  {
    VAR
      InvMgtSetup@1240030001 : Record 14000551;
      NoSeriesMgt@1240030003 : Codeunit 396;
      HasInvMgtSetup@1240030002 : Boolean;

    PROCEDURE GetInvMgtSetup@1240030000();
    BEGIN
      IF NOT HasInvMgtSetup THEN BEGIN
        InvMgtSetup.GET;
        HasInvMgtSetup := TRUE;
      END;
    END;

    BEGIN
    END.
  }
}

