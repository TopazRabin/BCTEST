OBJECT Report 50090 Bin Content Unblock-Reblock
{
  OBJECT-PROPERTIES
  {
    Date=09/29/20;
    Time=10:31:53 AM;
    Modified=Yes;
    Version List=TOP190,TPZHOTFIX;
  }
  PROPERTIES
  {
    ProcessingOnly=Yes;
  }
  DATASET
  {
    { 1000000000;;DataItem;                  ;
               DataItemTable=Table7302;
               OnPreDataItem=BEGIN
                               IF UnblockReblock = UnblockReblock::Unblock THEN
                                 BinContentBlocked.DELETEALL;
                             END;

               OnAfterGetRecord=BEGIN
                                  IF UnblockReblock = UnblockReblock::Unblock THEN BEGIN
                                    IF "Block Movement" <> "Block Movement"::" " THEN BEGIN
                                      BinContentBlocked.INIT;
                                      BinContentBlocked."Source Template Name" := "Location Code";
                                      //BinContentBlocked."Source Line No." := "Bin Code";
                                      //BinContentBlocked."Line No." := "Item No.";
                                      BinContentBlocked."Variant Code" := "Variant Code";
                                      BinContentBlocked."Unit of Measure Code" := "Unit of Measure Code";
                                      BinContentBlocked."To Source Subtype" := "Block Movement";
                                      IF NOT BinContentBlocked.INSERT THEN BinContentBlocked.MODIFY;
                                      "Block Movement" := "Block Movement"::" ";
                                      MODIFY;
                                    END;
                                  END ELSE BEGIN
                                    IF BinContentBlocked.GET(
                                         "Location Code",
                                         "Bin Code",
                                         "Item No.",
                                         "Variant Code",
                                         "Unit of Measure Code")
                                    THEN BEGIN
                                      "Block Movement" := BinContentBlocked."To Source Subtype";
                                      MODIFY;
                                      BinContentBlocked.DELETE;
                                    END;
                                  END;
                                END;
                                 }

  }
  REQUESTPAGE
  {
    PROPERTIES
    {
    }
    CONTROLS
    {
      { 1000000000;;Container;
                  Name=Options;
                  ContainerType=ContentArea }

      { 1000000002;1;Field  ;
                  Name=Item Unblock/Reblock;
                  SourceExpr=UnblockReblock }

    }
  }
  LABELS
  {
  }
  CODE
  {
    VAR
      UnblockReblock@1000000000 : 'Unblock,Reblock';
      BinContentBlocked@1000000001 : Record 50024;

    BEGIN
    END.
  }
  RDLDATA
  {
  }
}

