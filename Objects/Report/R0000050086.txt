OBJECT Report 50086 Fix EDI Invoice Only for Xref
{
  OBJECT-PROPERTIES
  {
    Date=07/01/20;
    Time=12:00:00 AM;
    Modified=Yes;
    Version List=TPZ000.00.00;
  }
  PROPERTIES
  {
    ProcessingOnly=Yes;
  }
  DATASET
  {
    { 1000000000;;DataItem;                  ;
               DataItemTable=Table112;
               DataItemTableView=SORTING(No.);
               OnPreDataItem=BEGIN
                               //SETFILTER("Posting Date",'%1..%2',061317D,061417D);
                             END;

               OnAfterGetRecord=BEGIN
                                  CustomerRec.GET("Sell-to Customer No.");
                                  "EDI Trade Partner" := CustomerRec."EDI Trade Partner";

                                  EDICustXRefRec.RESET;
                                  EDICustXRefRec.SETCURRENTKEY("Trade Partner No.","Navision Sell To Code","Navision Ship To Code","Effective Date");
                                  EDICustXRefRec.SETRANGE("Trade Partner No.", CustomerRec."EDI Trade Partner");
                                  EDICustXRefRec.SETRANGE("Navision Sell To Code",CustomerRec."No.");
                                  EDICustXRefRec.SETRANGE("Navision Ship To Code","Sales Invoice Header"."Ship-to Code");

                                  IF NOT EDICustXRefRec.FINDFIRST THEN
                                    CurrReport.SKIP
                                  ELSE BEGIN
                                    "EDI Sell-to Code"  := EDICustXRefRec."EDI Sell To Code";
                                    "EDI Ship-to Code"  := EDICustXRefRec."EDI Ship To Code";
                                  END;

                                  MODIFY;
                                END;

               ReqFilterFields=No.,Posting Date }

  }
  REQUESTPAGE
  {
    PROPERTIES
    {
    }
    CONTROLS
    {
      { 1000000000;;Container;
                  Name=Options;
                  ContainerType=ContentArea }

      { 1000000001;1;Field  ;
                  CaptionML=ENU=Execute 1st Step;
                  SourceExpr=FirstStep }

    }
  }
  LABELS
  {
  }
  CODE
  {
    VAR
      EDICustXRefRec@1000000000 : Record 14002362;
      CustomerRec@1000000001 : Record 18;
      FirstStep@1000000002 : Boolean;

    BEGIN
    END.
  }
  RDLDATA
  {
  }
}

