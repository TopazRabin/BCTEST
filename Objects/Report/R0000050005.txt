OBJECT Report 50005 VendorUnblock-Reblock
{
  OBJECT-PROPERTIES
  {
    Date=07/01/20;
    Time=12:00:00 AM;
    Modified=Yes;
    Version List=TOP190;
  }
  PROPERTIES
  {
    ProcessingOnly=Yes;
  }
  DATASET
  {
    { 1000000000;;DataItem;                  ;
               DataItemTable=Table23;
               DataItemTableView=WHERE(Blocked=FILTER(>' '));
               OnPreDataItem=BEGIN
                               IF UnblockReblock = UnblockReblock::Unblock THEN
                                 VendorBlocked.DELETEALL;
                             END;

               OnAfterGetRecord=BEGIN
                                  IF UnblockReblock = UnblockReblock::Unblock THEN BEGIN
                                    IF Blocked <> Blocked::" " THEN BEGIN
                                      VendorBlocked.INIT;
                                      VendorBlocked."Order No." := "No.";
                                  //SC 10252017 No Field Blocked    VendorBlocked.Blocked := Blocked;
                                      IF NOT VendorBlocked.INSERT THEN VendorBlocked.MODIFY;
                                      Blocked := Blocked::" ";
                                      MODIFY;
                                    END;
                                  END ELSE BEGIN
                                    IF VendorBlocked.GET("No.") THEN BEGIN
                                  //SC 10252017 No field BLOCKED    Blocked := VendorBlocked.Blocked;
                                      MODIFY;
                                      VendorBlocked.DELETE;
                                    END;
                                  END;
                                END;

               OnPostDataItem=BEGIN
                                //Vendor2.SETFILTER(Blocked,'>0');
                                //Vendor2.MODIFYALL(Blocked,0);
                              END;
                               }

  }
  REQUESTPAGE
  {
    PROPERTIES
    {
    }
    CONTROLS
    {
      { 1000000000;;Container;
                  Name=Options;
                  ContainerType=ContentArea }

      { 1000000001;1;Field  ;
                  Name=Vendor Unblock/Reblock;
                  SourceExpr=UnblockReblock }

    }
  }
  LABELS
  {
  }
  CODE
  {
    VAR
      VendorBlocked@1000000000 : Record 50020;
      Vendor2@1000000001 : Record 23;
      UnblockReblock@1000000002 : 'Unblock,Reblock';

    BEGIN
    {
      SC 10252017 No Field Blocked code blocked
    }
    END.
  }
  RDLDATA
  {
  }
}

