OBJECT Page 14000696 Posted Manifest
{
  OBJECT-PROPERTIES
  {
    Date=02/25/19;
    Time=12:00:00 PM;
    Version List=SE0.61;
  }
  PROPERTIES
  {
    CaptionML=ENU=Posted Manifest;
    InsertAllowed=No;
    SourceTable=Table14000712;
    SourceTableView=WHERE(Posted=CONST(Yes));
    PageType=Card;
    ActionList=ACTIONS
    {
      { 1900000003;0 ;ActionContainer;
                      ActionContainerType=RelatedInformation }
      { 34      ;1   ;ActionGroup;
                      CaptionML=ENU=&Manifest }
      { 13      ;2   ;Action    ;
                      ShortCutKey=Ctrl+F7;
                      CaptionML=ENU=Posted P&ackages;
                      RunObject=Page 14000714;
                      RunPageView=SORTING(Manifest No.);
                      RunPageLink=Manifest No.=FIELD(No.);
                      Promoted=Yes;
                      Image=ItemTracing;
                      PromotedCategory=Process }
      { 35      ;2   ;Action    ;
                      CaptionML=ENU=Manifest Lines (Packages);
                      RunObject=Page 14000695;
                      RunPageView=WHERE(Type=FILTER(<Summary));
                      RunPageLink=Manifest No.=FIELD(No.) }
      { 40      ;2   ;Action    ;
                      CaptionML=ENU=Label Files;
                      RunObject=Page 14000710;
                      RunPageLink=Type=FILTER(Manifest|3),
                                  No.=FIELD(No.) }
      { 1900000004;0 ;ActionContainer;
                      ActionContainerType=ActionItems }
      { 26      ;1   ;ActionGroup;
                      CaptionML=ENU=F&unctions }
      { 28      ;2   ;Action    ;
                      CaptionML=ENU=Re&open Manifest;
                      OnAction=BEGIN
                                 TESTFIELD("No.");
                                 TESTFIELD(Posted,TRUE);

                                 IF NOT CONFIRM(Text001,FALSE) THEN
                                   EXIT;

                                 Shipping.OpenManifest(Rec);

                                 CurrPage.UPDATE(FALSE);
                               END;
                                }
      { 50      ;2   ;Action    ;
                      CaptionML=ENU=&Repost Manifest;
                      OnAction=BEGIN
                                 Shipping.CloseManifestCarriers(Rec);
                               END;
                                }
      { 52      ;1   ;ActionGroup;
                      CaptionML=ENU=&Print }
      { 60      ;2   ;Action    ;
                      Ellipsis=Yes;
                      CaptionML=ENU=Manifest;
                      OnAction=BEGIN
                                 TESTFIELD("No.");

                                 ManifestHeader.RESET;
                                 ManifestHeader := Rec;
                                 ManifestHeader.SETRECFILTER;

                                 CLEAR(ManifestReport);
                                 ManifestReport.SETTABLEVIEW(ManifestHeader);
                                 ManifestReport.RUN;
                               END;
                                }
      { 61      ;2   ;Action    ;
                      Ellipsis=Yes;
                      CaptionML=ENU=UPS Manifest;
                      OnAction=BEGIN
                                 GetShippingSetup;
                                 IF ShippingSetup."UPS Version" = ShippingSetup."UPS Version"::HMU THEN BEGIN
                                   UPSShippingAgentAccount.FIND('-');
                                   UPSShippingAgentAccount.TESTFIELD("Manifest Report ID");

                                   ManifestHeader.RESET;
                                   ManifestHeader := Rec;
                                   ManifestHeader.SETRECFILTER;
                                   REPORT.RUN(UPSShippingAgentAccount."Manifest Report ID",TRUE,TRUE,ManifestHeader);
                                 END ELSE BEGIN
                                   UPSlinkShippingAgentAccount.FIND('-');
                                   UPSlinkShippingAgentAccount.TESTFIELD("Manifest Report ID");

                                   UPSlinkManifest.RESET;
                                   UPSlinkManifest.SETRANGE("Manifest No.", Rec."No.");
                                   UPSlinkManifest.FIND('+');
                                   REPORT.RUN(UPSlinkShippingAgentAccount."Manifest Report ID",TRUE,TRUE,UPSlinkManifest);
                                 END;
                               END;
                                }
    }
  }
  CONTROLS
  {
    { 1900000001;0;Container;
                ContainerType=ContentArea }

    { 1   ;1   ;Group     ;
                CaptionML=ENU=General }

    { 2   ;2   ;Field     ;
                SourceExpr="No.";
                Editable=FALSE }

    { 4   ;2   ;Field     ;
                SourceExpr=Description;
                Editable=FALSE }

    { 6   ;2   ;Field     ;
                SourceExpr="Shipping Agent Code";
                Importance=Promoted;
                Editable=FALSE }

    { 8   ;2   ;Field     ;
                SourceExpr="Shipping Agent Account";
                Importance=Promoted;
                Editable=FALSE }

    { 32  ;2   ;Field     ;
                SourceExpr="Packing Station";
                Editable=FALSE }

    { 10  ;2   ;Field     ;
                SourceExpr="Pickup Date";
                Editable=FALSE }

    { 30  ;2   ;Field     ;
                SourceExpr="Packages Shipped";
                Editable=FALSE }

    { 27  ;2   ;Field     ;
                SourceExpr="Location Code";
                Importance=Promoted }

    { 25  ;1   ;Part      ;
                SubPageLink=Manifest No.=FIELD(No.);
                PagePartID=Page14000697;
                Editable=FALSE }

    { 1900044101;1;Group  ;
                CaptionML=ENU=Values }

    { 15  ;2   ;Field     ;
                SourceExpr=Weight }

    { 17  ;2   ;Field     ;
                SourceExpr=Volume }

    { 19  ;2   ;Field     ;
                SourceExpr=Value }

    { 21  ;2   ;Field     ;
                SourceExpr="Shipping Cost" }

    { 23  ;2   ;Field     ;
                SourceExpr="Shipping Charge" }

    { 1907848001;1;Group  ;
                CaptionML=ENU=Carriers }

    { 41  ;2   ;Field     ;
                SourceExpr="UPS Processing Required" }

    { 43  ;2   ;Field     ;
                SourceExpr="FedEx Processing Required" }

    { 45  ;2   ;Field     ;
                SourceExpr="LTL Processing Required" }

    { 47  ;2   ;Field     ;
                SourceExpr="Generic Processing Required" }

    { 1013;2   ;Field     ;
                ToolTipML=ENU=This field is obsolete.;
                SourceExpr="Airborne Processing Required" }

  }
  CODE
  {
    VAR
      ManifestHeader@1000000000 : Record 14000712;
      UPSShippingAgentAccount@1000000001 : Record 14000770;
      UPSlinkShippingAgentAccount@1240030003 : Record 14050005;
      ShippingSetup@1240030002 : Record 14000707;
      UPSlinkManifest@1240020000 : Record 14050007;
      ManifestReport@1000000002 : Report 14000706;
      Shipping@1000000003 : Codeunit 14000701;
      Text001@1001 : TextConst 'ENU=Do you want to Reopen the Manifest?';
      ShippingSetupRetrieved@1240030004 : Boolean;
      ManifestLine@1240030005 : Record 14000713;

    LOCAL PROCEDURE GetShippingSetup@50();
    BEGIN
      IF NOT ShippingSetupRetrieved THEN BEGIN
        ShippingSetup.GET;
        ShippingSetupRetrieved := TRUE;
      END;
    END;

    BEGIN
    END.
  }
}

