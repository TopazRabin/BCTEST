OBJECT Page 11123310 SC - Sales Document Fields
{
  OBJECT-PROPERTIES
  {
    Date=04/18/17;
    Time=[ 1:00:00 PM];
    Version List=SCW19.2.0;
  }
  PROPERTIES
  {
    CaptionML=ENU=Sales Document Fields;
    InsertAllowed=No;
    DeleteAllowed=No;
    LinksAllowed=No;
    SourceTable=Table11123323;
    DataCaptionExpr='Sana Commerce';
    PageType=Card;
    OnInit=BEGIN
             PromotionDiscountValueEditable := TRUE;
             PromotionDiscountTypeEditable := TRUE;
             "Promotion TitleEditable" := TRUE;
             "Promotion CodeEditable" := TRUE;
             "Promotable QuoteVisible" := TRUE;
           END;

    OnAfterGetRecord=BEGIN
                       ActivateControls;
                     END;

  }
  CONTROLS
  {
    { 11123323;0;Container;
                ContainerType=ContentArea }

    { 11123322;1;Group    ;
                CaptionML=ENU=General }

    { 11123321;2;Field    ;
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Webshop ID" }

    { 11123320;2;Field    ;
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Date Received" }

    { 11123319;2;Field    ;
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Time Received" }

    { 11123318;2;Field    ;
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Sana Order No." }

    { 11123317;2;Field    ;
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Sana Customer No." }

    { 11123316;2;Field    ;
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Shop Account E-Mail" }

    { 11123315;2;Field    ;
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Shipment Method Name" }

    { 11123314;2;Field    ;
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Authorization Status" }

    { 11123313;1;Group    ;
                CaptionML=ENU=Payment }

    { 11123312;2;Field    ;
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Payment Method Name" }

    { 11123311;2;Field    ;
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Payment Method Status" }

    { 11123310;2;Field    ;
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Payment Transaction Id" }

    { 11123309;1;Group    ;
                CaptionML=ENU=Promotion/Coupon }

    { 11123308;2;Field    ;
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Promotion Type" }

    { 11123307;2;Field    ;
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Promotion Code";
                Editable="Promotion CodeEditable" }

    { 11123306;2;Field    ;
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Promotion Title";
                Editable="Promotion TitleEditable" }

    { 11123305;2;Field    ;
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Promotion Discount Type";
                Editable=PromotionDiscountTypeEditable }

    { 11123304;2;Field    ;
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Promotion Discount Value";
                Editable=PromotionDiscountValueEditable }

    { 11123303;2;Field    ;
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Promotion Discount Amount" }

    { 11123302;2;Field    ;
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Quote Promotable";
                Visible="Promotable QuoteVisible";
                Enabled="Promotable QuoteVisible";
                Editable="Promotable QuoteVisible" }

  }
  CODE
  {
    VAR
      "Promotable QuoteVisible"@19022114 : Boolean INDATASET;
      "Promotion CodeEditable"@19073341 : Boolean INDATASET;
      "Promotion TitleEditable"@19062009 : Boolean INDATASET;
      PromotionDiscountTypeEditable@19009296 : Boolean INDATASET;
      PromotionDiscountValueEditable@19048849 : Boolean INDATASET;

    LOCAL PROCEDURE ActivateControls@11123302();
    VAR
      EditAllowed@11123302 : Boolean;
    BEGIN
      EditAllowed := "Promotion Type" = "Promotion Type"::Promotion;

      "Promotion CodeEditable" := EditAllowed;
      "Promotion TitleEditable" := EditAllowed;
      PromotionDiscountTypeEditable := EditAllowed;
      PromotionDiscountValueEditable := EditAllowed;

      IF "Document Type" = "Document Type"::Order THEN
        "Promotable QuoteVisible" := FALSE;
    END;

    BEGIN
    END.
  }
}

