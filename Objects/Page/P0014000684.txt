OBJECT Page 14000684 Select Packages
{
  OBJECT-PROPERTIES
  {
    Date=10/22/20;
    Time=[ 4:57:39 AM];
    Version List=SE0.54.10;
  }
  PROPERTIES
  {
    Editable=No;
    CaptionML=ENU=Select Packages;
    SourceTable=Table14000701;
    PageType=List;
    OnOpenPage=BEGIN
                 IF (PackingControl."Source Type" = 0) OR (PackingControl."Source ID" = '') THEN
                   ERROR(Text001);

                 PackagesAdded := 0;
                 ;ESACC_EasySecurity(TRUE);
               END;

    OnAfterGetRecord=BEGIN
                       PackageLine.RESET;
                       PackageLine.SETRANGE("Package No.","No.");
                       IF NOT PackageLine.FIND('-') THEN
                         CLEAR(PackageLine);
                     END;

    ActionList=ACTIONS
    {
      { 1900000003;0 ;ActionContainer;
                      ActionContainerType=RelatedInformation }
      { 30      ;1   ;ActionGroup;
                      CaptionML=ENU=&Line }
      { 31      ;2   ;Action    ;
                      ShortCutKey=Shift+F7;
                      CaptionML=ENU=Card;
                      RunObject=Page 14000701;
                      RunPageLink=No.=FIELD(No.);
                      Visible=ESACC_C31_Visible;
                      Enabled=ESACC_C31_Enabled;
                      Image=EditLines }
      { 32      ;2   ;Action    ;
                      ShortCutKey=Ctrl+F7;
                      CaptionML=ENU=Shipping Agent Options;
                      Visible=ESACC_C32_Visible;
                      Enabled=ESACC_C32_Enabled;
                      OnAction=BEGIN
                                 Shipping.ShowPackageOptions(Rec);
                               END;
                                }
      { 33      ;2   ;Action    ;
                      CaptionML=ENU=Labels;
                      RunObject=Page 14000710;
                      RunPageLink=Type=CONST(Package),
                                  No.=FIELD(No.);
                      Visible=ESACC_C33_Visible;
                      Enabled=ESACC_C33_Enabled }
      { 34      ;2   ;Action    ;
                      CaptionML=ENU=Multi Document Package;
                      RunObject=Page 14000711;
                      RunPageLink=No.=FIELD(Original Package No.);
                      Visible=ESACC_C34_Visible;
                      Enabled=ESACC_C34_Enabled }
      { 1900000004;0 ;ActionContainer;
                      ActionContainerType=ActionItems }
      { 27      ;1   ;ActionGroup;
                      CaptionML=ENU=F&unctions }
      { 28      ;2   ;Action    ;
                      ShortCutKey=F7;
                      CaptionML=ENU=A&dd to Package;
                      Promoted=Yes;
                      Visible=ESACC_C28_Visible;
                      Enabled=ESACC_C28_Enabled;
                      Image=AddAction;
                      PromotedCategory=Process;
                      OnAction=BEGIN
                                 IF (PackingControl."Source Type" = 0) OR (PackingControl."Source ID" = '') THEN
                                   ERROR(Text002);

                                 CurrPage.SETSELECTIONFILTER(Package2);
                                 IF Package2.FIND('-') THEN
                                   REPEAT
                                     Package2.TESTFIELD("External Tracking No.",'');

                                     Package2.CALCFIELDS("Exist in Other Package","Original Exist in Other Pack.");
                                     IF NOT Package2."Exist in Other Package" AND
                                        ((Package2."Original Package No." = '') OR NOT Package2."Original Exist in Other Pack.")
                                     THEN BEGIN
                                       PackagesAdded := PackagesAdded + 1;

                                       PackageMgt.Initialize(PackingStation,ShippingSetup);
                                       IF Package2."Original Package No." <> '' THEN
                                         PackageMgt.AddPackageToPackage(Package,PackingControl,Package2."Original Package No.")
                                       ELSE
                                         PackageMgt.AddPackageToPackage(Package,PackingControl,Package2."No.");
                                     END;
                                   UNTIL Package2.NEXT = 0;

                                 CurrPage.UPDATE(FALSE);
                               END;
                                }
      { 38      ;2   ;Action    ;
                      CaptionML=ENU=View P&ackage;
                      Visible=ESACC_C38_Visible;
                      Enabled=ESACC_C38_Enabled;
                      OnAction=BEGIN
                                 ShowPackage;
                               END;
                                }
    }
  }
  CONTROLS
  {
    { 1900000001;0;Container;
                ContainerType=ContentArea }

    { 41  ;1   ;Field     ;
                CaptionML=ENU=Packages Added;
                SourceExpr=PackagesAdded;
                OnLookup=BEGIN
                           ShowPackage;
                         END;
                          }

    { 1   ;1   ;Group     ;
                GroupType=Repeater }

    { 2   ;2   ;Field     ;
                SourceExpr="No.";
                Visible=ESACC_F1_Visible;
                Editable=ESACC_F1_Editable;
                HideValue=ESACC_F1_HideValue }

    { 29  ;2   ;Field     ;
                CaptionML=ENU=Package Line Type;
                SourceExpr=PackageLine.Type }

    { 36  ;2   ;Field     ;
                CaptionML=ENU=Package Line No.;
                SourceExpr=PackageLine."No." }

    { 39  ;2   ;Field     ;
                CaptionML=ENU=Package Line Description;
                SourceExpr=PackageLine.Description }

    { 6   ;2   ;Field     ;
                SourceExpr=Description;
                Visible=FALSE;
                Editable=ESACC_F11_Editable;
                HideValue=ESACC_F11_HideValue }

    { 18  ;2   ;Field     ;
                SourceExpr="External Tracking No.";
                Visible=FALSE;
                Editable=ESACC_F65_Editable;
                HideValue=ESACC_F65_HideValue }

    { 8   ;2   ;Field     ;
                SourceExpr="Shipping Agent Code";
                Visible=ESACC_F61_Visible;
                Editable=ESACC_F61_Editable;
                HideValue=ESACC_F61_HideValue }

    { 10  ;2   ;Field     ;
                SourceExpr="Shipping Agent Service";
                Visible=ESACC_F63_Visible;
                Enabled=ESACC_F63_Editable;
                Editable=ESACC_F63_Editable;
                HideValue=ESACC_F63_HideValue }

    { 12  ;2   ;Field     ;
                SourceExpr="Calculation Weight";
                Visible=ESACC_F26_Visible;
                Editable=ESACC_F26_Editable;
                HideValue=ESACC_F26_HideValue }

    { 14  ;2   ;Field     ;
                SourceExpr="Shipping Charge";
                Visible=ESACC_F71_Visible;
                Editable=ESACC_F71_Editable;
                HideValue=ESACC_F71_HideValue }

    { 4   ;2   ;Field     ;
                SourceExpr="Packing Date";
                Visible=ESACC_F17_Visible;
                Editable=ESACC_F17_Editable;
                HideValue=ESACC_F17_HideValue }

    { 16  ;2   ;Field     ;
                SourceExpr=Closed;
                Visible=FALSE;
                Editable=ESACC_F12_Editable;
                HideValue=ESACC_F12_HideValue }

    { 20  ;2   ;Field     ;
                SourceExpr="Exist in Other Package";
                Visible=ESACC_F19_Visible;
                HideValue=ESACC_F19_HideValue }

    { 22  ;2   ;Field     ;
                SourceExpr="Original Exist in Other Pack.";
                Visible=ESACC_F14000730_Visible;
                HideValue=ESACC_F14000730_HideValue }

  }
  CODE
  {
    VAR
      ESACC_ESFLADSMgt@14123801 : Codeunit 14123801;
      ESACC_C28_Visible@905000280 : Boolean INDATASET;
      ESACC_C28_Enabled@905000283 : Boolean INDATASET;
      ESACC_C31_Visible@905000310 : Boolean INDATASET;
      ESACC_C31_Enabled@905000313 : Boolean INDATASET;
      ESACC_C32_Visible@905000320 : Boolean INDATASET;
      ESACC_C32_Enabled@905000323 : Boolean INDATASET;
      ESACC_C33_Visible@905000330 : Boolean INDATASET;
      ESACC_C33_Enabled@905000333 : Boolean INDATASET;
      ESACC_C34_Visible@905000340 : Boolean INDATASET;
      ESACC_C34_Enabled@905000343 : Boolean INDATASET;
      ESACC_C38_Visible@905000380 : Boolean INDATASET;
      ESACC_C38_Enabled@905000383 : Boolean INDATASET;
      ESACC_F1_Visible@900000010 : Boolean INDATASET;
      ESACC_F1_Editable@900000011 : Boolean INDATASET;
      ESACC_F1_HideValue@900000012 : Boolean INDATASET;
      ESACC_F11_Visible@900000110 : Boolean INDATASET;
      ESACC_F11_Editable@900000111 : Boolean INDATASET;
      ESACC_F11_HideValue@900000112 : Boolean INDATASET;
      ESACC_F12_Visible@900000120 : Boolean INDATASET;
      ESACC_F12_Editable@900000121 : Boolean INDATASET;
      ESACC_F12_HideValue@900000122 : Boolean INDATASET;
      ESACC_F17_Visible@900000170 : Boolean INDATASET;
      ESACC_F17_Editable@900000171 : Boolean INDATASET;
      ESACC_F17_HideValue@900000172 : Boolean INDATASET;
      ESACC_F19_Visible@900000190 : Boolean INDATASET;
      ESACC_F19_HideValue@900000192 : Boolean INDATASET;
      ESACC_F26_Visible@900000260 : Boolean INDATASET;
      ESACC_F26_Editable@900000261 : Boolean INDATASET;
      ESACC_F26_HideValue@900000262 : Boolean INDATASET;
      ESACC_F61_Visible@900000610 : Boolean INDATASET;
      ESACC_F61_Editable@900000611 : Boolean INDATASET;
      ESACC_F61_HideValue@900000612 : Boolean INDATASET;
      ESACC_F63_Visible@900000630 : Boolean INDATASET;
      ESACC_F63_Editable@900000631 : Boolean INDATASET;
      ESACC_F63_HideValue@900000632 : Boolean INDATASET;
      ESACC_F65_Visible@900000650 : Boolean INDATASET;
      ESACC_F65_Editable@900000651 : Boolean INDATASET;
      ESACC_F65_HideValue@900000652 : Boolean INDATASET;
      ESACC_F71_Visible@900000710 : Boolean INDATASET;
      ESACC_F71_Editable@900000711 : Boolean INDATASET;
      ESACC_F71_HideValue@900000712 : Boolean INDATASET;
      ESACC_F14000730_Visible@950007300 : Boolean INDATASET;
      ESACC_F14000730_HideValue@950007302 : Boolean INDATASET;
      Package@1000000001 : Record 14000701;
      Package2@1000000002 : Record 14000701;
      ShippingSetup@1000000003 : Record 14000707;
      PackageLine@1000000004 : Record 14000702;
      PackingControl@1000000005 : Record 14000717;
      PackingStation@1240030000 : Record 14000709;
      Shipping@1000000006 : Codeunit 14000701;
      PackageMgt@1000000007 : Codeunit 14000702;
      PackagesAdded@1000000014 : Integer;
      Text001@1001 : TextConst 'ENU=Packing Header has not been initialized.';
      Text002@1002 : TextConst 'ENU=Not Initialized correctly.';
      Text003@1003 : TextConst 'ENU=No package has been created.';

    LOCAL PROCEDURE ESACC_EasySecurity@14123801(OpenObject@14123801 : Boolean);
    VAR
      SetFilters@14123802 : Codeunit 14123812;
      TempBoolean@14123803 : Boolean;
    BEGIN
      IF OpenObject THEN BEGIN
        SetFilters.Filter14000701(Rec,8,14000684);

        TempBoolean := CurrPage.EDITABLE;
        IF ESACC_ESFLADSMgt.PageGeneral(14000701,14000684,TempBoolean) THEN
          CurrPage.EDITABLE := TempBoolean;
      END;

      ESACC_ESFLADSMgt.PageControl(
        14000701,14000684,1,28,
        ESACC_C28_Visible,ESACC_C28_Enabled,TempBoolean);

      ESACC_ESFLADSMgt.PageControl(
        14000701,14000684,1,31,
        ESACC_C31_Visible,ESACC_C31_Enabled,TempBoolean);

      ESACC_ESFLADSMgt.PageControl(
        14000701,14000684,1,32,
        ESACC_C32_Visible,ESACC_C32_Enabled,TempBoolean);

      ESACC_ESFLADSMgt.PageControl(
        14000701,14000684,1,33,
        ESACC_C33_Visible,ESACC_C33_Enabled,TempBoolean);

      ESACC_ESFLADSMgt.PageControl(
        14000701,14000684,1,34,
        ESACC_C34_Visible,ESACC_C34_Enabled,TempBoolean);

      ESACC_ESFLADSMgt.PageControl(
        14000701,14000684,1,38,
        ESACC_C38_Visible,ESACC_C38_Enabled,TempBoolean);

      ESACC_ESFLADSMgt.PageControl(
        14000701,14000684,0,1,
        ESACC_F1_Visible,ESACC_F1_Editable,ESACC_F1_HideValue);

      ESACC_ESFLADSMgt.PageControl(
        14000701,14000684,0,11,
        ESACC_F11_Visible,ESACC_F11_Editable,ESACC_F11_HideValue);

      ESACC_ESFLADSMgt.PageControl(
        14000701,14000684,0,12,
        ESACC_F12_Visible,ESACC_F12_Editable,ESACC_F12_HideValue);

      ESACC_ESFLADSMgt.PageControl(
        14000701,14000684,0,17,
        ESACC_F17_Visible,ESACC_F17_Editable,ESACC_F17_HideValue);

      ESACC_ESFLADSMgt.PageControl(
        14000701,14000684,0,19,
        ESACC_F19_Visible,TempBoolean,ESACC_F19_HideValue);

      ESACC_ESFLADSMgt.PageControl(
        14000701,14000684,0,26,
        ESACC_F26_Visible,ESACC_F26_Editable,ESACC_F26_HideValue);

      ESACC_ESFLADSMgt.PageControl(
        14000701,14000684,0,61,
        ESACC_F61_Visible,ESACC_F61_Editable,ESACC_F61_HideValue);

      ESACC_ESFLADSMgt.PageControl(
        14000701,14000684,0,63,
        ESACC_F63_Visible,ESACC_F63_Editable,ESACC_F63_HideValue);

      ESACC_ESFLADSMgt.PageControl(
        14000701,14000684,0,65,
        ESACC_F65_Visible,ESACC_F65_Editable,ESACC_F65_HideValue);

      ESACC_ESFLADSMgt.PageControl(
        14000701,14000684,0,71,
        ESACC_F71_Visible,ESACC_F71_Editable,ESACC_F71_HideValue);

      ESACC_ESFLADSMgt.PageControl(
        14000701,14000684,0,14000730,
        ESACC_F14000730_Visible,TempBoolean,ESACC_F14000730_HideValue);

      ESACC_EasySecurityManual(OpenObject);
    END;

    LOCAL PROCEDURE ESACC_EasySecurityManual@14123811(OpenObject@14123811 : Boolean);
    BEGIN
    END;

    PROCEDURE SetPackageInfo@1(NewPackage@1240030000 : Record 14000701;NewPackingStation@1240030001 : Record 14000709;NewShippingSetup@1240030002 : Record 14000707;VAR NewPackingControl@1240030003 : Record 14000717);
    BEGIN
      PackingControl := NewPackingControl;
      Package := NewPackage;
      ShippingSetup := NewShippingSetup;
      PackingControl := NewPackingControl;
      PackingStation := NewPackingStation;
    END;

    PROCEDURE GetPackageInfo@6(VAR NewPackage@1000000000 : Record 14000701;VAR NewPackingControl@1000000001 : Record 14000717);
    BEGIN
      NewPackage := Package;
      NewPackingControl := PackingControl;
    END;

    LOCAL PROCEDURE ShowPackage@2();
    BEGIN
      IF NOT PackingControl."Package Open" THEN
        ERROR(Text003);

      PAGE.RUNMODAL(PAGE::Package,Package);
    END;

    BEGIN
    END.
  }
}

