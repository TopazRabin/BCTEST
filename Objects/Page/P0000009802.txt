OBJECT Page 9802 Permission Sets
{
  OBJECT-PROPERTIES
  {
    Date=11/22/17;
    Time=12:00:00 PM;
    Version List=NAVW111.00;
  }
  PROPERTIES
  {
    CaptionML=[ENU=Permission Sets;
               ESM=Conjuntos de permisos;
               FRC=Ensembles d'autorisations;
               ENC=Permission Sets];
    SourceTable=Table2000000167;
    PageType=List;
    OnAfterGetRecord=BEGIN
                       PermissionEditable := ISNULLGUID("App ID");
                       RoleIDEditable := FALSE;
                     END;

    OnNewRecord=BEGIN
                  // Allow edits only on a new record - underlying tables do not allow renames.
                  RoleIDEditable := TRUE;
                END;

    OnInsertRecord=VAR
                     PermissionSet@1000 : Record 2000000004;
                   BEGIN
                     PermissionSet.INIT;
                     PermissionSet."Role ID" := "Role ID";
                     PermissionSet.Name := Name;
                     PermissionSet.INSERT;
                     PermissionEditable := ISNULLGUID("App ID");
                     RoleIDEditable := FALSE;
                     EXIT(FALSE); // Causes UI to stop processing the action - we handled it manually
                   END;

    OnModifyRecord=VAR
                     PermissionSet@1000 : Record 2000000004;
                   BEGIN
                     IF NOT ISNULLGUID("App ID") THEN
                       ERROR(AlterAppPermSetErr);

                     PermissionSet.GET(xRec."Role ID");
                     IF xRec."Role ID" <> "Role ID" THEN BEGIN
                       PermissionSet.RENAME(xRec."Role ID","Role ID");
                       PermissionSet.GET("Role ID");
                     END;
                     PermissionSet.Name := Name;
                     PermissionSet.MODIFY;
                     PermissionEditable := ISNULLGUID("App ID");
                     EXIT(FALSE); // Causes UI to stop processing the action - we handled it manually
                   END;

    OnDeleteRecord=VAR
                     PermissionSet@1000 : Record 2000000004;
                   BEGIN
                     IF NOT ISNULLGUID("App ID") THEN
                       ERROR(AlterAppPermSetErr);

                     PermissionSet.GET("Role ID");
                     PermissionSet.DELETE;
                     CurrPage.UPDATE;
                     PermissionEditable := ISNULLGUID("App ID");
                     EXIT(FALSE); // Causes UI to stop processing the action - we handled it manually
                   END;

    ActionList=ACTIONS
    {
      { 10      ;    ;ActionContainer;
                      Name=PermissionActions;
                      CaptionML=[ENU=Permissions;
                                 ESM=Permisos;
                                 FRC=Autorisations;
                                 ENC=Permissions];
                      ActionContainerType=RelatedInformation }
      { 7       ;1   ;ActionGroup;
                      Name=ShowPermissions;
                      CaptionML=[ENU=Permissions;
                                 ESM=Permisos;
                                 FRC=Autorisations;
                                 ENC=Permissions];
                      Image=Permission }
      { 6       ;2   ;Action    ;
                      Name=Permissions;
                      ShortCutKey=Shift+Ctrl+p;
                      CaptionML=[ENU=Permissions;
                                 ESM=Permisos;
                                 FRC=Autorisations;
                                 ENC=Permissions];
                      ToolTipML=[ENU=View or edit which feature objects that users need to access and set up the related permissions in permission sets that you can assign to the users of the database.;
                                 ESM=Permite ver o editar los objetos de caracter¡stica a los que deben obtener acceso los usuarios. Tambi‚n permite configurar los permisos relacionados en los conjuntos de permisos que se pueden asignar a los usuarios de la base de datos.;
                                 FRC=Afficher ou modifier les objets caract‚ristiques auxquels les utilisateurs doivent acc‚der et param‚trer les autorisations associ‚es dans les ensembles d'autorisations que vous pouvez affecter aux utilisateurs de la base de donn‚es.;
                                 ENC=View or edit which feature objects that users need to access and set up the related permissions in permission sets that you can assign to the users of the database.];
                      ApplicationArea=#Advanced;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=Permission;
                      PromotedCategory=Process;
                      Scope=Repeater;
                      OnAction=VAR
                                 Permission@1001 : Record 2000000005;
                                 Permissions@1000 : Page 9803;
                               BEGIN
                                 Permission.SETRANGE("Role ID","Role ID");
                                 Permissions.SETRECORD(Permission);
                                 Permissions.SETTABLEVIEW(Permission);
                                 Permissions.EDITABLE := PermissionEditable;
                                 Permissions.RUN;
                               END;
                                }
      { 11      ;2   ;Action    ;
                      CaptionML=[ENU=Permission Set by User;
                                 ESM=Conjunto de permisos por usuario;
                                 FRC=Ensemble d'autorisations par utilisateur;
                                 ENC=Permission Set by User];
                      ToolTipML=[ENU=View or edit the available permission sets and apply permission sets to existing users.;
                                 ESM=Permite ver o editar los conjuntos de permisos disponibles y aplicarlos a los usuarios existentes.;
                                 FRC=Afficher ou modifier les ensembles d'autorisations disponibles et les appliquer aux utilisateurs existants.;
                                 ENC=View or edit the available permission sets and apply permission sets to existing users.];
                      ApplicationArea=#Advanced;
                      RunObject=Page 9816;
                      Promoted=Yes;
                      Image=Permission;
                      PromotedCategory=Process }
      { 12      ;2   ;Action    ;
                      CaptionML=[ENU=Permission Set by User Group;
                                 ESM=Conjunto de permisos por grupo de usuarios;
                                 FRC=Ensemble d'autorisations par groupe d'utilisateurs;
                                 ENC=Permission Set by User Group];
                      ToolTipML=[ENU=View or edit the available permission sets and apply permission sets to existing user groups.;
                                 ESM=Permite ver o editar los conjuntos de permisos disponibles y aplicarlos a los grupos de usuarios existentes.;
                                 FRC=Afficher ou modifier les ensembles d'autorisations disponibles et les appliquer aux groupes d'utilisateurs existants.;
                                 ENC=View or edit the available permission sets and apply permission sets to existing user groups.];
                      ApplicationArea=#Advanced;
                      RunObject=Page 9837;
                      Promoted=Yes;
                      Image=Permission;
                      PromotedCategory=Process }
      { 15      ;1   ;ActionGroup;
                      CaptionML=[ENU=User Groups;
                                 ESM=Grupos de usuarios;
                                 FRC=Groupes d'utilisateurs;
                                 ENC=User Groups] }
      { 14      ;2   ;Action    ;
                      CaptionML=[ENU=User by User Group;
                                 ESM=Usuario por grupo de usuarios;
                                 FRC=Utilisateur par groupe d'utilisateurs;
                                 ENC=User by User Group];
                      ToolTipML=[ENU=View and assign user groups to users.;
                                 ESM=Permite ver y asignar grupos de usuarios a usuarios.;
                                 FRC=Afficher et attribuer des groupes d'utilisateurs aux utilisateurs.;
                                 ENC=View and assign user groups to users.];
                      ApplicationArea=#Advanced;
                      RunObject=Page 9838;
                      Promoted=Yes;
                      Image=User;
                      PromotedCategory=Process }
      { 13      ;2   ;Action    ;
                      Name=UserGroups;
                      CaptionML=[ENU=User Groups;
                                 ESM=Grupos de usuarios;
                                 FRC=Groupes d'utilisateurs;
                                 ENC=User Groups];
                      ToolTipML=[ENU=Set up or modify user groups as a fast way of giving users access to the functionality that is relevant to their work.;
                                 ESM=Permite configurar o modificar grupos de usuarios como una manera r pida de proporcionar acceso a los usuarios a la funcionalidad pertinente para su trabajo.;
                                 FRC=Configurer ou modifier les groupes d'utilisateurs comme fa‡on rapide de permettre aux utilisateurs d'acc‚der … la fonctionnalit‚ associ‚e … leur travail.;
                                 ENC=Set up or modify user groups as a fast way of giving users access to the functionality that is relevant to their work.];
                      ApplicationArea=#Advanced;
                      RunObject=Page 9830;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=Users;
                      PromotedCategory=Process }
      { 9       ;    ;ActionContainer;
                      ActionContainerType=ActionItems }
      { 5       ;1   ;ActionGroup;
                      Name=<Functions>;
                      CaptionML=[ENU=F&unctions;
                                 ESM=Funci&ones;
                                 FRC=Fonction&s;
                                 ENC=F&unctions];
                      Image=Action }
      { 8       ;2   ;Action    ;
                      Name=<CopyPermissionSet>;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Copy Permission Set;
                                 ESM=Copiar conjunto de permisos;
                                 FRC=Copier ensemble d'autorisations;
                                 ENC=Copy Permission Set];
                      ToolTipML=[ENU=Create a copy of the current permission set with a name that you specify.;
                                 ESM=Permite crear una copia del conjunto de permisos actual con el nombre que especifique.;
                                 FRC=Cr‚er une copie de l'ensemble d'autorisations actuel et lui attribuer un nom.;
                                 ENC=Create a copy of the current permission set with a name that you specify.];
                      ApplicationArea=#Advanced;
                      Enabled=PermissionEditable;
                      Image=Copy;
                      OnAction=VAR
                                 PermissionSet@1035 : Record 2000000004;
                                 CopyPermissionSet@1034 : Report 9802;
                                 NullGUID@1000 : GUID;
                               BEGIN
                                 PermissionSet.SETRANGE("Role ID","Role ID");
                                 CopyPermissionSet.SETTABLEVIEW(PermissionSet);
                                 CopyPermissionSet.RUNMODAL;

                                 IF GET(Scope::System,NullGUID,CopyPermissionSet.GetRoleId) THEN;
                               END;
                                }
      { 18      ;2   ;Action    ;
                      Name=ImportPermissions;
                      CaptionML=[ENU=Import Permissions;
                                 ESM=Permisos de importaci¢n;
                                 FRC=Importer les autorisations;
                                 ENC=Import Permissions];
                      ToolTipML=[ENU=Import a file with permissions.;
                                 ESM=Permite importar un archivo con permisos.;
                                 FRC=Importer un fichier avec des autorisations.;
                                 ENC=Import a file with permissions.];
                      ApplicationArea=#Advanced;
                      Image=Import;
                      OnAction=BEGIN
                                 XMLPORT.RUN(XMLPORT::"Import/Export Permissions",FALSE,TRUE);
                               END;
                                }
    }
  }
  CONTROLS
  {
    { 1   ;0   ;Container ;
                ContainerType=ContentArea }

    { 2   ;1   ;Group     ;
                Name=Group;
                CaptionML=[ENU=Permission Set;
                           ESM=Conjunto de permisos;
                           FRC=Ensemble d'autorisations;
                           ENC=Permission Set];
                GroupType=Repeater }

    { 3   ;2   ;Field     ;
                Name=PermissionSet;
                CaptionML=[ENU=Permission Set;
                           ESM=Conjunto de permisos;
                           FRC=Ensemble d'autorisations;
                           ENC=Permission Set];
                ToolTipML=[ENU=Specifies the permission set.;
                           ESM=Especifica el conjunto de permisos.;
                           FRC=Sp‚cifie l'ensemble d'autorisations.;
                           ENC=Specifies the permission set.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Role ID";
                Editable=RoleIDEditable }

    { 4   ;2   ;Field     ;
                Name=<Name>;
                CaptionML=[ENU=Name;
                           ESM=Nombre;
                           FRC=Nom;
                           ENC=Name];
                ToolTipML=[ENU=Specifies the name of the record.;
                           ESM=Especifica el nombre del registro.;
                           FRC=Sp‚cifie le nom de l'enregistrement.;
                           ENC=Specifies the name of the record.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr=Name }

    { 21  ;2   ;Field     ;
                CaptionML=[ENU=Extension Name;
                           ESM=Nombre de extensi¢n;
                           FRC=Nom de l'extension;
                           ENC=Extension Name];
                ToolTipML=[ENU=Specifies the name of the extension.;
                           ESM=Especifica el nombre de la extensi¢n.;
                           FRC=Sp‚cifie le nom de l'extension.;
                           ENC=Specifies the name of the extension.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="App Name";
                Editable=FALSE }

    { 16  ;    ;Container ;
                ContainerType=FactBoxArea }

    { 17  ;1   ;Part      ;
                CaptionML=[ENU=Permissions;
                           ESM=Permisos;
                           FRC=Autorisations;
                           ENC=Permissions];
                ApplicationArea=#Basic,#Suite;
                SubPageLink=Role ID=FIELD(Role ID);
                PagePartID=Page9804;
                PartType=Page }

    { 19  ;1   ;Part      ;
                CaptionML=[ENU=Tenant Permissions;
                           ESM=Permisos de suscriptor;
                           FRC=Autorisations abonn‚;
                           ENC=Tenant Permissions];
                ApplicationArea=#Basic,#Suite;
                SubPageLink=Role ID=FIELD(Role ID),
                            App ID=FIELD(App ID);
                PagePartID=Page9840;
                Editable=FALSE;
                PartType=Page }

  }
  CODE
  {
    VAR
      AlterAppPermSetErr@1001 : TextConst 'ENU=You cannot modify application-level permission sets.;ESM=No puede modificar los conjuntos de permisos de nivel de aplicaci¢n.;FRC=Vous ne pouvez pas modifier les ensembles d''autorisations de niveau application.;ENC=You cannot modify application-level permission sets.';
      PermissionEditable@1000 : Boolean;
      RoleIDEditable@1004 : Boolean;

    BEGIN
    END.
  }
}

