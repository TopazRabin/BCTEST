OBJECT Page 14002665 Demand Sum.
{
  OBJECT-PROPERTIES
  {
    Date=10/31/16;
    Time=12:00:00 PM;
    Version List=UBP2.96;
  }
  PROPERTIES
  {
    CaptionML=ENU=Demand Sum.;
    SourceTable=Table14000555;
    PageType=Card;
    OnInit=BEGIN
             "Qty. on Component LinesVisible" := TRUE;
           END;

    OnOpenPage=BEGIN
                 InvMgtSetup.GET;
                 IF NOT InvMgtSetup."Consider Comp. Cons. as Usage" THEN
                   "Qty. on Component LinesVisible" := FALSE;
               END;

    OnAfterGetRecord=BEGIN
                       CalcOnAfterGetCurrRecord;
                     END;

    OnAfterGetCurrRecord=BEGIN
                           CalcOnAfterGetCurrRecord;
                         END;

  }
  CONTROLS
  {
    { 1900000001;0;Container;
                ContainerType=ContentArea }

    { 1240030000;1;Group  ;
                CaptionML=ENU=General }

    { 1240030001;2;Field  ;
                ToolTipML=ENU=Specifies a location code for the warehouse or distribution center where your items are handled and stored before being sold.;
                SourceExpr="Location Code";
                Editable=FALSE }

    { 1240030003;2;Field  ;
                ToolTipML=ENU=Item number;
                SourceExpr="Item No.";
                Editable=FALSE }

    { 1240030005;2;Field  ;
                SourceExpr="Qty. on Sales Order Sum.";
                Editable=FALSE }

    { 1240030007;2;Field  ;
                SourceExpr="Additional Demand Sum.";
                Editable=FALSE }

    { 1240030010;2;Field  ;
                SourceExpr="Qty. on Service Order Sum.";
                Editable=FALSE }

    { 3   ;2   ;Field     ;
                SourceExpr="Qty. on Component Lines Sum.";
                Visible="Qty. on Component LinesVisible" }

    { 1   ;2   ;Field     ;
                SourceExpr="Qty. on Assy. Comp. Sum.";
                Visible="Qty. on Component LinesVisible" }

    { 2   ;2   ;Field     ;
                SourceExpr="Qty. on Assy. Comp. FC Sum.";
                Visible="Qty. on Component LinesVisible" }

    { 1240030012;2;Field  ;
                Name=Total Demand;
                CaptionML=ENU=Total Demand;
                DecimalPlaces=0:2;
                SourceExpr=TotalDemand;
                Editable=FALSE }

  }
  CODE
  {
    VAR
      InvMgtSetup@1001 : Record 14000551;
      "Qty. on Component LinesVisible"@1000 : Boolean;
      UBP@1002 : Codeunit 14000564;
      TotalDemand@1003 : Decimal;

    LOCAL PROCEDURE CalcOnAfterGetCurrRecord@19077479();
    BEGIN
      xRec := Rec;
      TotalDemand := 0;
      SETFILTER("Prod. Order Status Filter",UBP.GetProductionStatusFilter);
      IF InvMgtSetup."Consider Comp. Cons. as Usage" THEN BEGIN
        CALCFIELDS("Qty. on Sales Order Sum.","Additional Demand Sum.","Qty. on Service Order Sum.","Qty. on Component Lines Sum.","Qty. on Assy. Comp. Sum.","Qty. on Assy. Comp. FC Sum.");
        TotalDemand := "Qty. on Sales Order Sum."  + "Additional Demand Sum." + "Qty. on Service Order Sum." + "Qty. on Component Lines Sum." + "Qty. on Assy. Comp. Sum." + "Qty. on Assy. Comp. FC Sum."
      END ELSE BEGIN
        CALCFIELDS("Qty. on Sales Order Sum.","Additional Demand Sum.","Qty. on Service Order Sum.");
        TotalDemand := "Qty. on Sales Order Sum."  + "Additional Demand Sum." + "Qty. on Service Order Sum.";
      END;
    END;

    BEGIN
    END.
  }
}

