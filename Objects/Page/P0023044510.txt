OBJECT Page 23044510 IWX License Plate
{
  OBJECT-PROPERTIES
  {
    Date=11/08/21;
    Time=12:15:46 PM;
    Modified=Yes;
    Version List=IWX2.4.7684.0,3187,3299,3333,3391;
  }
  PROPERTIES
  {
    CaptionML=[ENU=License Plate;
               ESM=Placa de la licencia;
               FRC=Plaque d'immatriculation;
               ENC=License Plate];
    SourceTable=Table23044505;
    DataCaptionExpr="No." + ' - ' + Description;
    DataCaptionFields=No.,Description;
    OnInit=BEGIN
             bCanManageLP := cuFunctionPerms.isAllowed('Manage License Plates');
           END;

    OnAfterGetCurrRecord=BEGIN
                           bIsTote := Tote = Tote::Yes; //<IW author="R.Trudeau" date="11/22/18" issue="TFS4325" />
                         END;

    ActionList=ACTIONS
    {
      { 1000000018;0 ;ActionContainer;
                      ActionContainerType=ActionItems }
      { 1000000016;1 ;ActionGroup;
                      Name=<Action1000000016>;
                      CaptionML=[ENU=F&unctions;
                                 ESM=F&unciones;
                                 FRC=F&onctions;
                                 ENC=F&unctions] }
      { 1000000017;2 ;Action    ;
                      Name=miRemoveUsage;
                      CaptionML=[ENU=&Remove Usage;
                                 ESM=&Retire Uso;
                                 FRC=&Enlever utilisation;
                                 ENC=&Remove Usage];
                      ToolTipML=ENU=Unassign the License Plate from its associated document.;
                      Image=DeleteQtyToHandle;
                      OnAction=BEGIN
                                 removeUsage(TRUE);
                                 CurrPage.UPDATE(FALSE);
                               END;
                                }
      { 1000000069;2 ;Action    ;
                      Name=Transfer B/w Locations;
                      Image=TransferOrder;
                      OnAction=VAR
                                 CreateAdjustmentJournals@1000000000 : Report 51123;
                               BEGIN
                                 //<TPZ2808>
                                 CreateAdjustmentJournals.SetValues("No.");
                                 CreateAdjustmentJournals.RUNMODAL;
                                 //</TPZ2808>
                               END;
                                }
      { 1000000019;1 ;ActionGroup;
                      Name=<Action1000000019>;
                      CaptionML=[ENU=&Print;
                                 ESM=Impresi¢n;
                                 FRC=Imprimer;
                                 ENC=&Print];
                      ActionContainerType=NewDocumentItems;
                      Image=Print }
      { 1000000020;2 ;Action    ;
                      Name=miPrintLabel;
                      CaptionML=[ENU=&Label;
                                 ESM=Etiqueta;
                                 FRC=&Etiquette;
                                 ENC=&Label];
                      ToolTipML=ENU=Print the License Plate label.;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=DepositSlip;
                      PromotedCategory=Report;
                      OnAction=BEGIN
                                 cuLPCommon.printLPLabel(Rec);
                               END;
                                }
      { 1000000034;2 ;Action    ;
                      Name=Pallet Manifest Report;
                      CaptionML=[ENU=&Pallet Manifest Report;
                                 ESM=Etiqueta;
                                 FRC=&Etiquette;
                                 ENC=&Label];
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=DepositSlip;
                      PromotedCategory=Report;
                      OnAction=VAR
                                 LicensePlateHeader@1000000000 : Record 23044505;
                               BEGIN
                                 //<TPZ1997>
                                 LicensePlateHeader.RESET;
                                 LicensePlateHeader.SETRANGE("No.","No.");
                                 IF LicensePlateHeader.FINDFIRST THEN
                                   REPORT.RUNMODAL(50075,TRUE,FALSE,LicensePlateHeader);
                                 //</TPZ1997>
                               END;
                                }
      { 1000000075;2 ;Action    ;
                      Name=Create BOL;
                      CaptionML=ENU=BOL Summary;
                      OnAction=VAR
                                 LPBOLSummaryLine@1000000000 : Record 50065;
                                 SourceID@1000000001 : Code[20];
                                 WarehouseShipmentLineLoc@1000000002 : Record 7321;
                               BEGIN
                                 //TPZ3391
                                 LPBOLSummaryLine.SETRANGE("Bill of Lading No.","BOL No.");
                                 IF LPBOLSummaryLine.FINDFIRST THEN
                                   PAGE.RUNMODAL(50097,LPBOLSummaryLine);
                               END;
                                }
      { 1000000044;  ;ActionContainer;
                      ActionContainerType=RelatedInformation }
      { 1000000046;1 ;ActionGroup;
                      CaptionML=[ENU=License Plate;
                                 ESM=Placa;
                                 FRC=Plaque d'immatriculation;
                                 ENC=License Plate] }
      { 1000000045;2 ;Action    ;
                      Name=miStatistics;
                      ShortCutKey=F7;
                      CaptionML=[ENU=Statistics;
                                 ESM=Estad¡sticas;
                                 FRC=Statistiques;
                                 ENC=Statistics];
                      ToolTipML=ENU=Show the License Plate statistics.;
                      Promoted=Yes;
                      Image=Statistics;
                      PromotedCategory=Process;
                      OnAction=BEGIN
                                 updateDefauleValueFromLPSetup(Rec);
                                 PAGE.RUNMODAL(PAGE::"IWX License Plate Statistics",Rec)
                               END;
                                }
      { 1000000076;2 ;Action    ;
                      Name=Pallet Details;
                      RunObject=Page 50090;
                      RunPageLink=License Plate No.=FIELD(No.);
                      Image=DataEntry;
                      OnAction=BEGIN
                                 //TPZ3299
                               END;
                                }
    }
  }
  CONTROLS
  {
    { 1000000000;;Container;
                ContainerType=ContentArea }

    { 1000000001;1;Group  ;
                CaptionML=[ENU=General;
                           ESM=General;
                           FRC=G‚n‚ral;
                           ENC=General];
                GroupType=Group }

    { 1000000002;2;Field  ;
                ToolTipML=ENU=Specifies the number of the license plate.;
                SourceExpr="No." }

    { 1000000003;2;Field  ;
                ToolTipML=[ENU="Contains a list of the line items.  The format of the list is Item No., Qty;."];
                SourceExpr=Description;
                Editable=FALSE }

    { 1000000062;2;Field  ;
                ToolTipML=ENU=The template applied to the License Plate.;
                SourceExpr="Template Code" }

    { 1000000014;2;Field  ;
                ToolTipML=ENU=Specifies the current location of the license plate.;
                SourceExpr="Location Code" }

    { 1000000013;2;Field  ;
                ToolTipML=ENU=Specifies the bin where the license plate is currently located.;
                SourceExpr="Bin Code" }

    { 1000000010;2;Field  ;
                ToolTipML=ENU=Specifies the status of the license plate.  License plates are not deleted or archived, but are instead given a descriptive status as they go through stages of processing.;
                SourceExpr=Status }

    { 1000000041;2;Field  ;
                ToolTipML=ENU=Specifies whether the license plate should be uneditable.;
                SourceExpr=Locked }

    { 100000069;2;Field   ;
                ToolTipML=ENU=The document type linked to the License Plate.;
                SourceExpr="Source Document Type" }

    { 1000000070;2;Field  ;
                ToolTipML=ENU=The document number linked to the License Plate.;
                SourceExpr="Source Document No." }

    { 1000000008;2;Field  ;
                ToolTipML=ENU=The source document type the License Plate was shipped on.;
                SourceExpr="Shipped Source Document";
                Editable=bCanManageLP }

    { 1000000009;2;Field  ;
                ToolTipML=ENU=The source document number the License Plate was shipped on.;
                SourceExpr="Shipped Source No.";
                Editable=bCanManageLP }

    { 1000000011;2;Field  ;
                ToolTipML=ENU=Specifies whether to change the license plate Status to "Unbuilt" when the license plate is received at the new location.;
                SourceExpr="Unbuild on Receipt";
                Importance=Additional }

    { 1000000004;2;Field  ;
                ToolTipML=ENU=The License Plate number this License Plate is contained in.;
                SourceExpr="Parent License Plate No.";
                Importance=Additional }

    { 1000000055;2;Field  ;
                ToolTipML=ENU=Contains the stored BLOB version of the label that can be printed and applied to the outside of the shipment package.;
                SourceExpr="Package Carrier Label" }

    { 1000000005;2;Field  ;
                SourceExpr=SKID }

    { 1000000074;2;Field  ;
                SourceExpr="Phys. Inv. Journal Batch" }

    { 1000000073;2;Field  ;
                SourceExpr="Whse. Phys. Inv. Jnl. Batch" }

    { 1000000072;2;Field  ;
                SourceExpr="Whse. Phys. Inv. Jnl. Batch To" }

    { 1000000071;2;Field  ;
                SourceExpr="Whse. Item Jnl. Batch To" }

    { 1000000064;2;Group  ;
                CaptionML=[ENU=Tote;
                           ESM=Totalizador;
                           FRC=Fourre-tout;
                           ENC=Tote];
                GroupType=Group }

    { 1000000063;3;Field  ;
                ToolTipML=ENU=Indicates whether this License Plate is a Tote.;
                SourceExpr=Tote;
                Importance=Additional;
                OnValidate=BEGIN
                             bIsTote := Tote = Tote::Yes; //<IW author="R.Trudeau" date="11/22/18" issue="TFS4325" />
                           END;
                            }

    { 1000000065;3;Field  ;
                ToolTipML=ENU=The Warehouse Document type the Tote is assigned to.;
                SourceExpr="Tote Whse. Document Type";
                Importance=Additional;
                Enabled=bIsTote }

    { 1000000066;3;Field  ;
                ToolTipML=ENU=The Warehouse Document number the Tote is assigned to.;
                SourceExpr="Tote Whse. Document No.";
                Importance=Additional;
                Enabled=bIsTote }

    { 1000000067;3;Field  ;
                ToolTipML=ENU=The Document type the Tote is assigned to.;
                SourceExpr="Tote Source Type";
                Importance=Additional;
                Enabled=bIsTote }

    { 1000000068;3;Field  ;
                ToolTipML=ENU=The Document number the Tote is assigned to.;
                SourceExpr="Tote Source No.";
                Importance=Additional;
                Enabled=bIsTote }

    { 1000000022;2;Group  ;
                CaptionML=[ENU=History;
                           ESM=Historia;
                           FRC=Histoire;
                           ENC=History];
                GroupType=Group }

    { 1000000006;3;Field  ;
                ToolTipML=ENU=This is the User ID of the person who created the license plate.  This field is automatically populated by the system when the record is created from NAV.;
                SourceExpr="Created By";
                Importance=Additional;
                Editable=FALSE }

    { 1000000007;3;Field  ;
                ToolTipML=ENU=Specifies the date the license plate record was created from NAV.;
                SourceExpr="Created On";
                Importance=Additional;
                Editable=FALSE }

    { 1000000015;3;Field  ;
                ToolTipML=ENU=Specifies the device code of the device when a license plate is created from the handheld and not from NAV.;
                SourceExpr="Created by Device";
                Importance=Additional;
                Editable=false }

    { 1000000021;3;Field  ;
                ToolTipML=ENU=Specifies the device code of the device when the license plate is modified from the handheld.;
                SourceExpr="Last Modified by Device";
                Importance=Additional;
                Editable=false }

    { 1000000012;1;Part   ;
                Name=sfLines;
                CaptionML=[ENU=Lines;
                           FRC=Lignes];
                SubPageLink=License Plate No.=FIELD(No.);
                PagePartID=Page23044511;
                PartType=Page }

    { 1000000056;1;Group  ;
                CaptionML=[ENU=Dimensions;
                           ESM=Dimensiones;
                           FRC=Dimensions;
                           ENC=Dimensions];
                GroupType=Group }

    { 1000000054;2;Field  ;
                ToolTipML=ENU=The length of the License Plate.;
                SourceExpr=Length }

    { 1000000053;2;Field  ;
                ToolTipML=ENU=The width of the License Plate.;
                SourceExpr=Width }

    { 1000000052;2;Field  ;
                ToolTipML=ENU=The height of the License Plate.;
                SourceExpr=Height }

    { 1000000051;2;Field  ;
                ToolTipML=ENU=The unit of measure for the length, width, height of the License Plate.;
                SourceExpr="Dim. Unit of Measure" }

    { 1000000043;1;Group  ;
                CaptionML=[ENU=Capacity;
                           ESM=Capacidad;
                           FRC=Capacit‚;
                           ENC=Capacity];
                GroupType=Group }

    { 1000000042;2;Field  ;
                ToolTipML=ENU=Specifies the maximum weight that the license plate can hold.;
                SourceExpr="Maximum Weight" }

    { 1000000040;2;Field  ;
                ToolTipML=ENU=Specifies the minimum weight of the license plate.;
                SourceExpr="Minimum Weight" }

    { 1000000039;2;Field  ;
                ToolTipML=ENU=Specifies the unit of measure used to describe the weight measurements for the license plate.;
                SourceExpr="Weight Unit of Measure" }

    { 1000000038;2;Field  ;
                ToolTipML=ENU=Contains the maximum cubage (volume) that the license plate can hold.;
                SourceExpr="Maximum Cubage" }

    { 1000000037;2;Field  ;
                ToolTipML=ENU=Contains the minimum cubage (volume) that the license plate can hold.;
                SourceExpr="Minimum Cubage" }

    { 1000000036;2;Field  ;
                ToolTipML=ENU=Specifies the unit of measure used to describe the volume measurements for the license plate.;
                SourceExpr="Cubage Unit of Measure" }

    { 1000000035;1;Group  ;
                CaptionML=[ENU=Shipping;
                           ESM=Env¡o;
                           FRC=Livraison;
                           ENC=Shipping];
                GroupType=Group }

    { 1000000032;2;Field  ;
                ToolTipML=ENU=Specifies the number of the shipment document used when shipping the license plate.;
                SourceExpr="Shipment No.";
                Importance=Promoted }

    { 1000000033;2;Field  ;
                ToolTipML=ENU=Specifies the date the license plate was shipped.;
                SourceExpr="Shipment Date";
                Importance=Promoted }

    { 1000000030;2;Field  ;
                ToolTipML=ENU=Specifies the number of items on the license plate at the time of shipping.;
                SourceExpr="Shipped Item Count";
                Importance=Additional }

    { 1000000026;2;Field  ;
                ToolTipML=ENU=Contains the package tracking number assigned to the license plate.;
                SourceExpr="Package Tracking Number" }

    { 100000034;2;Field   ;
                ToolTipML=ENU=The shipment tracking URL.;
                SourceExpr="Shipment Tracking URL" }

    { 1000000058;2;Field  ;
                ToolTipML=ENU=Contains the Dynamic Ship Order ID;
                SourceExpr="Package Order ID" }

    { 1000000031;2;Field  ;
                ToolTipML=ENU=Contains the shipping tracking number assigned to the license plate.;
                SourceExpr="Shipment Tracking Number" }

    { 1000000057;2;Field  ;
                ToolTipML=ENU=Contains the Dynamic Ship Tracker ID;
                SourceExpr="Package Tracker ID" }

    { 1000000059;2;Field  ;
                ToolTipML=ENU=Specifiy an identifying number assigned by Customs.;
                SourceExpr="Customs No." }

    { 1000000061;2;Field  ;
                ToolTipML=ENU=Specifies the amount of Dynamic Ship Insurance purchased from the carrier.;
                SourceExpr="Insurance Amount";
                Visible=FALSE }

    { 100000076;2;Field   ;
                SourceExpr="BOL No." }

    { 1000000077;2;Field  ;
                SourceExpr="Freight Cost";
                Editable=false }

    { 1000000060;2;Group  ;
                CaptionML=[ENU=Dimensions;
                           ESM=Dimensiones;
                           FRC=Dimensions;
                           ENC=Dimensions];
                GroupType=Group }

    { 1000000029;3;Field  ;
                ToolTipML=ENU=Contains the net weight of the shipment.;
                SourceExpr="Shipment Net Weight";
                Importance=Additional }

    { 1000000028;3;Field  ;
                ToolTipML=ENU=Contains the gross weight of the shipment.;
                SourceExpr="Shipment Gross Weight";
                Importance=Additional }

    { 1000000047;3;Field  ;
                ToolTipML=ENU=The length of the License Plate for shipping purposes.;
                SourceExpr="Shipment Length";
                Importance=Additional }

    { 1000000048;3;Field  ;
                ToolTipML=ENU=The width of the License Plate for shipping purposes.;
                SourceExpr="Shipment Width";
                Importance=Additional }

    { 1000000049;3;Field  ;
                ToolTipML=ENU=The height of the License Plate for shipping purposes.;
                SourceExpr="Shipment Height";
                Importance=Additional }

    { 1000000027;3;Field  ;
                ToolTipML=ENU=The cubage of the License Plate for shipping purposes.;
                SourceExpr="Shipment Cubage";
                Importance=Additional }

    { 1000000050;3;Field  ;
                ToolTipML=ENU=The unit of measure for the length, width, height of the License Plate for shipping purposes.;
                SourceExpr="Shpt. Dim. Unit of Measure";
                Importance=Additional }

    { 1000000025;1;Group  ;
                CaptionML=[ENU=EDI;
                           ESM=EDI;
                           FRC=EDI;
                           ENC=EDI];
                GroupType=Group }

    { 1000000024;2;Field  ;
                ToolTipML=ENU=Specifies the Electronic Document Interchange message to assign to the license plate.;
                OptionCaptionML=ENU=" ,,,Not Ready To Send,,,Ready To Send,,,Sent";
                SourceExpr="EDI Status";
                Importance=Promoted;
                OnValidate=BEGIN
                             IF ((Rec."EDI Status" = Rec."EDI Status"::Sent) AND (xRec."EDI Status" <> Rec."EDI Status"::Sent)) THEN BEGIN
                               Rec."EDI Sent Date" := CURRENTDATETIME;
                             // END ELSE BEGIN
                             //  Rec."EDI Sent Date" := 0DT;
                             END; // IF Sent
                           END;
                            }

    { 1000000023;2;Field  ;
                ToolTipML=ENU=Specifies the date the EDI message was sent.;
                SourceExpr="EDI Sent Date";
                Importance=Promoted }

  }
  CODE
  {
    VAR
      cuFunctionPerms@1000000001 : Codeunit 23044523;
      bCanManageLP@1000000000 : Boolean INDATASET;
      cuLPCommon@1000000002 : Codeunit 23044541;
      bIsTote@1000000003 : Boolean INDATASET;

    PROCEDURE updateDefauleValueFromLPSetup@1000000000(VAR precLPHeader@1000000000 : Record 23044505);
    VAR
      lrecLPSetup@1000000001 : Record 23044523;
    BEGIN
      // if default value is null,then grab default value from wmdm setup
      //

      lrecLPSetup.GET;
      IF (precLPHeader."Maximum Weight" = 0) THEN BEGIN
        precLPHeader."Maximum Weight" := lrecLPSetup."License Plate Maximum Weight";
      END;

      IF (precLPHeader."Minimum Weight" = 0) THEN BEGIN
        precLPHeader."Minimum Weight" := lrecLPSetup."License Plate Minimum Weight";
      END;

      IF (precLPHeader."Maximum Cubage" = 0) THEN BEGIN
        precLPHeader."Maximum Cubage" := lrecLPSetup."License Plate Maximum Cubage";
      END;

      IF (precLPHeader."Minimum Cubage" = 0) THEN BEGIN
        precLPHeader."Minimum Cubage" := lrecLPSetup."License Plate Minimum Cubage";
      END;

      IF (precLPHeader."Dim. Unit of Measure" = '') THEN BEGIN
        precLPHeader."Dim. Unit of Measure" := lrecLPSetup."Dimensions Unit of Measure";
      END;

      IF (precLPHeader."Cubage Unit of Measure" = '') THEN BEGIN
        precLPHeader."Cubage Unit of Measure" := lrecLPSetup."Cubage Unit of Measure";
      END;

      IF (precLPHeader."Weight Unit of Measure" = '') THEN BEGIN
        precLPHeader."Weight Unit of Measure" := lrecLPSetup."Weight Unit of Measure";
      END;

      precLPHeader.MODIFY(TRUE);
      COMMIT;
    END;

    BEGIN
    {
      ************************
      Copyright Notice
      This objects content is copyright of Insight Works 2011.  All rights reserved.
      Any redistribution or reproduction of part or all of the contents in any form is prohibited.
      ************************
      2017-09-06 TPZ1997 DKUMAR
        Pallet Manifest Report
      2020-05-07 TPZ2808 VAHMAD
        New Field added Phys. Inv. Journal Batch
        New Field added Whse. Phys. Inv. Jnl. Batch
        New Field added Whse. Phys. Inv. Jnl. Batch To
        New Field added Whse. Item Jnl. Batch
        New Action Added Transfer B/w Locations
      001 TPZ3187 VAh 10052021 Added new field "BOL No."
      002 TPZ3333 PKS 09072021 Added freight cost field
    }
    END.
  }
}

