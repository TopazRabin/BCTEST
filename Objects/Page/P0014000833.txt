OBJECT Page 14000833 Bill of Lad. Sum. Line - Edit
{
  OBJECT-PROPERTIES
  {
    Date=02/25/19;
    Time=12:00:00 PM;
    Version List=SE0.61;
  }
  PROPERTIES
  {
    CaptionML=ENU=Bill of Lad. Sum. Line - Edit;
    InsertAllowed=No;
    DeleteAllowed=No;
    SourceTable=Table14000825;
    PageType=Card;
    OnAfterGetRecord=BEGIN
                       IF ("Bill of Lading No." <> BillOfLadingSummaryLine."Bill of Lading No.") OR
                          ("Bill of Lading Type" <> BillOfLadingSummaryLine."Bill of Lading Type") OR
                          ("Line No." <> BillOfLadingSummaryLine."Line No.")
                       THEN
                         BillOfLadingSummaryLine := Rec;
                     END;

    ActionList=ACTIONS
    {
      { 1900000004;0 ;ActionContainer;
                      ActionContainerType=ActionItems }
      { 18      ;1   ;Action    ;
                      CaptionML=ENU=Exit;
                      Promoted=Yes;
                      PromotedCategory=Process;
                      OnAction=BEGIN
                                 CurrPage.CLOSE;
                               END;
                                }
      { 17      ;1   ;Action    ;
                      CaptionML=ENU=&Update;
                      Promoted=Yes;
                      PromotedCategory=Process;
                      OnAction=BEGIN
                                 BillOfLading.GET("Bill of Lading No.");
                                 BillOfLading.TESTFIELD(Released,TRUE);
                                 BillOfLading.TESTFIELD("Summary Released",TRUE);
                                 BillOfLading.TESTFIELD("EDI ASN Generated",FALSE);

                                 BillOfLadingSummaryLine2.GET("Bill of Lading No.","Bill of Lading Type","Line No.");
                                 BillOfLadingSummaryLine2."EDI Level ID" := BillOfLadingSummaryLine."EDI Level ID";
                                 BillOfLadingSummaryLine2."Custom Value 1" := BillOfLadingSummaryLine."Custom Value 1";
                                 BillOfLadingSummaryLine2."Custom Value 2" := BillOfLadingSummaryLine."Custom Value 2";
                                 BillOfLadingSummaryLine2."Custom Value 3" := BillOfLadingSummaryLine."Custom Value 3";
                                 BillOfLadingSummaryLine2."Custom Value 4" := BillOfLadingSummaryLine."Custom Value 4";
                                 BillOfLadingSummaryLine2."Custom Value 5" := BillOfLadingSummaryLine."Custom Value 5";
                                 BillOfLadingSummaryLine2.MODIFY;

                                 CurrPage.CLOSE;
                               END;
                                }
    }
  }
  CONTROLS
  {
    { 1900000001;0;Container;
                ContainerType=ContentArea }

    { 1   ;1   ;Group     ;
                CaptionML=ENU=General }

    { 2   ;2   ;Field     ;
                ToolTipML=ENU=Specifies the Bill of Lading No. that contains this record.;
                SourceExpr="Bill of Lading No.";
                Importance=Promoted;
                Editable=FALSE }

    { 19  ;2   ;Field     ;
                SourceExpr="Type Description";
                Editable=FALSE }

    { 4   ;2   ;Field     ;
                CaptionML=ENU=EDI Level ID;
                SourceExpr=BillOfLadingSummaryLine."EDI Level ID" }

    { 6   ;2   ;Field     ;
                CaptionML=ENU=Custom Value 1;
                SourceExpr=BillOfLadingSummaryLine."Custom Value 1";
                OnLookup=BEGIN
                           CASE BillOfLadingSummaryLine.Type OF
                             BillOfLadingSummaryLine.Type::"Purchase Order":
                               BEGIN
                                 SalesInvoiceHeader.RESET;
                                 SalesInvoiceHeader.SETCURRENTKEY("Invoice for Bill of Lading No.");
                                 SalesInvoiceHeader.SETRANGE("Invoice for Bill of Lading No.","Bill of Lading No.");
                                 IF BillOfLadingSummaryLine."EDI Level ID" <> '' THEN
                                   SalesInvoiceHeader.SETRANGE(
                                     "External Document No.",BillOfLadingSummaryLine."EDI Level ID");

                                 SalesInvoiceHeader."No." := BillOfLadingSummaryLine."Custom Value 1";
                                 IF PAGE.RUNMODAL(PAGE::"Posted Sales Invoices (BOL)",SalesInvoiceHeader) =
                                    ACTION::LookupOK
                                 THEN
                                   BillOfLadingSummaryLine."Custom Value 1" := SalesInvoiceHeader."No.";
                               END;
                           END;
                         END;
                          }

    { 8   ;2   ;Field     ;
                CaptionML=ENU=Custom Value 2;
                SourceExpr=BillOfLadingSummaryLine."Custom Value 2" }

    { 10  ;2   ;Field     ;
                CaptionML=ENU=Custom Value 3;
                SourceExpr=BillOfLadingSummaryLine."Custom Value 3" }

    { 12  ;2   ;Field     ;
                CaptionML=ENU=Custom Value 4;
                SourceExpr=BillOfLadingSummaryLine."Custom Value 4" }

    { 14  ;2   ;Field     ;
                CaptionML=ENU=Custom Value 5;
                SourceExpr=BillOfLadingSummaryLine."Custom Value 5" }

  }
  CODE
  {
    VAR
      BillOfLading@1000000000 : Record 14000822;
      BillOfLadingSummaryLine@1000000001 : Record 14000825;
      BillOfLadingSummaryLine2@1000000002 : Record 14000825;
      SalesInvoiceHeader@1000000003 : Record 112;

    BEGIN
    END.
  }
}

