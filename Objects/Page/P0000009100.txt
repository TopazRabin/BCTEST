OBJECT Page 9100 Purchase Line FactBox
{
  OBJECT-PROPERTIES
  {
    Date=10/22/20;
    Time=[ 4:57:39 AM];
    Version List=NAVW111.00.00.36462;
  }
  PROPERTIES
  {
    CaptionML=[ENU=Purchase Line Details;
               ESM=Detalles de la l¡nea de compra;
               FRC=D‚tails ligne achat;
               ENC=Purchase Line Details];
    SourceTable=Table39;
    PageType=CardPart;
    OnOpenPage=BEGIN
                 ;ESACC_EasySecurity(TRUE);
               END;

    OnAfterGetCurrRecord=BEGIN
                           ClearPurchaseHeader;
                         END;

  }
  CONTROLS
  {
    { 1900000001;0;Container;
                ContainerType=ContentArea }

    { 8   ;1   ;Field     ;
                Lookup=No;
                CaptionML=[ENU=Item No.;
                           ESM=N§ producto;
                           FRC=Nø d'article;
                           ENC=Item No.];
                ToolTipML=[ENU=Specifies the number of a general ledger account, item, resource, additional cost, or fixed asset, depending on the contents of the Type field.;
                           ESM=Especifica el n£mero de una cuenta de contabilidad, un producto, un recurso, un costo adicional o un activo fijo, seg£n el contenido del campo Tipo.;
                           FRC=Sp‚cifie le num‚ro d'un compte GL, d'un article, d'une ressource, d'un co–t suppl‚mentaire ou d'une immobilisation, selon le contenu du champ Type.;
                           ENC=Specifies the number of a general ledger account, item, resource, additional cost, or fixed asset, depending on the contents of the Type field.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="No.";
                Visible=ESACC_F6_Visible;
                Editable=ESACC_F6_Editable;
                HideValue=ESACC_F6_HideValue;
                OnDrillDown=BEGIN
                              ShowDetails;
                            END;
                             }

    { 3   ;1   ;Field     ;
                Name=Availability;
                DrillDown=Yes;
                CaptionML=[ENU=Availability;
                           ESM=Disponibilidad;
                           FRC=Disponibilit‚;
                           ENC=Availability];
                ToolTipML=[ENU=Specifies how many units of the item on the purchase line are available.;
                           ESM=Especifica cu ntas unidades del producto que consta en la l¡nea de compra est n disponibles.;
                           FRC=Sp‚cifie le nombre d'unit‚s de l'article disponibles sur la ligne achat.;
                           ENC=Specifies how many units of the item on the purchase line are available.];
                ApplicationArea=#Basic,#Suite;
                DecimalPlaces=0:5;
                SourceExpr=PurchInfoPaneMgt.CalcAvailability(Rec);
                Editable=TRUE;
                OnDrillDown=BEGIN
                              ItemAvailFormsMgt.ShowItemAvailFromPurchLine(Rec,ItemAvailFormsMgt.ByEvent);
                              CurrPage.UPDATE(TRUE);
                            END;
                             }

    { 5   ;1   ;Field     ;
                Name=PurchasePrices;
                DrillDown=Yes;
                CaptionML=[ENU=Purchase Prices;
                           ESM=Precios compra;
                           FRC=Prix achat;
                           ENC=Purchase Prices];
                ToolTipML=[ENU=Specifies how many special prices your vendor grants you for the purchase line. Choose the value to see the special purchase prices.;
                           ESM=Especifica cu ntos precios especiales le concede el proveedor para la l¡nea de compra. Elija el valor para ver los precios de compra especiales.;
                           FRC=Sp‚cifie le nombre de prix sp‚ciaux que votre fournisseur vous accorde pour la ligne achat. Choisissez la valeur pour voir les prix d'achat sp‚ciaux.;
                           ENC=Specifies how many special prices your vendor grants you for the purchase line. Choose the value to see the special purchase prices.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr=STRSUBSTNO('%1',PurchInfoPaneMgt.CalcNoOfPurchasePrices(Rec));
                Editable=TRUE;
                OnDrillDown=BEGIN
                              ShowPrices;
                              CurrPage.UPDATE;
                            END;
                             }

    { 11  ;1   ;Field     ;
                Name=PurchaseLineDiscounts;
                DrillDown=Yes;
                CaptionML=[ENU=Purchase Line Discounts;
                           ESM=Descuentos l¡nea compra;
                           FRC=Escomptes ligne achat;
                           ENC=Purchase Line Discounts];
                ToolTipML=[ENU=Specifies how many special discounts your vendor grants you for the purchase line. Choose the value to see the purchase line discounts.;
                           ESM=Especifica cu ntos descuentos especiales le concede el proveedor para la l¡nea de compra. Elija el valor para ver los descuentos de l¡nea de compra.;
                           FRC=Sp‚cifie le nombre d'escomptes sp‚ciaux que votre fournisseur vous accorde … la ligne achat. Choisissez la valeur pour voir les escomptes ligne achat.;
                           ENC=Specifies how many special discounts your vendor grants you for the purchase line. Choose the value to see the purchase line discounts.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr=STRSUBSTNO('%1',PurchInfoPaneMgt.CalcNoOfPurchLineDisc(Rec));
                Editable=TRUE;
                OnDrillDown=BEGIN
                              ShowLineDisc;
                              CurrPage.UPDATE;
                            END;
                             }

  }
  CODE
  {
    VAR
      ESACC_ESFLADSMgt@14123801 : Codeunit 14123801;
      ESACC_F6_Visible@900000060 : Boolean INDATASET;
      ESACC_F6_Editable@900000061 : Boolean INDATASET;
      ESACC_F6_HideValue@900000062 : Boolean INDATASET;
      PurchHeader@1000 : Record 38;
      PurchPriceCalcMgt@1002 : Codeunit 7010;
      PurchInfoPaneMgt@1001 : Codeunit 7181;
      ItemAvailFormsMgt@1003 : Codeunit 353;

    LOCAL PROCEDURE ESACC_EasySecurity@14123801(OpenObject@14123801 : Boolean);
    VAR
      SetFilters@14123802 : Codeunit 14123812;
      TempBoolean@14123803 : Boolean;
    BEGIN
      IF OpenObject THEN BEGIN
        SetFilters.Filter39(Rec,8,9100);

        TempBoolean := CurrPage.EDITABLE;
        IF ESACC_ESFLADSMgt.PageGeneral(39,9100,TempBoolean) THEN
          CurrPage.EDITABLE := TempBoolean;
      END;

      ESACC_ESFLADSMgt.PageControl(
        39,9100,0,6,
        ESACC_F6_Visible,ESACC_F6_Editable,ESACC_F6_HideValue);

      ESACC_EasySecurityManual(OpenObject);
    END;

    LOCAL PROCEDURE ESACC_EasySecurityManual@14123811(OpenObject@14123811 : Boolean);
    BEGIN
    END;

    LOCAL PROCEDURE ShowDetails@17();
    VAR
      Item@1000 : Record 27;
    BEGIN
      IF Type = Type::Item THEN BEGIN
        Item.GET("No.");
        PAGE.RUN(PAGE::"Item Card",Item);
      END;
    END;

    LOCAL PROCEDURE ShowPrices@15();
    BEGIN
      PurchHeader.GET("Document Type","Document No.");
      CLEAR(PurchPriceCalcMgt);
      PurchPriceCalcMgt.GetPurchLinePrice(PurchHeader,Rec);
    END;

    LOCAL PROCEDURE ShowLineDisc@16();
    BEGIN
      PurchHeader.GET("Document Type","Document No.");
      CLEAR(PurchPriceCalcMgt);
      PurchPriceCalcMgt.GetPurchLineLineDisc(PurchHeader,Rec);
    END;

    BEGIN
    END.
  }
}

