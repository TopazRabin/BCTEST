OBJECT Page 14097452 Sugg. Trans. Line Factbox 2
{
  OBJECT-PROPERTIES
  {
    Date=03/27/19;
    Time=12:00:00 PM;
    Version List=UBP3.00;
  }
  PROPERTIES
  {
    CaptionML=ENU=Suggested Transfer Line Details;
    SourceTable=Table14000593;
    PageType=CardPart;
    OnOpenPage=BEGIN
                 InvMgtSetup.GET;
                 FromProcUnit := TRUE;
                 ToProcUnit := TRUE;
                 LocationInvRollUp := TRUE;
                 ToForecastView := TRUE;
                 FromForecastView := TRUE;
               END;

  }
  CONTROLS
  {
    { 1900000001;0;Container;
                ContainerType=ContentArea }

    { 2   ;1   ;Field     ;
                SourceExpr="Item No." }

    { 12  ;1   ;Field     ;
                CaptionML=ENU=Loc. Inv. Roll-up;
                SourceExpr=LocationInvRollUp;
                OnDrillDown=BEGIN
                              ShowRollUp(0);
                            END;
                             }

    { 6   ;1   ;Field     ;
                CaptionML=ENU=To Proc. Unit;
                ToolTipML=ENU=Procurement unit card;
                SourceExpr=ToProcUnit;
                OnDrillDown=BEGIN
                              ShowToProcUnit;
                            END;
                             }

    { 3   ;1   ;Field     ;
                CaptionML=ENU=From Proc. Unit;
                SourceExpr=FromProcUnit;
                OnDrillDown=BEGIN
                              ShowFromProcUnit;
                            END;
                             }

    { 8   ;1   ;Field     ;
                Name=CheckItemUsageExistFld;
                CaptionML=ENU=To Item Usage;
                ToolTipML=ENU=Summarized usage by month.;
                SourceExpr=CheckItemUsageExist;
                OnDrillDown=BEGIN
                              ShowToItemUsage;
                            END;
                             }

    { 10  ;1   ;Field     ;
                CaptionML=ENU=Calculation Lines;
                SourceExpr=CalculationLines;
                Visible=FALSE;
                OnDrillDown=BEGIN
                              ShowCalcLines;
                            END;
                             }

    { 16  ;1   ;Field     ;
                CaptionML=ENU=To Forecast View;
                SourceExpr=ToForecastView;
                OnDrillDown=BEGIN
                              ShowToForecast;
                            END;
                             }

    { 5   ;1   ;Field     ;
                CaptionML=ENU=From Forecast View;
                SourceExpr=FromForecastView;
                OnDrillDown=BEGIN
                              ShowFromForecast;
                            END;
                             }

    { 18  ;1   ;Field     ;
                CaptionML=ENU=Surplus;
                ToolTipML=ENU=Detail of surplus available if any;
                SourceExpr="Surplus Available";
                OnDrillDown=BEGIN
                              ShowSurplusAvailable;
                            END;
                             }

    { 1   ;1   ;Field     ;
                Name=CheckAlertsExistFld;
                CaptionML=ENU=Alerts;
                SourceExpr=CheckAlertsExist;
                OnDrillDown=BEGIN
                              ShowAlert;
                            END;
                             }

  }
  CODE
  {
    VAR
      InvMgtSetup@1240030000 : Record 14000551;
      UBP@1000 : Codeunit 14000564;
      ToProcUnit@1001 : Boolean;
      FromProcUnit@1002 : Boolean;
      CalculationLines@1004 : Boolean;
      LocationInvRollUp@1005 : Boolean;
      ToForecastView@1006 : Boolean;
      FromForecastView@1007 : Boolean;

    LOCAL PROCEDURE CheckItemUsageExist@5() : Boolean;
    VAR
      ItemUsage@1000 : Record 14000557;
    BEGIN
      ItemUsage.SETRANGE("Item No.", Rec."Item No.");
      ItemUsage.SETRANGE("Location Code", "Transfer-to Code");
      IF NOT ItemUsage.ISEMPTY THEN
        EXIT(TRUE)
      ELSE
        EXIT(FALSE);
    END;

    LOCAL PROCEDURE CheckAlertsExist@2() : Boolean;
    VAR
      AlertLine@1000 : Record 14002709;
    BEGIN
      AlertLine.SETRANGE("Item No.","Item No.");
      AlertLine.SETRANGE("Variant Code","Variant Code");
      IF NOT AlertLine.ISEMPTY THEN
        EXIT(TRUE)
      ELSE
        EXIT(FALSE);
    END;

    BEGIN
    END.
  }
}

