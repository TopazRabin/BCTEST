OBJECT Page 14002717 AFP Alert Worksheet
{
  OBJECT-PROPERTIES
  {
    Date=03/27/19;
    Time=12:00:00 PM;
    Version List=UBP3.00;
  }
  PROPERTIES
  {
    CaptionML=ENU=Alert Worksheet;
    InsertAllowed=No;
    DeleteAllowed=No;
    SourceTable=Table14002709;
    PageType=Worksheet;
    OnOpenPage=BEGIN
                 SETCURRENTKEY("Alert Type","Snooze Date");
                 SETFILTER("Action Taken",'<>%1',"Action Taken"::Snoozed);
                 LocationFilter := GETFILTER("Location Code");
                 PurchaserFilter := GETFILTER("Purchaser Code");
                 IF GETFILTER("Replenishment Source Type") <> '' THEN
                   EVALUATE(ReplSourceTypeFilter,GETFILTER("Replenishment Source Type"));
                 ReplSourceCodeFilter := GETFILTER("Replenishment Source Code");
               END;

    ActionList=ACTIONS
    {
      { 1900000003;0 ;ActionContainer;
                      ActionContainerType=RelatedInformation }
      { 1240030039;1 ;Action    ;
                      CaptionML=ENU=Procurement Unit;
                      ToolTipML=ENU=Procurement unit card;
                      RunObject=Page 14000559;
                      RunPageLink=Location Code=FIELD(Location Code),
                                  Item No.=FIELD(Item No.),
                                  Variant Code=FIELD(Variant Code);
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=BankAccountRec;
                      PromotedCategory=Process }
      { 1240030040;1 ;Action    ;
                      ShortCutKey=Shift+F11;
                      CaptionML=ENU=View &Forecast;
                      ToolTipML=ENU=Demand and supply plan;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=CalculateRegenerativePlan;
                      PromotedCategory=Process;
                      OnAction=BEGIN
                                 ProcUnit.GET("Location Code","Item No.","Variant Code");
                                 CLEAR(ForecastView);
                                 ForecastView.SetProcUnitandSourceNo(ProcUnit,'');
                                 ForecastView.RUN;
                               END;
                                }
      { 1240030041;1 ;Action    ;
                      CaptionML=ENU=Location Inventory &Roll Up;
                      ToolTipML=ENU=Roll up of forecasts,target stock, surplus and transfers;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=BOMVersions;
                      PromotedCategory=Process;
                      OnAction=BEGIN
                                 ProcUnit.GET("Location Code","Item No.","Variant Code");
                                 CLEAR(UBP);
                                 UBP.DisplayLocInvRollup(ProcUnit);
                               END;
                                }
      { 1240030043;1 ;Action    ;
                      CaptionML=ENU=&Surplus List;
                      ToolTipML=ENU=Detail of surplus available if any;
                      RunObject=Page 14000538;
                      RunPageView=SORTING(Item No.,Variant Code,Surplus Available)
                                  ORDER(Ascending);
                      RunPageLink=Item No.=FIELD(Item No.),
                                  Surplus Available=CONST(Yes);
                      Promoted=No;
                      Image=ResourceCosts;
                      PromotedCategory=Process }
      { 1240030047;1 ;Action    ;
                      CaptionML=ENU=Document &Lines;
                      Promoted=No;
                      Image=GetLines;
                      PromotedCategory=Process;
                      OnAction=BEGIN
                                 ShowDocument;
                               END;
                                }
      { 1900000004;0 ;ActionContainer;
                      ActionContainerType=ActionItems }
      { 1240030045;1 ;Action    ;
                      CaptionML=ENU=Create Alerts;
                      Promoted=No;
                      Image=CalculateLines;
                      PromotedCategory=Process;
                      OnAction=BEGIN
                                 CreateAlerts.CreateAlertsYesNo(LocationFilter);
                               END;
                                }
      { 1240030049;1 ;Action    ;
                      CaptionML=ENU=Show Only Snoozed;
                      ToolTipML=ENU=Filters alerts to show only snoozed;
                      Promoted=No;
                      Image=Reconcile;
                      OnAction=BEGIN
                                 SETCURRENTKEY("Alert Type","Snooze Date");
                                 SETRANGE("Action Taken","Action Taken"::Snoozed);
                                 CurrPage.UPDATE(FALSE);
                               END;
                                }
      { 1240030054;1 ;Action    ;
                      CaptionML=ENU=Show All Alerts;
                      Promoted=No;
                      Image=ShowMatrix;
                      OnAction=BEGIN
                                 SETCURRENTKEY("Alert Type","Snooze Date");
                                 SETRANGE("Action Taken");
                                 CurrPage.UPDATE(FALSE);
                               END;
                                }
    }
  }
  CONTROLS
  {
    { 1900000001;0;Container;
                ContainerType=ContentArea }

    { 1240030000;1;Group  ;
                GroupType=Repeater }

    { 1240030003;2;Field  ;
                ToolTipML=ENU=Item number;
                SourceExpr="Item No." }

    { 1240030009;2;Field  ;
                SourceExpr="Alert Type" }

    { 1240030001;2;Field  ;
                SourceExpr="Location Code" }

    { 1   ;2   ;Field     ;
                SourceExpr="Item Description" }

    { 1240030005;2;Field  ;
                SourceExpr="Variant Code";
                Visible=FALSE }

    { 1240020000;2;Field  ;
                SourceExpr="Source No.";
                Visible=FALSE }

    { 1240030007;2;Field  ;
                SourceExpr="Alert Date" }

    { 1240030050;2;Field  ;
                SourceExpr="Inside Lead Time" }

    { 1240030052;2;Field  ;
                SourceExpr="Stockout Increments" }

    { 1240030011;2;Field  ;
                SourceExpr="Action Taken" }

    { 1240030013;2;Field  ;
                SourceExpr="Snooze Days" }

    { 1240030015;2;Field  ;
                SourceExpr="Snooze Date" }

    { 1240030017;2;Field  ;
                SourceExpr=Comment }

    { 1240020009;2;Field  ;
                SourceExpr="Expected Date" }

    { 1240030019;2;Field  ;
                SourceExpr="Purchaser Code" }

    { 1240030021;2;Field  ;
                SourceExpr="Vendor Code" }

    { 1240020005;2;Field  ;
                SourceExpr="Quantity (Base)";
                Visible=FALSE }

    { 1240020007;2;Field  ;
                SourceExpr="Unit Cost (LCY)";
                Visible=FALSE;
                Editable=FALSE }

    { 1240020008;2;Field  ;
                SourceExpr="Extended Cost (LCY)";
                Visible=FALSE;
                Editable=FALSE }

    { 1240030023;2;Field  ;
                SourceExpr="Replenishment Source Type";
                Visible=FALSE }

    { 1240030025;2;Field  ;
                SourceExpr="Replenishment Source Code";
                Visible=FALSE }

    { 1240020002;2;Field  ;
                SourceExpr="Item Class";
                Visible=FALSE;
                Editable=FALSE }

    { 1240020004;2;Field  ;
                SourceExpr="Item Ranking";
                Visible=FALSE;
                Editable=FALSE }

    { 1240020006;2;Field  ;
                SourceExpr="Periods With Sales";
                Visible=FALSE;
                Editable=FALSE }

    { 1240020003;0;Container;
                ContainerType=FactBoxArea }

    { 1240020001;1;Part   ;
                SubPageLink=Location Code=FIELD(Location Code),
                            Item No.=FIELD(Item No.),
                            Variant Code=FIELD(Variant Code);
                PagePartID=Page14097479;
                PartType=Page }

  }
  CODE
  {
    VAR
      Location@1240030004 : Record 14;
      ProdItemGroup@1240030006 : Record 14002676;
      Vendor@1240030005 : Record 23;
      ProcUnit@1240030007 : Record 14000555;
      UBP@1240030009 : Codeunit 14000564;
      CreateAlerts@1240030010 : Codeunit 14002701;
      ForecastView@1240030008 : Page 14002661;
      LocationFilter@1240030000 : Code[10];
      PurchaserFilter@1240030001 : Code[10];
      ReplSourceTypeFilter@1240030002 : ' ,Location,Vendor,Production,Assembly';
      ReplSourceCodeFilter@1240030003 : Code[20];

    LOCAL PROCEDURE LocationFilterOnAfterValidate@19070361();
    BEGIN
      CurrPage.UPDATE(FALSE);
    END;

    LOCAL PROCEDURE PurchaserFilterOnAfterValidate@19017354();
    BEGIN
      CurrPage.UPDATE(FALSE);
    END;

    LOCAL PROCEDURE ReplSourceTypeFilterOnAfterVal@19028974();
    BEGIN
      CurrPage.UPDATE(FALSE);
    END;

    LOCAL PROCEDURE ReplSourceCodeFilterOnAfterVal@19058616();
    BEGIN
      CurrPage.UPDATE(FALSE);
    END;

    BEGIN
    END.
  }
}

