OBJECT Page 14000985 Export Source Lines
{
  OBJECT-PROPERTIES
  {
    Date=06/28/17;
    Time=12:00:00 PM;
    Version List=SE0.54.18;
  }
  PROPERTIES
  {
    CaptionML=ENU=Export Source Lines;
    SourceTable=Table14000983;
    PageType=List;
    AutoSplitKey=Yes;
    ActionList=ACTIONS
    {
      { 1900000003;0 ;ActionContainer;
                      ActionContainerType=RelatedInformation }
      { 1240030046;1 ;ActionGroup;
                      CaptionML=ENU=&Line }
      { 1240030049;2 ;Action    ;
                      CaptionML=ENU=Source Document P&ackages;
                      OnAction=BEGIN
                                 ViewPackages;
                               END;
                                }
      { 1240030047;2 ;Action    ;
                      CaptionML=ENU=Source Document P&osted Packages;
                      OnAction=BEGIN
                                 ViewPostedPackages;
                               END;
                                }
      { 1240030048;2 ;Action    ;
                      ShortCutKey=Shift+F7;
                      CaptionML=ENU=Show Source Document;
                      OnAction=BEGIN
                                 ViewDocument;
                               END;
                                }
    }
  }
  CONTROLS
  {
    { 1900000001;0;Container;
                ContainerType=ContentArea }

    { 1   ;1   ;Group     ;
                Name=Lines;
                GroupType=Repeater }

    { 1240030002;2;Field  ;
                SourceExpr="Line No.";
                Visible=FALSE }

    { 1240030004;2;Field  ;
                SourceExpr=Type }

    { 1240030006;2;Field  ;
                SourceExpr="No." }

    { 1240030008;2;Field  ;
                SourceExpr="Variant Code";
                Visible=FALSE }

    { 1240030086;2;Field  ;
                SourceExpr="Commodity Code Type";
                Visible=FALSE }

    { 1240030030;2;Field  ;
                SourceExpr="Schedule B Code" }

    { 1240030010;2;Field  ;
                SourceExpr=Description }

    { 1240030012;2;Field  ;
                SourceExpr="Export Information Code" }

    { 1240030026;2;Field  ;
                SourceExpr="License Type" }

    { 1240030028;2;Field  ;
                SourceExpr="License No.";
                Visible=FALSE }

    { 1240030064;2;Field  ;
                SourceExpr="License Exp. Date";
                Visible=FALSE }

    { 1240030034;2;Field  ;
                SourceExpr="Export Control Class No.";
                Visible=FALSE }

    { 1240030036;2;Field  ;
                SourceExpr=Origin }

    { 1240030074;2;Field  ;
                SourceExpr="Country of Origin ISO 2 Char";
                Visible=FALSE }

    { 1240030076;2;Field  ;
                SourceExpr="Preference Criteria";
                Visible=FALSE }

    { 1240030078;2;Field  ;
                SourceExpr="Producer of Good Indicator";
                Visible=FALSE }

    { 1240030080;2;Field  ;
                SourceExpr="RVC in Net Cost Method";
                Visible=FALSE }

    { 1240030016;2;Field  ;
                SourceExpr="Schedule B Quantity 1" }

    { 1240030018;2;Field  ;
                SourceExpr="Schedule B Unit of Measure 1" }

    { 1240030020;2;Field  ;
                SourceExpr="Schedule B Quantity 2";
                Visible=FALSE }

    { 1240030022;2;Field  ;
                SourceExpr="Schedule B Unit of Measure 2";
                Visible=FALSE }

    { 1240030014;2;Field  ;
                SourceExpr="Value USD" }

    { 1240030024;2;Field  ;
                SourceExpr="Weight (KGS)" }

    { 1240030032;2;Field  ;
                SourceExpr=Weight;
                Visible=FALSE }

    { 1240030038;2;Field  ;
                SourceExpr="Entered By";
                Editable=FALSE }

    { 1240030040;2;Field  ;
                SourceExpr="Date Entered";
                Editable=FALSE }

    { 1240030042;2;Field  ;
                SourceExpr="Source Quantity" }

    { 1240030044;2;Field  ;
                SourceExpr="Source Unit of Measure" }

    { 1240030072;2;Field  ;
                SourceExpr="Source Quantity (Base)";
                Visible=FALSE;
                Editable=FALSE }

    { 1240030068;2;Field  ;
                SourceExpr="Source Unit of Measure (Base)";
                Visible=FALSE }

    { 1240030082;2;Field  ;
                SourceExpr="Source Type";
                Visible=FALSE }

    { 1240030084;2;Field  ;
                SourceExpr="Source SubType";
                Visible=FALSE }

    { 1240030050;2;Field  ;
                SourceExpr="Source ID" }

    { 1240030066;2;Field  ;
                SourceExpr="Country of Origin Code";
                Visible=FALSE }

    { 1240030052;2;Field  ;
                SourceExpr="Export License Required" }

    { 1240030054;2;Field  ;
                SourceExpr="Used Vehicle" }

    { 1240030056;2;Field  ;
                SourceExpr="Used Vehicle ID Type";
                Visible=FALSE }

    { 1240030058;2;Field  ;
                SourceExpr="Used Vehicle ID";
                Visible=FALSE }

    { 1240030060;2;Field  ;
                SourceExpr="Used Vehicle Title";
                Visible=FALSE }

    { 1240030062;2;Field  ;
                SourceExpr="Used Vehicle Title State";
                Visible=FALSE }

    { 1240030000;2;Field  ;
                SourceExpr="Export Document No.";
                Visible=FALSE;
                Editable=FALSE }

    { 1900000007;0;Container;
                ContainerType=FactBoxArea }

    { 1903317707;1;Part   ;
                SubPageLink=Export Document No.=FIELD(Export Document No.),
                            Line No.=FIELD(Line No.),
                            Type=FIELD(Type),
                            No.=FIELD(No.),
                            Variant Code=FIELD(Variant Code);
                PagePartID=Page14050149;
                Visible=TRUE;
                PartType=Page }

  }
  CODE
  {
    VAR
      PackingControl@1240030000 : Record 14000717;
      Text001@1240030002 : TextConst 'ENU=%1 %2 does not exist.';
      Text002@1240030001 : TextConst 'ENU=Select Show Document to see %1.';

    PROCEDURE ViewPackages@1();
    VAR
      Package@1240030000 : Record 14000701;
    BEGIN
      IF "Source Type" IN [DATABASE::Package,DATABASE::"Posted Package"] THEN
        ERROR(Text002,Package.TABLECAPTION);

      Package.RESET;
      Package.SETCURRENTKEY("Source Type","Source Subtype","Source ID");
      Package.SETRANGE("Source Type","Source Type");
      Package.SETRANGE("Source Subtype","Source SubType");
      Package.SETRANGE("Source ID","Source ID");
      PAGE.RUNMODAL(0,Package);
    END;

    PROCEDURE ViewPostedPackages@2();
    VAR
      PostedPackage@1240030000 : Record 14000704;
    BEGIN
      IF "Source Type" IN [DATABASE::Package,DATABASE::"Posted Package"] THEN
        ERROR(Text002,PostedPackage.TABLECAPTION);

      PostedPackage.RESET;
      PostedPackage.SETCURRENTKEY("Source Type","Source Subtype","Source ID");
      PostedPackage.SETRANGE("Source Type","Source Type");
      PostedPackage.SETRANGE("Source Subtype","Source SubType");
      PostedPackage.SETRANGE("Source ID","No.");
      PAGE.RUNMODAL(0,PostedPackage);
    END;

    PROCEDURE ViewDocument@3();
    VAR
      Package@1240030001 : Record 14000701;
      PostedPackage@1240030000 : Record 14000704;
    BEGIN
      IF "Source Type" IN [DATABASE::Package,DATABASE::"Posted Package"] THEN BEGIN
        IF Package.GET("Source ID") THEN
          PAGE.RUNMODAL(PAGE::Package,Package)
        ELSE
          IF PostedPackage.GET("Source ID") THEN
            PAGE.RUNMODAL(PAGE::"Posted Package",PostedPackage)
          ELSE
            ERROR(Text001,Package.TABLECAPTION,"Source ID");
      END ELSE
        PackingControl.ViewSourceDocument(FALSE,'',"Source Type","Source SubType","Source ID");
    END;

    BEGIN
    END.
  }
}

