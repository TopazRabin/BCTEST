OBJECT XMLport 50011 VendLedgToPurchJnl
{
  OBJECT-PROPERTIES
  {
    Date=07/01/20;
    Time=12:00:00 AM;
    Modified=Yes;
    Version List=TOP190;
  }
  PROPERTIES
  {
    OnInitXMLport=BEGIN
                    BatchNo:='DEFAULT';
                    BatchTemplate:='PURCHASES';
                    LineNo:=0;
                  END;

    Format=Variable Text;
    FieldDelimiter=<None>;
    FieldSeparator=<TAB>;
  }
  ELEMENTS
  {
    { [{DC88B17D-D72C-4B4F-A7EE-59426B22A415}];  ;ROOT                ;Element ;Text     }

    { [{B74BFC03-0ECE-4A54-AD05-A9628A62BA18}];1 ;GenJnl              ;Element ;Table   ;
                                                  SourceTable=Table81;
                                                  Import::OnAfterInitRecord=BEGIN
                                                                              LineNo+=1000;
                                                                              "Gen. Journal Line".INIT;
                                                                              "Gen. Journal Line"."Journal Template Name":=BatchTemplate;
                                                                              "Gen. Journal Line"."Journal Batch Name":= BatchNo;
                                                                              "Gen. Journal Line"."Line No.":=LineNo;
                                                                              "Gen. Journal Line"."Account Type":="Gen. Journal Line"."Account Type"::Vendor;
                                                                            END;

                                                  Import::OnBeforeInsertRecord=BEGIN
                                                                                 IF "Gen. Journal Line".Amount = 0 THEN
                                                                                   currXMLport.SKIP;
                                                                                 {
                                                                                 IF "Gen. Journal Line"."Document Type" IN ["Gen. Journal Line"."Document Type"::Refund]
                                                                                      THEN
                                                                                   "Gen. Journal Line".VALIDATE(Amount,-"Gen. Journal Line".Amount);
                                                                                 }

                                                                                 IF VendorRec.GET("Gen. Journal Line"."Account No.") THEN BEGIN
                                                                                   IF VendorPostGrp.GET(VendorRec."Vendor Posting Group") THEN BEGIN
                                                                                     "Gen. Journal Line"."Bal. Account Type":=BalAcctType;
                                                                                     "Gen. Journal Line".VALIDATE("Bal. Account No.",VendorPostGrp."Payables Account");
                                                                                   END;
                                                                                 END;
                                                                               END;
                                                                                }

    { [{D62B0CAC-7D49-483C-8639-F9B30C076DD4}];2 ;VendNo              ;Attribute;Field  ;
                                                  DataType=Code;
                                                  SourceField=Gen. Journal Line::Account No. }

    { [{259382B4-C4F9-4C75-8CDB-2D3321B2AD93}];2 ;PostingDate         ;Attribute;Field  ;
                                                  DataType=Date;
                                                  SourceField=Gen. Journal Line::Posting Date }

    { [{5DEA6E0D-6CCA-4C0D-8166-EC612C70D320}];2 ;DocType             ;Attribute;Field  ;
                                                  DataType=Option;
                                                  SourceField=Gen. Journal Line::Document Type }

    { [{43633E56-26D8-4D36-992D-BCE9DBFF6637}];2 ;DocNo               ;Attribute;Field  ;
                                                  DataType=Code;
                                                  SourceField=Gen. Journal Line::Document No. }

    { [{A66D20AD-66D8-4848-B21F-7F460A031971}];2 ;Desc                ;Attribute;Field  ;
                                                  DataType=Text;
                                                  SourceField=Gen. Journal Line::Description }

    { [{ED94B0F0-3958-47CC-9123-E57FAE4A26C5}];2 ;Amount              ;Attribute;Field  ;
                                                  DataType=Decimal;
                                                  SourceField=Gen. Journal Line::Amount }

    { [{30924C24-DB50-440E-A555-C1E8D73BA415}];2 ;VendPostGroup       ;Attribute;Text    }

    { [{C82B61D3-33D7-481C-A67F-CFE911507986}];2 ;GlobalDim1          ;Attribute;Text    }

    { [{2D8F35E2-721D-486F-A782-C011B77B4C70}];2 ;GlobalDim2          ;Attribute;Text    }

    { [{F320E6E9-F8E0-4201-9CBB-4EF76C1468B0}];2 ;DueDate             ;Attribute;Field  ;
                                                  DataType=Date;
                                                  SourceField=Gen. Journal Line::Due Date }

    { [{27BD9182-D8EA-4B45-8FDB-B9FBADF8FA68}];2 ;PmtDiscDate         ;Attribute;Field  ;
                                                  DataType=Date;
                                                  SourceField=Gen. Journal Line::Pmt. Discount Date }

    { [{ED4D9411-6A00-4B80-B7B9-AB79BCCDBE5F}];2 ;ReasonCode          ;Attribute;Field  ;
                                                  DataType=Code;
                                                  SourceField=Gen. Journal Line::Reason Code }

    { [{26FD8747-37E7-4018-8560-E65574425A08}];2 ;BalAcctTypeVLE      ;Attribute;Text    }

    { [{0A5DE8AF-113A-4B16-A3AF-FC14C675FD00}];2 ;BalAcctNoVLE        ;Attribute;Text    }

    { [{D951F6D7-D120-4882-ABA8-BF99E5C38396}];2 ;DocDate             ;Attribute;Field  ;
                                                  DataType=Date;
                                                  SourceField=Gen. Journal Line::Document Date }

    { [{6FD79031-047A-4836-B614-3A2E737F87D5}];2 ;ExtDocNo            ;Attribute;Field  ;
                                                  DataType=Code;
                                                  SourceField=Gen. Journal Line::External Document No. }

    { [{9DC97BE4-16E6-425E-BDAF-08F6E41857B9}];2 ;IRS1099Code         ;Attribute;Field  ;
                                                  DataType=Code;
                                                  SourceField=Gen. Journal Line::IRS 1099 Code }

    { [{E2F31970-FB6C-4E83-BA87-6796F6985686}];2 ;IRS1099Amount       ;Attribute;Field  ;
                                                  DataType=Decimal;
                                                  SourceField=Gen. Journal Line::IRS 1099 Amount }

  }
  EVENTS
  {
  }
  REQUESTPAGE
  {
    PROPERTIES
    {
    }
    CONTROLS
    {
      { 1000000000;;Container;
                  Name=options;
                  ContainerType=ContentArea }

      { 1000000001;1;Field  ;
                  CaptionML=ENU=Batch No;
                  SourceExpr=BatchNo;
                  TableRelation="Gen. Journal Batch".Name WHERE (Journal Template Name=FILTER(PURCHASES)) }

      { 1000000002;1;Field  ;
                  CaptionML=ENU=Bal. Acct. Type;
                  SourceExpr=BalAcctType }

      { 1000000003;1;Field  ;
                  CaptionML=ENU=Bal. Acct. No.;
                  SourceExpr=BalAcctNo }

    }
  }
  CODE
  {
    VAR
      BatchNo@1000000000 : Code[10];
      BatchTemplate@1000000001 : Code[10];
      LineNo@1000000002 : Integer;
      BalAcctNo@1000000003 : Code[20];
      BalAcctType@1000000004 : 'G/L Account,Customer,Vendor,Bank Account,Fixed Asset,IC Partner';
      Amount2Dec@1000000005 : Decimal;
      Amount4Dec@1000000006 : Decimal;
      VendorRec@1000000007 : Record 23;
      VendorPostGrp@1000000008 : Record 93;

    BEGIN
    END.
  }
}

