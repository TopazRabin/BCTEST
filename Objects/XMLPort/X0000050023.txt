OBJECT XMLport 50023 ImportWhseJnl-Bins
{
  OBJECT-PROPERTIES
  {
    Date=07/01/20;
    Time=12:00:00 AM;
    Modified=Yes;
    Version List=TOP190,TPZHOTFIX;
  }
  PROPERTIES
  {
    PreserveWhiteSpace=Yes;
    TextEncoding=UTF-8;
    OnInitXMLport=BEGIN
                    WhseJnlTemplateName := 'ITEM';
                    WhseJnlBatchName := 'DEFAULT';
                    DocumentNo := 'OPEN';
                    PostingDate := 063015D;
                  END;

    OnPostXMLport=BEGIN
                    MESSAGE('DONE');
                  END;

    Format=Variable Text;
    FieldDelimiter=<None>;
    FieldSeparator=<TAB>;
  }
  ELEMENTS
  {
    { [{2E685AC5-1B3E-47E6-B065-93C6E719DDC8}];  ;ROOT                ;Element ;Text     }

    { [{38669EDA-EFB4-4FBF-A3AE-3077FF9FC79F}];1 ;WhseItemJnl         ;Element ;Table   ;
                                                  SourceTable=Table7311;
                                                  Import::OnAfterInitRecord=BEGIN
                                                                              "Warehouse Journal Line"."Journal Template Name" := WhseJnlTemplateName;
                                                                              "Warehouse Journal Line"."Journal Batch Name":= WhseJnlBatchName;
                                                                              "Warehouse Journal Line"."Location Code" := LocationCode;
                                                                              LineNo := LineNo + 10000;
                                                                              "Warehouse Journal Line"."Line No." := LineNo;
                                                                              "Warehouse Journal Line"."Whse. Document No." := DocumentNo;
                                                                            END;

                                                  Import::OnBeforeInsertRecord=BEGIN
                                                                                 "Warehouse Journal Line".VALIDATE("Registering Date",PostingDate);
                                                                                 IF NOT
                                                                                      BinContent.GET(
                                                                                        LocationCode,
                                                                                        BinCode,
                                                                                        "Warehouse Journal Line"."Item No.",
                                                                                        '',
                                                                                        'PCS')
                                                                                 THEN BEGIN
                                                                                   BinContent.INIT;
                                                                                   BinContent."Bin Code" := BinCode;
                                                                                   BinContent."Location Code" := LocationCode;
                                                                                   BinContent."Item No." := "Warehouse Journal Line"."Item No.";
                                                                                   BinContent."Unit of Measure Code" := 'PCS';
                                                                                   BinContent."Qty. per Unit of Measure" := 1;
                                                                                   BinContent."Zone Code" := 'PICKPUT';
                                                                                   BinContent."Bin Type Code" := 'PICKPUT';
                                                                                   BinContent.INSERT(TRUE);
                                                                                 END;
                                                                                 "Warehouse Journal Line".VALIDATE("Bin Code",BinCode);
                                                                               END;
                                                                                }

    { [{1D932EB0-E54D-4D98-92FD-A0C915B26AE5}];2 ;ItemNo              ;Element ;Field   ;
                                                  DataType=Code;
                                                  SourceField=Warehouse Journal Line::Item No. }

    { [{BB0DB15F-1632-4F51-ACAA-7C39DFE1BA6E}];2 ;BinCode             ;Element ;Text     }

    { [{1AD85154-8C4A-49C0-B580-3FD7A5577F49}];2 ;Qty                 ;Element ;Field   ;
                                                  DataType=Decimal;
                                                  FieldValidate=Yes;
                                                  SourceField=Warehouse Journal Line::Quantity }

  }
  EVENTS
  {
  }
  REQUESTPAGE
  {
    PROPERTIES
    {
    }
    CONTROLS
    {
      { 1000000000;;Container;
                  Name=options;
                  ContainerType=ContentArea }

      { 1000000001;1;Field  ;
                  CaptionML=ENU=Whse Jnl. Batch Name;
                  SourceExpr=WhseJnlBatchName;
                  TableRelation="Warehouse Journal Batch".Name WHERE (Journal Template Name=FILTER(ITEM)) }

      { 1000000004;1;Field  ;
                  CaptionML=ENU=Location Code;
                  SourceExpr=LocationCode;
                  TableRelation="Warehouse Journal Batch"."Location Code" WHERE (Journal Template Name=CONST(ITEM)) }

      { 1000000002;1;Field  ;
                  CaptionML=ENU=Posting Date;
                  SourceExpr=PostingDate }

      { 1000000003;1;Field  ;
                  CaptionML=ENU=Document No.;
                  SourceExpr=DocumentNo }

    }
  }
  CODE
  {
    VAR
      Item@1000000012 : Record 27;
      WhseJnlBatch@1000000015 : Record 7310;
      LineNo@1000000000 : Integer;
      WhseJnlTemplateName@1000000001 : Code[10];
      WhseJnlBatchName@1000000002 : Code[10];
      PostingDate@1000000003 : Date;
      DocumentNo@1000000004 : Code[20];
      LocRec@1000000005 : Record 14;
      ItemJnlLine@1000000006 : Record 83;
      LocationMapping@1000000007 : Record 50009;
      IJB@1000000008 : Record 233;
      EvalUnitCost@1000000009 : Decimal;
      AssignDefBin@1000000010 : Boolean;
      BinRec@1000000011 : Record 7354;
      BinContent@1000000013 : Record 7302;
      WhseJournalBatch@1000000016 : Record 7310;
      LocationCode@1000000017 : Code[10];

    BEGIN
    END.
  }
}

