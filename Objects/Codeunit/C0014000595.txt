OBJECT Codeunit 14000595 DP Upgrade Mgt.
{
  OBJECT-PROPERTIES
  {
    Date=06/01/19;
    Time=12:00:00 PM;
    Version List=UBP3.01;
  }
  PROPERTIES
  {
    Permissions=TableData 14=rimd,
                TableData 18=rimd,
                TableData 27=rimd,
                TableData 32=rimd,
                TableData 36=rimd,
                TableData 37=rimd,
                TableData 38=rimd,
                TableData 39=rimd,
                TableData 94=rimd,
                TableData 110=rimd,
                TableData 111=rimd,
                TableData 112=rimd,
                TableData 113=rimd,
                TableData 115=rimd,
                TableData 120=rimd,
                TableData 121=rimd,
                TableData 122=rimd,
                TableData 123=rimd,
                TableData 222=rimd,
                TableData 5722=rimd,
                TableData 5740=rimd,
                TableData 5741=rimd,
                TableData 5744=rimd,
                TableData 5745=rimd,
                TableData 5746=rimd,
                TableData 6661=rimd;
    OnRun=BEGIN
          END;

  }
  CODE
  {

    PROCEDURE OnCheckPreconditionsPerDatabase@1240020000();
    BEGIN
    END;

    PROCEDURE OnCheckPreconditionsPerCompany@1240020001();
    BEGIN
    END;

    PROCEDURE OnNavAppUpgradePerDatabase@1100084000();
    BEGIN
    END;

    PROCEDURE OnNavAppUpgradePerCompany@1100084001();
    BEGIN
      // Standard Tables, App Fields
      RestoreFieldsInStandardTables(70000,79999);
      RestoreFieldsInStandardTables(14000000,14999999);

      // App Tables
      RestoreAppTables(14000000,14999999);
      RestoreAppTables(70000,79999);
    END;

    PROCEDURE OnValidateUpgradePerDatabase@1240020002();
    BEGIN
    END;

    PROCEDURE OnValidateUpgradePerCompany@1240020003();
    BEGIN
    END;

    LOCAL PROCEDURE RestoreFieldsInStandardTables@1100084005(FromField@1100084004 : Integer;ToField@1100084005 : Integer);
    VAR
      Field@1100084001 : Record 2000000041;
      AllObj@1100084000 : Record 2000000038;
    BEGIN
      AllObj.SETRANGE("Object Type",  AllObj."Object Type"::Table);
      AllObj.SETFILTER("Object ID", '14|18|27|32|36|37|38|39|94|110|111|112|113|115|120|121|122|123|222|5722|5740|5741|5744|5746|5745|5746|6661');
      IF AllObj.FINDSET THEN
      REPEAT
        Field.SETRANGE(TableNo, AllObj."Object ID");
        Field.SETRANGE("No.", FromField, ToField);
        IF NOT Field.ISEMPTY THEN BEGIN
          //NAVAPP.RESTOREARCHIVEDATA(AllObj."Object ID");
        END;
      UNTIL AllObj.NEXT = 0;
    END;

    LOCAL PROCEDURE RestoreAppTables@1100084006(FromTableID@1100084003 : Integer;ToTableID@1100084004 : Integer);
    VAR
      AllObj@1100084005 : Record 2000000038;
    BEGIN
      AllObj.SETRANGE("Object Type", AllObj."Object Type"::Table);
      AllObj.SETRANGE("Object ID", FromTableID,ToTableID);
      IF AllObj.FINDSET THEN
      REPEAT
        //NAVAPP.RESTOREARCHIVEDATA(AllObj."Object ID");
      UNTIL AllObj.NEXT = 0;
    END;

    BEGIN
    END.
  }
}

