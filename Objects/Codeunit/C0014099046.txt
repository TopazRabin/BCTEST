OBJECT Codeunit 14099046 RF Upgrade Codeunit
{
  OBJECT-PROPERTIES
  {
    Date=08/21/18;
    Time=12:00:00 PM;
    Version List=RF1.50.13;
  }
  PROPERTIES
  {
    Subtype=Upgrade;
    OnRun=BEGIN
          END;

  }
  CODE
  {

    [TableSyncSetup]
    PROCEDURE PrepareData@1240020001(VAR TableSynchSetup@1240020000 : Record 2000000135);
    VAR
      DataUpgradeMgt@1240020001 : Codeunit 9900;
    BEGIN
      DataUpgradeMgt.SetTableSyncSetup(
        DATABASE::"Warehouse Setup",DATABASE::"RF UPG Tbl Warehouse Setup",TableSynchSetup.Mode::Copy);

      DataUpgradeMgt.SetTableSyncSetup(
        DATABASE::Location,DATABASE::"RF UPG Tbl Location",TableSynchSetup.Mode::Copy);
    END;

    [UpgradePerCompany]
    PROCEDURE UpgradeData@1240020002();
    VAR
      RFLocationSetup@1240020001 : Record 14099031;
      RFUPGTblLocation@1240020002 : Record 14099034;
      RFSetup@1240020000 : Record 14002801;
      RFUPGTblWhseSetup@1240020003 : Record 14099033;
    BEGIN
      IF RFUPGTblWhseSetup.FINDSET THEN BEGIN
        IF NOT RFSetup.GET THEN BEGIN
          RFSetup.INIT;
          RFSetup."Enable RF" := RFUPGTblWhseSetup."Enable RF";
          IF NOT RFSetup.INSERT THEN RFSetup.MODIFY;
        END ELSE
          RFSetup."Enable RF" := RFUPGTblWhseSetup."Enable RF";

        RFSetup."Delete Shipment Lines Handled" := RFUPGTblWhseSetup."Delete Shipment Lines Handled";
        RFSetup."Warehouse Item Tracking" := RFUPGTblWhseSetup."Warehouse Item Tracking";
        RFSetup."Optimize Unit of Meas. Picking" := RFUPGTblWhseSetup."Optimize Unit of Meas. Picking";
        RFSetup."Auto Delete Warehouse Shipment" := RFUPGTblWhseSetup."Auto Delete Warehouse Shipment";
        RFSetup."ADCS Plugin Type" := RFUPGTblWhseSetup."ADCS Plugin Type";
        RFSetup."Show WMS Fields on Whse. Docs." := RFUPGTblWhseSetup."Show WMS Fields on Whse. Docs.";
        RFSetup."Show Lot No. on Whse. Docs." := RFUPGTblWhseSetup."Show Lot No. on Whse. Docs.";
        RFSetup."Show Ser. No. on Whse. Docs." := RFUPGTblWhseSetup."Show Ser. No. on Whse. Docs.";
        RFSetup.MODIFY;
      END;

      IF RFUPGTblLocation.FINDSET THEN BEGIN
        REPEAT
          RFLocationSetup.RESET;
          IF NOT RFLocationSetup.GET(RFUPGTblLocation.Code) THEN BEGIN
            RFLocationSetup.INIT;
            RFLocationSetup.Code := RFUPGTblLocation.Code;
            IF RFUPGTblLocation.Name <> '' THEN
              RFLocationSetup.Description := RFUPGTblLocation.Name
            ELSE
              RFLocationSetup.Description := RFUPGTblLocation.Code + ' Location';
            RFLocationSetup.INSERT(TRUE);
          END;

          RFLocationSetup."Use License Plating" := RFUPGTblLocation."Use License Plating";
          RFLocationSetup."Initial LP QA Status" := RFUPGTblLocation."Initial LP QA Status";
          RFLocationSetup."Require LP QA Record" := RFUPGTblLocation."Require Pallet QA Record";
          RFLocationSetup."Create LP Pallets at Receive" := RFUPGTblLocation."Create LP Pallets at Receive";
          RFLocationSetup."Allow Picking from LP" := RFUPGTblLocation."Allow Picking from LP";
          RFLocationSetup."LP Pallet Adjustment Bin" := RFUPGTblLocation."Pallet Adjustment Bin";
          RFLocationSetup."Use FIFO Pick Takes (LP)" := RFUPGTblLocation."Use FIFO Pick Takes (LP)";
          RFLocationSetup."Use FIFO Replen Takes (LP)" := RFUPGTblLocation."Use FIFO Replen Takes (LP)";
          RFLocationSetup."Strict LP Pallet Bins" := RFUPGTblLocation."Strict Pallet Bins";
          RFLocationSetup.MODIFY;
        UNTIL RFUPGTblLocation.NEXT = 0;
      END;
    END;

    BEGIN
    END.
  }
}

