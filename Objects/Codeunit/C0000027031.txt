OBJECT Codeunit 27031 Update SAT Payment Catalogs
{
  OBJECT-PROPERTIES
  {
    Date=05/31/19;
    Time=12:00:00 PM;
    Version List=NAVNA11.00.00.33015;
  }
  PROPERTIES
  {
    OnRun=BEGIN
            IF SATPaymentTermsCorrect THEN
              EXIT;

            SwapSATPaymentCatalogs;
          END;

  }
  CODE
  {

    LOCAL PROCEDURE SwapSATPaymentCatalogs@1310001();
    VAR
      PaymentTerms@1310002 : Record 3;
      PaymentMethod@1310003 : Record 289;
      SATPaymentMethod@1310000 : Record 27018;
      SATPaymentTerm@1310001 : Record 27017;
      TempSATPaymentTerm@1310004 : TEMPORARY Record 27017;
    BEGIN
      IF SATPaymentMethod.ISEMPTY AND SATPaymentTerm.ISEMPTY THEN
        EXIT;

      PaymentMethod.MODIFYALL("SAT Method of Payment",'');
      PaymentTerms.MODIFYALL("SAT Payment Term",'');

      IF SATPaymentTerm.FINDSET THEN
        REPEAT
          TempSATPaymentTerm := SATPaymentTerm;
          TempSATPaymentTerm.INSERT;
        UNTIL SATPaymentTerm.NEXT = 0;
      SATPaymentTerm.DELETEALL;

      IF SATPaymentMethod.FINDSET THEN
        REPEAT
          SATPaymentTerm.TRANSFERFIELDS(SATPaymentMethod);
          SATPaymentTerm.INSERT;
        UNTIL SATPaymentMethod.NEXT = 0;
      SATPaymentMethod.DELETEALL;

      IF TempSATPaymentTerm.FINDSET THEN
        REPEAT
          SATPaymentMethod.TRANSFERFIELDS(TempSATPaymentTerm);
          SATPaymentMethod.INSERT;
        UNTIL TempSATPaymentTerm.NEXT = 0;
      TempSATPaymentTerm.DELETEALL;
    END;

    LOCAL PROCEDURE SATPaymentTermsCorrect@1310000() : Boolean;
    VAR
      SATPaymentTerm@1310000 : Record 27017;
    BEGIN
      EXIT(SATPaymentTerm.GET('PUE'));
    END;

    BEGIN
    END.
  }
}

