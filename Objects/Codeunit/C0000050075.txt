OBJECT Codeunit 50075 Table7354EventSubscribers
{
  OBJECT-PROPERTIES
  {
    Date=07/01/20;
    Time=12:00:00 AM;
    Modified=Yes;
    Version List=TPZ000.00.00;
  }
  PROPERTIES
  {
    OnRun=BEGIN
          END;

  }
  CODE
  {

    [EventSubscriber(Table,7354,OnAfterValidateEvent,"Block Movement")]
    LOCAL PROCEDURE Tb7354_BlockMovement_OnValidate@1000000000(VAR Rec@1000000000 : Record 7354;VAR xRec@1000000001 : Record 7354;CurrFieldNo@1000000002 : Integer);
    VAR
      BinContent@1000000003 : Record 7302;
    BEGIN
      WITH Rec DO BEGIN
        IF "Block Movement" <> xRec."Block Movement" THEN BEGIN
          BinContent.RESET;
          BinContent.SETRANGE("Location Code","Location Code");
          BinContent.SETRANGE("Bin Code",Code);
          //TM BEG 063015
          IF "Block Movement" <> "Block Movement"::" " THEN
            BinContent.MODIFYALL("Bin Blocked On", TODAY)
          ELSE
            BinContent.MODIFYALL("Bin Blocked On", 0D);
          //TM END 063015
        END;
      END;
    END;

    BEGIN
    END.
  }
}

