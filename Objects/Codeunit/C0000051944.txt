OBJECT Codeunit 51944 Codeunit398EventSubscriber
{
  OBJECT-PROPERTIES
  {
    Date=07/01/20;
    Time=12:00:00 AM;
    Modified=Yes;
    Version List=NAVEVENT,TPZ2829;
  }
  PROPERTIES
  {
    OnRun=BEGIN
          END;

  }
  CODE
  {

    PROCEDURE CU398_SetSalesHeader@1000000005(VAR TempSH@1000000000 : Record 36);
    VAR
      SalesHeader@1000000001 : Record 36;
      SalesHeaderRead@1000000002 : Boolean;
      SalesTaxCalculate@1000000003 : Codeunit 398;
      Currency@1000000004 : Record 4;
      ExchangeFactor@1000000005 : Decimal;
    BEGIN
      SalesHeader:=TempSH;
      SalesHeaderRead := TRUE;

      //  SalesHeader.GET(SalesLine."Document Type",SalesLine."Document No.");
        SalesHeaderRead := TRUE;
        SalesHeader.TESTFIELD("Prices Including VAT",FALSE);
        IF NOT SalesTaxCalculate.GetSalesTaxCountry(SalesHeader."Tax Area Code") THEN
          EXIT;
        //SetUpCurrency(SalesHeader."Currency Code");
        //Utkarsh
        IF SalesHeader."Currency Code" = '' THEN
          Currency.InitRoundingPrecision
        ELSE BEGIN
          Currency.GET(SalesHeader."Currency Code");
          Currency.TESTFIELD("Amount Rounding Precision");
        END;
        //Utkarsh
        IF SalesHeader."Currency Code" <> '' THEN
          SalesHeader.TESTFIELD("Currency Factor");
        IF SalesHeader."Currency Factor" = 0 THEN
          ExchangeFactor := 1
        ELSE
          ExchangeFactor := SalesHeader."Currency Factor";
      //  CopyTaxDifferencesToTemp(
      //    TaxAmountDifference."Document Product Area"::Sales,
      //    SalesLine."Document Type",
      //    SalesLine."Document No.");
    END;

    BEGIN
    END.
  }
}

