OBJECT Codeunit 51934 Report7318EventSubscriber
{
  OBJECT-PROPERTIES
  {
    Date=07/27/20;
    Time=10:31:15 AM;
    Modified=Yes;
    Version List=NAVEVENT;
  }
  PROPERTIES
  {
    OnRun=BEGIN
          END;

  }
  CODE
  {

    [EventSubscriber(Codeunit,51933,RT7318_OnPostReport)]
    LOCAL PROCEDURE RT7318_OnPostReport@1000000000(VAR Sender@1000000000 : Codeunit 51933;VAR WhseActivHeader@1000000001 : Record 5766;VAR WhseRequest@1000000002 : Record 5765);
    VAR
      TempWhseItemTrkgLine@1000000007 : TEMPORARY Record 6550;
      ItemTrackingMgt@1000000006 : Codeunit 6500;
      OutWhseReqMgt@1000000004 : Codeunit 14002863;
      WhseActivLine@1000000003 : Record 5767;
    BEGIN
      //<TPZ1774>
      WhseActivLine.SETCURRENTKEY("Source No.", "Activity Type", "No.");
      WhseActivLine.SETRANGE("No.", WhseActivHeader."No.");
      IF WhseActivLine.FIND('-') THEN
      REPEAT
        WhseActivLine.SETRANGE("Source No.", WhseActivLine."Source No.");
        WhseActivLine.FIND('+');
        IF (WhseActivLine."Source No." <> '') AND (WhseActivLine."Source Type" <> 0) THEN BEGIN
          IF WhseRequest.GET(WhseRequest.Type::Outbound, WhseActivLine."Location Code", WhseActivLine."Source Type",
                              WhseActivLine."Source Subtype", WhseActivLine."Source No.") THEN BEGIN
            OutWhseReqMgt.SetWhseActivStatusToPickCreated(WhseRequest);
            WhseRequest.MODIFY;
          END;
        END;
        WhseActivLine.SETRANGE("Source No.");
      UNTIL WhseActivLine.NEXT = 0;
      //</TPZ1774>
      //>>TPZ2781
      WhseActivHeader."Pick Type" := WhseRequest."Pick Type";
      WhseActivHeader."Shipping Method" := WhseRequest."Shipping Method";
      WhseActivHeader."Number of Lines" := WhseRequest."Number of Lines";
      //<<TPZ2781  PSHUKLA
    END;

    BEGIN
    {
      TPZ2830 PKS 07222020 New object created
    }
    END.
  }
}

